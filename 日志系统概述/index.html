<!DOCTYPE html><html lang="zh-cn"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="pineapple-man"><title>æ—¥å¿—ç³»ç»Ÿæ¦‚è¿° - pineapple-man</title><meta name="author" content="pineapple-man"><meta name="keywords" content="æ—¥å¿—ç³»ç»Ÿ"><link rel="icon" href="https://pineapple-man.github.io/assets/images/logo.svg"><script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"pineapple-man","sameAs":["https://github.com/pineapple-man","mailto://mingchaohu720@gmail.com"],"image":"logo.png"},"articleBody":"\nÂ¶æ—¥å¿—æ¦‚è¿°\nâ“ä¸ºä»€ä¹ˆéœ€è¦æ—¥å¿—ï¼Ÿ\nåœ¨å¾ˆå¤šçš„æƒ…å†µä¸‹ï¼Œæ—¥å¿—å¯èƒ½æ˜¯æˆ‘ä»¬äº†è§£åº”ç”¨å¦‚ä½•æ‰§è¡Œçš„å”¯ä¸€æ–¹å¼ï¼Œæ‰€ä»¥å­¦ä¹ æ—¥å¿—éå¸¸æœ‰å¿…è¦ã€‚æ›´ä½•å†µå‘å±•åˆ°ä»Šå¤©çš„è½¯ä»¶ç³»ç»Ÿå·²ç»éå¸¸å¤æ‚ï¼Œç‰¹åˆ«æ—¶æœåŠ¡å™¨çš„è½¯ä»¶ï¼Œè®¾è®¡åˆ°çš„çŸ¥è¯†å’Œå†…å®¹é—®é¢˜éå¸¸çš„å¤šï¼Œæœ‰äº†æ—¥å¿—æ‰èƒ½å¤Ÿæ›´æ–¹ä¾¿äº†è§£ç³»ç»Ÿè¿è¡Œè¿‡ç¨‹ä¸­å‡ºç°çš„ç§ç§é—®é¢˜ã€‚é€šè¿‡æ—¥å¿—å¯ä»¥å¤„ç†å†å²æ•°æ®ã€è¯Šæ–­é—®é¢˜çš„è¿½è¸ªä»¥åŠç†è§£ç³»ç»Ÿçš„æ´»åŠ¨ã€‚\n\næ ¹æ®æ—¥å¿—è®°å½•çš„å†…å®¹ä¸é€šï¼Œå¯ä»¥äººä¸ºçš„å°†æ—¥å¿—åˆ†ä¸ºä¸¤ç§ç±»å‹çš„æ—¥å¿—ï¼šè°ƒè¯•æ—¥å¿—å’Œç³»ç»Ÿæ—¥å¿—\nåœ¨è½¯ä»¶å¼€å‘ä¸­ï¼Œéœ€è¦ç»å¸¸çš„è°ƒè¯•ç¨‹åºï¼Œæˆ–è€…åšä¸€äº›çŠ¶æ€çš„è¾“å‡ºï¼Œä¾¿äºæˆ‘ä»¬æŸ¥è¯¢ç¨‹åºçš„è¿è¡ŒçŠ¶å†µï¼Œä¸ºäº†è®©æˆ‘ä»¬èƒ½å¤Ÿæ›´åŠ çµæ´»ä¸”æ–¹ä¾¿çš„æ§åˆ¶è¿™äº›è°ƒè¯•ä¿¡æ¯ï¼Œæˆ‘ä»¬è‚¯å®šæ˜¯éœ€è¦æ›´åŠ ä¸“ä¸šçš„æ—¥å¿—æŠ€æœ¯ã€‚æˆ‘ä»¬å¹³æ—¶åœ¨è°ƒè¯•ç¨‹åºçš„è¿‡ç¨‹ä¸­æ‰€ä½¿ç”¨çš„è‚¯å®šå°±æ˜¯ä¸“ä¸šå¼€å‘å·¥å…·è‡ªå¸¦çš„ debug åŠŸèƒ½ï¼Œå¯ä»¥å®æ—¶æŸ¥çœ‹ç¨‹åºè¿è¡Œæƒ…å†µï¼Œä¸èƒ½å¤Ÿæœ‰æ•ˆä¿å­˜è¿è¡Œæƒ…å†µçš„ä¿¡æ¯ã€‚è°ƒè¯•æ—¥å¿—æ˜¯èƒ½å¤Ÿæ›´åŠ æ–¹ä¾¿çš„å»ã€Œ é‡ç° ã€è¿™äº›é—®é¢˜\n\nç³»ç»Ÿæ—¥å¿—æ˜¯å®é™…ç”Ÿäº§ç¯å¢ƒä¸­æœ€å¸¸ä½¿ç”¨çš„æ—¥å¿—ï¼Œç»å¸¸ç”¨æ¥è®°å½•ç³»ç»Ÿä¸­ç¡¬ä»¶ã€è½¯ä»¶å’Œç³»ç»Ÿç›¸å…³é—®é¢˜çš„ä¿¡æ¯ï¼ŒåŒæ—¶è¿˜å¯ä»¥ç›‘è§†ç³»ç»Ÿä¸­å‘ç”Ÿçš„äº‹ä»¶ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡å®ƒæ¥æ£€æŸ¥é”™è¯¯å‘ç”Ÿçš„åŸå› ï¼Œæˆ–è€…å¯»æ‰¾åˆ°æ”»å‡»æ—¶ç•™ä¸‹çš„ç—•è¿¹ã€‚ç³»ç»Ÿæ—¥å¿—åŒ…æ‹¬ç³»ç»Ÿè¿è¡Œæ—¥å¿—ã€åº”ç”¨æ—¥å¿—å’Œå®‰å…¨æ—¥å¿—è¿™å‡ ç§\n\nÂ¶æ—¥å¿—ä½“ç³»æ¦‚è¿°\nåœ¨ Java ä¸­ä¸€ç›´ç§‰æŒç€é¢å‘æ¥å£ç¼–ç¨‹ï¼Œæ‰€ä»¥ä»»ä½•ä¼˜ç§€çš„æ¡†æ¶ä¸€å®šæ˜¯å…ˆå­˜åœ¨æ¥å£ï¼Œè€Œåå†æ˜¯æ ¹æ®è¿™äº›æ¥å£åšåˆ°ä¸åŒçš„å®ç°ï¼ŒJava æ—¥å¿—ä½“ç³»å¦‚ä¸‹å›¾ï¼š\n\nJava ä¸­ç›¸å…³çš„æ—¥å¿—é—¨é¢ç³»ç»Ÿæ¦‚è¿°å¦‚ä¸‹ï¼š\n\n\n\næ¥å£\nå«ä¹‰\n\n\n\n\nJCL\nJava Commons Logginï¼ŒApache åŸºâ¾¦ä¼šæ‰€å±çš„é¡¹â½¬ï¼Œæ˜¯â¼€å¥— Java â½‡å¿—æ¥â¼\n\n\nSLF4J\nSimple Logging Facade for Javaï¼Œæ˜¯ä¸€å¥—ç®€å•çš„ Java æ—¥å¿—é—¨é¢ï¼Œåªæä¾›ç›¸å…³æ¥å£ï¼Œå’Œå…¶ä»–æ—¥å¿—ä¹‹é—´éœ€è¦æ¡¥æ¥\n\n\n\né—¨é¢å…¶å®å°±æ˜¯è¡¨ç¤ºï¼Œè¿™æ˜¯ä¸€å¥—æ¥å£ï¼Œå¹¶æ²¡æœ‰ç»™å‡º Java æ—¥å¿—çš„å…·ä½“å®ç°æ–¹å¼ï¼Œå…¶ä¸­æ‰€è¯´çš„æ¡¥æ¥ï¼ŒæŒ‡çš„æ˜¯æ¡¥æ¥æ¨¡å¼\n\nâ“ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ—¥å¿—é—¨é¢æŠ€æœ¯\næ¯ä¸€ç§æ—¥å¿—æ¡†æ¶éƒ½æœ‰è‡ªå·±å•ç‹¬çš„ APIï¼Œè¦ä½¿ç”¨å¯¹åº”çš„æ¡†æ¶å°±è¦ä½¿ç”¨å¯¹åº”çš„ APIï¼Œè¿™å°±å¤§å¤§çš„å¢åŠ äº†åº”ç”¨ç¨‹åºä»£ç å¯¹äºæ—¥å¿—æ¡†æ¶çš„è€¦åˆæ€§ã€‚ä½¿ç”¨æ—¥å¿—é—¨é¢æŠ€æœ¯ä¹‹åï¼Œå¯¹äºåº”ç”¨ç¨‹åºæ¥è¯´ï¼Œæ— è®ºåº•å±‚çš„æ—¥å¿—æ¡†æ¶å¦‚ä½•æ”¹å˜ï¼Œåº”ç”¨ç¨‹åºä¸éœ€è¦ä¿®æ”¹ä»»ä½•ä¸€è¡Œä»£ç å°±å¯ä»¥ä¸Šçº¿è¿è¡Œ\n\nJava ä¸­ç›¸å…³çš„æ—¥å¿—å®ç°æ¦‚è¿°å¦‚ä¸‹ï¼š\n\n\n\næ—¥å¿—å®ç°\nå«ä¹‰\n\n\n\n\nJUL\nJDK ä¸­çš„â½‡å¿—â¼¯å…·\n\n\nLog4j\nâ¾ªå±äº Apache åŸºâ¾¦ä¼šçš„â¼€å¥—â½‡å¿—æ¡†æ¶ï¼Œç°å·²ä¸å†ç»´æŠ¤\n\n\nLog4j2\nLog4j çš„å‡çº§ç‰ˆæœ¬ï¼Œä¸ Log4j å˜åŒ–å¾ˆâ¼¤ï¼Œä¸å…¼å®¹\n\n\nLogback\nâ¼€ä¸ªå…·ä½“çš„â½‡å¿—å®ç°æ¡†æ¶ï¼Œå’Œ Slf4j æ˜¯åŒâ¼€ä¸ªä½œè€…ï¼Œæ€§èƒ½å¾ˆå¥½\n\n\n\nÂ¶æ··ä¹±çš„æ—¥å¿—ä½“ç³»\nJava çš„æ—¥å¿—ä½“ç³»éå¸¸çš„æ··ä¹±ï¼Œæœ¬å°èŠ‚å°†ä¸»è¦é˜è¿° Java æ—¥å¿—ä½“ç³»çš„å‘å±•è¿‡ç¨‹\nÂ¶ä¸Šå¤æ—¶ä»£\nåœ¨ JDK 1.3 åŠä»¥å‰ï¼ŒJava æ‰“â½‡å¿—ä¾èµ– System.out.println(), System.err.println() æˆ–è€… e.printStackTrace()ï¼ŒDebug â½‡å¿—è¢«å†™åˆ° STDOUT æµï¼Œé”™è¯¯â½‡å¿—è¢«å†™åˆ° STDERR æµã€‚è¿™æ ·æ‰“â½‡å¿—æœ‰â¼€ä¸ªâ¾®å¸¸â¼¤çš„ç¼ºé™·ï¼šæ—¥å¿—è®°å½•â¾®å¸¸æœºæ¢°ï¼Œâ½†æ³•å®šåˆ¶ï¼Œä¸”â½‡å¿—ç²’åº¦ä¸å¤Ÿç»†åˆ†\nÂ¶å¼€åˆ›å…ˆé©±\néšåï¼Œåœ¨ 2001 å¹´å‘å¸ƒäº† Log4jï¼ŒLog4j åœ¨è®¾è®¡ä¸Šâ¾®å¸¸ä¼˜ç§€ï¼Œ å®ƒå®šä¹‰çš„ Loggerã€Appenderã€Level ç­‰æ¦‚å¿µå¯¹åç»­çš„ Java Log æ¡†æ¶æœ‰æ·±è¿œçš„å½±å“ï¼Œå¦‚ä»Šçš„å¾ˆå¤šâ½‡å¿—æ¡†æ¶åŸºæœ¬æ²¿â½¤äº†è¿™ç§æ€æƒ³ã€‚Log4j çš„æ€§èƒ½æ˜¯ä¸ªé—®é¢˜ï¼Œåœ¨ Logback å’Œ Log4j2 å‡ºæ¥ä¹‹åï¼Œ2015 å¹´ 9 â½‰ï¼Œ Apache è½¯ä»¶åŸºâ¾¦ä¼šå®£å¸ƒï¼ŒLog4j ä¸å†ç»´æŠ¤ï¼Œå»ºè®®æ‰€æœ‰ç›¸å…³é¡¹â½¬å‡çº§åˆ° Log4j2\nâœ¨ å¦‚æœè¦åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ log4jï¼Œåªéœ€è¦ä¸¤æ­¥å°±å¯ä»¥äº†ï¼Œåˆ†åˆ«æ˜¯ï¼šå¼•å…¥ log4j ä¾èµ–ä»¥åŠé…ç½® log4j\nå¼•å…¥ log4j ä¾èµ–ï¼š\n\n12345678910&lt;dependency&gt;    &lt;groupId&gt;log4j&lt;/groupId&gt;    &lt;artifactId&gt;log4j&lt;/artifactId&gt;    &lt;version&gt;1.2.17&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;    &lt;groupId&gt;log4j&lt;/groupId&gt;    &lt;artifactId&gt;apache-log4j-extras&lt;/artifactId&gt;    &lt;version&gt;1.2.17&lt;/version&gt;&lt;/dependency&gt;\næ—¥å¿—è¾“å‡ºæ¨¡å¼é…ç½®:\n\n12345678910111213log4j.rootLogger=debug#consolelog4j.appender.stdout=org.apache.log4j.ConsoleAppenderlog4j.appender.stdout.layout=org.apache.log4j.PatternLayoutlog4j.appender.stdout.layout.ConversionPattern=log4j:[%d&#123;yyyy-MM-dd HH:mm:ssa&#125;]:%p %l%m%n#dailyfilelog4j.appender.dailyfile=org.apache.log4j.DailyRollingFileAppenderlog4j.appender.dailyfile.DatePattern=&#x27;_&#x27;yyyy-MM-dd&#x27;.log&#x27;log4j.appender.dailyfile.File=./log4j.loglog4j.appender.dailyfile.Append=truelog4j.appender.dailyfile.Threshold=INFOlog4j.appender.dailyfile.layout=org.apache.log4j.PatternLayoutlog4j.appender.dailyfile.layout.ConversionPattern=log4j:[%d&#123;yyyy-MM-dd HH:mm:ssa&#125;] [Thread: %t][ Class:%c &gt;&gt; Method: %l ]%n%p:%m%n\nÂ¶æäº‹æƒ…çš„ JUL\nsun å…¬å¸å¯¹äº log4j çš„å‡ºç°å†…â¼¼å¿ƒéšéšè¡¨ç¤ºå«‰å¦’ã€‚äºæ˜¯åœ¨ jdk1.4 ç‰ˆæœ¬åï¼Œå¼€å§‹æäº‹æƒ…ï¼Œå¢åŠ äº†ä¸€ä¸ªæ—¥å¿—åŒ…ï¼ˆjava.util.loggingï¼‰ï¼Œç®€ç§°ä¸º JULï¼Œâ½¤ä»¥å¯¹æŠ— log4j ï¼Œä½†æ˜¯å´ç»™å¼€å‘é€ æˆäº†éº»çƒ¦ï¼Œè¿™æ˜¯å› ä¸º JUL å’Œ log4j çš„ API å¹¶ä¸ç»Ÿä¸€ï¼Œä½¿å¾—é¡¹ç›®ä¸­æ—¥å¿—éš¾ä»¥ç®¡ç†ã€‚\nâœ¨ ä½¿ç”¨ JUL éå¸¸çš„ç®€å•ï¼Œç”±äºæ˜¯ JDK ä¸­è‡ªå¸¦çš„æ‰€ä»¥å¹¶ä¸éœ€è¦å¼•å…¥é¢å¤–çš„ä¾èµ–ï¼Œåªéœ€è¦é…ç½®å³å¯ï¼Œé»˜è®¤çš„é…ç½®è·¯å¾„æ˜¯ï¼š$JAVA_HOME/jre/lib/logging.properties\n12Logger loggger = Logger.getLogger(Demo.class.getName());logger.finest(&quot;xxxx&quot;);\nJUL åŠŸèƒ½è¿œä¸å¦‚ log4j å®Œå–„ï¼Œâ¾ƒå¸¦çš„ Handlers æœ‰é™ï¼Œæ€§èƒ½å’Œå¯ç”¨æ€§ä¸Šä¹Ÿä¸€èˆ¬ï¼Œä¸æ˜¯éå¸¸æ¨èåœ¨é¡¹ç›®ä¸­ä½¿ç”¨\n\nÂ¶JCL åº”è¿è€Œç”Ÿ\nç”±äº JUL çš„ api ä¸ log4j æ˜¯å®Œå…¨ä¸åŒçš„ï¼Œå¹¶ä¸”æ—¥å¿—ç³»ç»Ÿäº’ç›¸æ²¡æœ‰å…³è”ï¼Œå½¼æ­¤æ²¡æœ‰çº¦å®šï¼Œä¸åŒäººçš„ä»£ç ä½¿â½¤ä¸åŒæ—¥å¿—ï¼Œæ›¿æ¢å’Œç»Ÿä¸€ä¹Ÿå°±å˜æˆäº†äº†â½è¾ƒæ£˜æ‰‹çš„â¼€ä»¶äº‹ã€‚è§£å†³è¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆå°±æ˜¯è¿›è¡ŒæŠ½è±¡ï¼ŒæŠ½è±¡å‡ºä¸€ä¸ªæ¥å£å±‚ï¼Œå¯¹æ¯ä¸ªæ—¥å¿—å®ç°éƒ½é€‚é…æˆ–è€…è½¬æ¥ï¼Œè¿™æ ·è¿™äº›æä¾›ç»™åˆ«â¼ˆçš„åº“éƒ½ç›´æ¥ä½¿ç”¨æŠ½è±¡å±‚å³å¯ ï¼Œä»¥åè°ƒç”¨çš„æ—¶å€™ï¼Œå°±è°ƒç”¨è¿™äº›æ¥â¼\nJCL(Jakarta Commons Logging)åº”è¿è€Œç”Ÿï¼Œä¹Ÿå°±æ˜¯ commons-logging-xx.jar ç»„ä»¶ã€‚JCL åªæä¾› log æ¥å£ï¼Œå…·ä½“çš„å®ç°åˆ™åœ¨è¿è¡Œæ—¶åŠ¨æ€å¯»æ‰¾ã€‚ç”¨æˆ·å¯ä»¥è‡ªç”±é€‰æ‹©ç¬¬ä¸‰æ–¹çš„æ—¥å¿—ç»„ä»¶ä½œä¸ºå…·ä½“å®ç°ï¼Œåƒ log4jï¼Œæˆ–è€… jdk è‡ªå¸¦çš„ julï¼Œ common-logging ä¼šé€šè¿‡åŠ¨æ€æŸ¥æ‰¾çš„æœºåˆ¶ï¼Œåœ¨ç¨‹åºè¿è¡Œæ—¶è‡ªåŠ¨æ‰¾å‡ºçœŸæ­£ä½¿ç”¨çš„æ—¥å¿—åº“ã€‚\ncommon-logging å†…éƒ¨æœ‰ä¸€ä¸ª Simple logger çš„ç®€å•å®ç°ï¼Œä½†æ˜¯åŠŸèƒ½å¾ˆå¼±ã€‚æ‰€ä»¥ä½¿ç”¨ common-loggingï¼Œé€šå¸¸éƒ½æ˜¯é…åˆç€ log4j ä»¥åŠå…¶ä»–æ—¥å¿—æ¡†æ¶æ¥ä½¿ç”¨ï¼Œç”¨å®ƒçš„å¥½å¤„å°±æ˜¯ï¼Œä»£ç ä¾èµ–æ˜¯ common-logging è€Œé log4j çš„ APIï¼Œ é¿å…äº†å’Œå…·ä½“çš„æ—¥å¿— API ç›´æ¥è€¦åˆï¼Œåœ¨æœ‰å¿…è¦æ—¶ï¼Œå¯ä»¥æ›´æ”¹æ—¥å¿—å®ç°çš„ç¬¬ä¸‰æ–¹åº“ã€‚\nJCL ä¼šåœ¨ ClassLoader ä¸­è¿›â¾æŸ¥æ‰¾ï¼Œå¦‚æœèƒ½æ‰¾åˆ° Log4j åˆ™é»˜è®¤ä½¿â½¤ log4j å®ç°ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä½¿â½¤ JUL(jdk â¾ƒå¸¦çš„) å®ç°ï¼Œå†æ²¡æœ‰åˆ™ä½¿â½¤ JCL å†…éƒ¨æä¾›çš„ SimpleLog å®ç°ï¼Œå¦‚ä¸‹å›¾ï¼š\n\n\nå¦‚æœéœ€è¦åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ JCL åŒæ ·åˆ†ä¸ºä¸¤æ­¥ï¼šå¼•å…¥ä¾èµ–ä»¥åŠé…ç½®\nå¼•å…¥ä¾èµ–\n\n12345&lt;dependency&gt;    &lt;groupId&gt;commons-logging&lt;/groupId&gt;    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;    &lt;version&gt;1.2&lt;/version&gt;&lt;/dependency&gt;\næµ‹è¯•ä»£ç \n\n123456public class TestLoger &#123;   public static void main(String[] args) &#123;      Log log = LogFactory.getLog(TestLoger.class);      log.info(&quot;xxxxxxx&quot;);   &#125;&#125;\nJCL ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œâ¼€æ˜¯æ•ˆç‡è¾ƒä½ï¼ŒäºŒæ˜¯å®¹æ˜“å¼•å‘æ··ä¹±ï¼Œä¸‰æ˜¯ JCL æœºåˆ¶æœ‰å¾ˆâ¼¤çš„å¯èƒ½ä¼šå¼•å‘å†…å­˜æ³„éœ²ã€‚åŒæ—¶ï¼ŒJCL çš„ä¹¦å†™å­˜åœ¨â¼€ä¸ªä¸å¤ªä¼˜é›…çš„åœ°â½…ï¼Œå…¸å‹çš„åœºæ™¯å¦‚ä¸‹ï¼šå‡å¦‚è¦è¾“å‡ºä¸€æ¡ debug æ—¥å¿—ï¼Œè€Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œç”Ÿäº§ç¯å¢ƒ log çº§åˆ«éƒ½ä¼šè®¾åˆ° info æˆ–è€…ä»¥ä¸Šï¼Œé‚£è¿™æ¡ log æ˜¯ä¸ï¥§ä¼šè¢«è¾“å‡ºçš„ã€‚äºæ˜¯ï¼Œåœ¨ä»£ç ï§©å°±å‡ºç°äº†\n\n1logger.debug(&quot;this is a debug info , message :&quot; + msg);\nè¿™ä¸ªæœ‰ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿè™½ç„¶â½£äº§ä¸ä¼šæ‰“å‡ºâ½‡å¿—ï¼Œä½†æ˜¯è¿™å…¶ä¸­éƒ½ä¼šåšâ¼€ä¸ªå­—ç¬¦ä¸²è¿æ¥æ“ä½œï¼Œç„¶åâ½£æˆâ¼€ä¸ªæ–°çš„å­—ç¬¦ä¸²ã€‚å¦‚æœè¿™æ¡è¯­å¥åœ¨å¾ªç¯æˆ–è€…è¢«è°ƒâ½¤å¾ˆå¤šæ¬¡çš„å‡½æ•°ä¸­ï¼Œå°±ä¼šå¤šåšå¾ˆå¤šâ½†â½¤çš„å­—ç¬¦ä¸²è¿æ¥éå¸¸å½±å“æ€§èƒ½ï¼Œæ‰€ä»¥ï¼ŒJCL æ¨èçš„å†™æ³•å¦‚ä¸‹ã€‚è¿™æ ·è™½ç„¶è§£å†³äº†é—®é¢˜ï¼Œä½†æ˜¯è¿™ä¸ªä»£ç å®åœ¨çœ‹ä¸Šå»ä¸æ€ä¹ˆèˆ’æœ\n123if (logger.isDebugEnabled()) &#123; logger.debug(&quot;this is a debug info , message :&quot; + msg);&#125;\nÂ¶å†èµ·æ³¢æ¾œ\näºæ˜¯ï¼Œé’ˆå¯¹ä»¥ä¸Šæƒ…å†µï¼Œlog4j çš„ä½œè€…å†æ¬¡å‡ºâ¼¿æ‰‹ï¼Œä»–è§‰å¾— JCL ä¸å¥½ç”¨ï¼Œâ¾ƒå·±â¼œå†™äº†ä¸€ä¸ªæ–°çš„æ¥â¼ apiï¼Œå°± æ˜¯ slf4jï¼Œå¹¶ä¸”ä¸ºäº†è¿½æ±‚æ›´æè‡´çš„æ€§èƒ½ï¼Œæ–°å¢äº†ä¸€å¥—æ—¥å¿—çš„å®ç°ï¼Œå°±æ˜¯ logback\nå¼•å…¥ slf4j ä¾èµ–\n\npom.xml123456789101112131415&lt;dependency&gt;&lt;groupId&gt;org.slf4j&lt;/groupId&gt;&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;&lt;version&gt;1.7.30&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;&lt;artifactId&gt;logback-core&lt;/artifactId&gt;&lt;version&gt;1.2.3&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;&lt;version&gt;1.2.3&lt;/version&gt;&lt;/dependency&gt;\nlogback-core æä¾›åŸºç¡€æŠ½è±¡ï¼Œlogback-classic æä¾›æ—¥å¿—å®ç°ï¼Œå¹¶ä¸”ç›´æ¥å°±æ˜¯åŸºäº Slf4j APIã€‚æ‰€ä»¥ slf4j é…åˆ logback æ¥å®Œæˆæ—¥å¿—æ—¶ï¼Œä¸éœ€è¦åƒå…¶ä»–çš„æ—¥å¿—æ¡†æ¶ä¸€æ ·æä¾›é€‚é…å™¨å™¨\nslf4j æœ¬èº«å¹¶æ²¡æœ‰å®é™…çš„æ—¥å¿—è¾“å‡ºèƒ½åŠ›ï¼Œå®ƒåº•å±‚è¿˜æ˜¯éœ€è¦å»è°ƒâ½¤ç”¨å…·ä½“çš„æ—¥å¿—æ¡†æ¶ APIï¼Œä¹Ÿå°±æ˜¯å®ƒéœ€è¦è·Ÿå…·ä½“çš„â½‡å¿—æ¡†æ¶ç»“åˆä½¿ç”¨ã€‚ç”±äºå…·ä½“æ—¥å¿—æ¡†æ¶â½è¾ƒå¤šï¼Œè€Œä¸”äº’ç›¸ä¹Ÿå¤§éƒ½ä¸å…¼å®¹ï¼Œæ—¥å¿—â»”â¾¯æ¥å£è¦æƒ³å®ç° ä¸ä»»æ„â½‡æ—¥å¿—æ¡†æ¶ç»“åˆå°±éœ€è¦é¢å¤–å¯¹åº”çš„æ¡¥æ¥å™¨å™¨\n\nslf4j çš„é…ç½®\n\nslf4j.xml1234567891011121314151617&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;configuration scan=&quot;true&quot; scanPeriod=&quot;60 seconds&quot; debug=&quot;false&quot;&gt;    &lt;property name=&quot;logPattern&quot; value=&quot;logback:[ %-5level] [%date&#123;yyyy-MM-ddHH:mm:ss.SSS&#125;] %logger&#123;96&#125; [%line] [%thread]- %msg%n&quot;&gt;&lt;/property&gt;&lt;!-- æ§åˆ¶å°çš„æ ‡å‡†è¾“å‡º --&gt;&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;        &lt;encoder&gt;            &lt;charset&gt;UTF-8&lt;/charset&gt;            &lt;pattern&gt;$&#123;logPattern&#125;&lt;/pattern&gt;        &lt;/encoder&gt;    &lt;/appender&gt;    &lt;root level=&quot;DEBUG&quot;&gt;        &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;    &lt;/root&gt;&lt;/configuration&gt;\næœ‰äº†æ–°çš„ slf4j åï¼Œä¸Šâ¾¯å­—ç¬¦ä¸²çš„æ‹¼æ¥é—®é¢˜ï¼Œè¢«ä»¥ä¸‹ä»£ç æ‰€å–ä»£ï¼Œâ½½ logback ä¹Ÿæä¾›äº†æ›´â¾¼çº§çš„ç‰¹æ€§ï¼Œå¦‚ï¼šå¼‚æ­¥ loggerï¼ŒFilter ç­‰\n1logger.debug(&quot;this is a debug info, message :&#123;&#125;&quot;,msg);\nÂ¶å†åº¦é’æ˜¥\nå‰â¾¯æåˆ°ï¼Œlog4j ç”± apache å®£å¸ƒï¼Œ2015 å¹´åï¼Œä¸å†ç»´æŠ¤ã€‚æ¨èå¤§å®¶å‡çº§åˆ° log4j2ï¼Œè™½ç„¶ log4j2 æ²¿è¢­äº† log4j çš„æ€æƒ³ï¼Œç„¶è€Œ log4j2 å’Œ log4j å®Œå…¨æ˜¯ä¸¤ç äº‹ï¼Œå¹¶ä¸ä¸å…¼å®¹ã€‚log4j2 ä»¥æ€§èƒ½è‘—ç§°ï¼Œå®ƒæ¯”å…¶å‰èº« Log4j 1.x æä¾›äº†é‡â¼¤å¤§æ”¹è¿›ï¼ŒåŒæ—¶ç±»æ¯” logbackï¼Œå®ƒæä¾›äº† Logback ä¸­å¯ç”¨çš„è®¸å¤šæ”¹è¿›ï¼ŒåŒæ—¶ä¿®å¤äº† Logback æ¶æ„ä¸­çš„ä¸€äº›å›ºæœ‰é—®é¢˜ã€‚åŠŸèƒ½ä¸Šï¼Œå®ƒæœ‰ç€å’Œ Logback ç›¸åŒçš„åŸºæœ¬æ“ä½œï¼ŒåŒæ—¶åˆæœ‰â¾ƒå·±ç‹¬ç‰¹çš„éƒ¨åˆ†ï¼Œâ½å¦‚:æ’ä»¶å¼ç»“æ„ã€é…ç½®â½‚æ–‡ä»¶ä¼˜åŒ–ã€å¼‚æ­¥â½‡æ—¥å¿—ç­‰ã€‚\npom.xml123456789101112131415&lt;dependency&gt;&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;&lt;version&gt;2.13.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;&lt;version&gt;2.13.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;com.lmax&lt;/groupId&gt;&lt;artifactId&gt;disruptor&lt;/artifactId&gt;&lt;version&gt;3.4.1&lt;/version&gt;&lt;/dependency&gt;\n12Logger logger = LogManager.getLogger(Demo.class);logger.debug(&quot;debuff Msg&quot;);\nlog4j2.xml123456789101112131415161718192021&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;configuration status=&quot;info&quot; monitorInterval=&quot;30&quot;&gt;    &lt;Properties&gt;        &lt;Property name=&quot;pattern&quot;&gt;log4j2:[%-5p]:%d&#123;YYYY-MM-dd HH:mm:ss&#125; [%t]%c&#123;1&#125;:%L - %msg%n&lt;/Property&gt;    &lt;/Properties&gt;&lt;appenders&gt;&lt;!--console :æ§åˆ¶å°è¾“å‡ºçš„é…ç½®--&gt;&lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;            &lt;PatternLayout pattern=&quot;$&#123;pattern&#125;&quot;/&gt;        &lt;/Console&gt;    &lt;/appenders&gt;    &lt;loggers&gt;        &lt;logger name=&quot;org.springframework&quot; level=&quot;INFO&quot;&gt;&lt;/logger&gt;        &lt;root level=&quot;info&quot;&gt;            &lt;appender-ref ref=&quot;Console&quot;/&gt;        &lt;/root&gt;    &lt;/loggers&gt;&lt;/configuration&gt;\nä½†æ˜¯æœ€è¿‘å‡ºç°çš„ log4j2 å®‰å…¨éšæ‚£é—®é¢˜ï¼Œè®©æˆ‘æœ‰ç‚¹æ€€ç–‘æ˜¯å¦è¦è¿›ä¸€æ­¥ä½¿ç”¨è¿™ä¸ªæ—¥å¿—æ¡†æ¶\n\nÂ¶é…ç½®è®²è§£\nä¼—å¤š Java æ—¥å¿—çš„ä½¿ç”¨å¹¶ä¸æ˜¯æ—¥å¿—æ¡†æ¶çš„éš¾ç‚¹ï¼Œé‡ç‚¹åœ¨äºï¼šå¦‚ä½•ä½¿ç”¨é…ç½®æ–‡ä»¶ï¼Œå®šåˆ¶åŒ–æ—¥å¿—\nÂ¶æ—¥å¿—çº§åˆ«\nâ¼€ä¸ªå®Œæ•´çš„â½‡å¿—ç»„ä»¶éƒ½è¦å…·å¤‡â½‡å¿—çº§åˆ«çš„æ¦‚å¿µï¼Œæ¯ç§â½‡å¿—ç»„ä»¶çº§åˆ«å®šä¹‰ä¸åŒï¼Œâ½‡å¸¸ç¼–ç æœ€ç»å¸¸â½¤åˆ°çš„ä¸»æµåˆ†çº§å¦‚ä¸‹ï¼ˆç”±ä½åˆ°â¾¼ï¼‰\n\n\n\næ—¥å¿—çº§åˆ«\nå«ä¹‰\n\n\n\n\ntrace\nè·¯å¾„è·Ÿè¸ª\n\n\ndebug\nâ¼€èˆ¬â½¤äºâ½‡å¸¸è°ƒå¼\n\n\ninfo\næ‰“å°é‡è¦ä¿¡æ¯\n\n\nwarn\nç»™å‡ºè­¦å‘Š\n\n\nerror\nå‡ºç°é”™è¯¯æˆ–é—®é¢˜\n\n\n\næ¯ä¸ªæ—¥å¿—ç»„ä»¶çš„å…·ä½“çº§åˆ«åˆ’åˆ†ç¨æœ‰ä¸åŒï¼Œéœ€è¦å…·ä½“åˆ†æ\n\n\n\n\nçº§åˆ«\nçº§åˆ«å«ä¹‰\n\n\n\n\nSEVERE\né”™è¯¯â€”â€”æœ€é«˜çš„æ—¥å¿—çº§åˆ«\n\n\nWARNING\nè­¦å‘Š\n\n\nINFO\nï¼ˆé»˜è®¤çº§åˆ«ï¼‰ä¿¡æ¯\n\n\nCONFIG\né…ç½®\n\n\nFINE\nè¯¦ç»†ä¿¡æ¯ï¼ˆå°‘ï¼‰\n\n\nFINER\nè¯¦ç»†ä¿¡æ¯ï¼ˆä¸­ï¼‰\n\n\nFINEST\nè¯¦ç»†ä¿¡æ¯ï¼ˆå¤šï¼‰â€”â€”æœ€ä½çº§çš„æ—¥å¿—çº§åˆ«\n\n\n\nä¸¤ä¸ªç‰¹æ®Šçš„çº§åˆ«\n\n\n\nçº§åˆ«\nå«ä¹‰\n\n\n\n\nOFF\nå¯ç”¨æ¥å…³é—­æ—¥å¿—è®°å½•\n\n\nALL\nå¯ç”¨æ‰€æœ‰æ¶ˆæ¯çš„æ—¥å¿—è®°å½•\n\n\n\nå¯¹äºæ—¥å¿—çš„çº§åˆ«ï¼Œé‡ç‚¹å…³æ³¨çš„æ˜¯ new å¯¹è±¡çš„æ—¶å€™çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œæ˜¯ä¸€ä¸ªæ•°å€¼\n1public static final Level SEVERE = new Level(&quot;SEVERE&quot;,1000, defaultBundle);\n\n\n\nçº§åˆ«\næ•°å€¼\n\n\n\n\nOFF\nInteger.MAX_VALUE\n\n\nSEVERE\n1000\n\n\nALL\nInteger.MIN_VALUE\n\n\n\nè¿™ä¸ªæ•°å€¼çš„æ„ä¹‰åœ¨äºï¼Œå¦‚æœè®¾ç½®çš„æ—¥å¿—çº§åˆ«æ˜¯ INFO-800ï¼Œæœ€ç»ˆå±•ç°çš„æ—¥å¿—ä¿¡æ¯ï¼Œå¿…é¡»æ˜¯æ•°å€¼å¤§äº 800 çš„æ‰€æœ‰çš„æ—¥å¿—ä¿¡æ¯ï¼Œæœ€ç»ˆå±•ç°çš„å°±æ˜¯ï¼šSERVER,WARNING,INFO\n12Logger logger = Logger.getLogger(&quot;com.pineappltman.test.JulLearning&quot;);logger.setLevel(Level.CONFIG);\nå¦‚æœä»…ä»…åªæ˜¯é€šè¿‡ä»¥ä¸‹å½¢å¼æ¥è®¾ç½®æ—¥å¿—çº§åˆ«ï¼Œé‚£ä¹ˆä¸èƒ½èµ·åˆ°æ•ˆæœï¼Œå°†æ¥éœ€è¦æ­é…å¤„ç†å™¨ handler å…±åŒè®¾ç½®æ‰ä¼šç”Ÿæ•ˆ\nÂ¶æ—¥å¿—ç»„ä»¶\n\n\n\næ—¥å¿—ç»„ä»¶\nå«ä¹‰\n\n\n\n\nappender\nâ½‡å¿—è¾“å‡ºâ½¬çš„åœ°ï¼Œè´Ÿè´£â½‡å¿—çš„è¾“å‡º ï¼ˆè¾“å‡ºåˆ°ä»€ä¹ˆ åœ°â½…ï¼‰\n\n\nlogger\nâ½‡å¿—è®°å½•å™¨ï¼Œè´Ÿè´£æ”¶é›†å¤„ç†â½‡å¿—è®°å½• ï¼ˆå¦‚ä½•å¤„ç†â½‡å¿—ï¼‰\n\n\nlayout\nâ½‡å¿—æ ¼å¼åŒ–ï¼Œè´Ÿè´£å¯¹è¾“å‡ºçš„â½‡å¿—æ ¼å¼åŒ–ï¼ˆä»¥ä»€ä¹ˆå½¢å¼å±•ç°ï¼‰\n\n\n\nÂ¶JUL\né»˜è®¤æƒ…å†µä¸‹é…ç½®æ–‡ä»¶çš„è·¯å¾„ä¸º$JAVAHOME\\jre\\lib\\logging.propertiesï¼Œå¯ä»¥é€šè¿‡ç¼–ç çš„æ–¹å¼æŒ‡å®šé…ç½®æ–‡ä»¶\n123456static &#123;    System.setProperty(&quot;java.util.logging.config.file&quot;,            Demo.class.getClassLoader().getResource(&quot;logging.properties&quot;)               .getPath()               );&#125;\nJUL ä¸­çš„çº§åˆ«æœ‰ï¼šSEVER(æœ€é«˜å€¼)ã€WARNINGã€INFOã€CONFIGã€FINEã€FINERã€FINESTï¼ˆæœ€å°å€¼ï¼‰ã€OFFï¼ˆå…³é—­æ—¥å¿—ï¼‰ã€ALLï¼ˆå¯åŠ¨æ‰€æœ‰æ—¥å¿—ï¼‰\nJUL ä¸­çš„å¤„ç†å™¨å¦‚ä¸‹ï¼š\n\n\n\nå¤„ç†å™¨\nå«ä¹‰\n\n\n\n\nStreamHandler\nâ½‡å¿—è®°å½•å†™â¼Š OutputStream\n\n\nConsoleHandler\nâ½‡å¿—è®°å½•å†™â¼Š System.err\n\n\nFileHandler\næ—¥å¿—è®°å½•å†™å…¥å•ä¸ªæ–‡ä»¶æˆ–ä¸€ç»„æ»šåŠ¨æ—¥å¿—æ–‡ä»¶\n\n\nSocketHandler\nâ½‡å¿—è®°å½•å†™â¼Šè¿œç¨‹ TCP ç«¯å£çš„å¤„ç†ç¨‹åº\n\n\nMemoryHandler\nç¼“å†²å†…å­˜ä¸­â½‡æ—¥å¿—è®°å½•\n\n\n\næ ¼å¼åŒ–\n\n\n\næ ¼å¼åŒ–\nå«ä¹‰\n\n\n\n\nSimpleFormatter\næ ¼å¼åŒ–ä¸ºç®€çŸ­çš„â½‡æ—¥å¿—è®°å½•æ‘˜è¦\n\n\nXMLFormatter\næ ¼å¼åŒ–ä¸ºè¯¦ç»†çš„ XML ç»“æ„ä¿¡æ¯\n\n\nè¾“å‡ºæ ¼å¼å¯ä»¥è‡ªå®šä¹‰è¾“å‡ºï¼Œåªè¦ç»§æ‰¿è‡ªæŠ½è±¡ç±» java.util.logging.Formatter å³å¯\n\n\n\n\nÂ¶log4j\nå¯åŠ¨æ—¶ï¼Œé»˜è®¤ä¼šå¯»æ‰¾ resorce folder ä¸‹çš„ log4j.xmlï¼Œè‹¥æ²¡æœ‰ï¼Œä¼šå¯»æ‰¾ lo4g.properties\nLoggers(æ—¥å¿—è®°å½•å™¨)ï¼ŒAppenders(è¾“å‡ºæ§åˆ¶å™¨)å’Œ Layoutï¼ˆæ—¥å¿—æ ¼å¼åŒ–å™¨ï¼‰ç»„æˆã€‚å…¶ä¸­ Loggers æ§åˆ¶æ—¥å¿—çš„è¾“å‡ºä»¥åŠè¾“å‡ºçº§åˆ«ï¼ˆJUL åšæ—¥å¿—çº§åˆ« Levelï¼‰ï¼›Appenders æŒ‡å®šæ—¥å¿—çš„è¾“å‡ºæ–¹å¼ï¼ˆè¾“å‡ºåˆ°æ§åˆ¶å°ã€æ–‡ä»¶ç­‰ï¼‰ï¼›Layout æ§åˆ¶æ—¥å¿—ä¿¡æ¯çš„è¾“å‡ºæ ¼å¼\nÂ¶logback\nLogback æ˜¯ç”± log4j åˆ›å§‹äººè®¾è®¡çš„å¦ä¸€ä¸ªå¼€æºæ—¥å¿—ç»„ä»¶ï¼Œæ€§èƒ½æ¯” log4j è¦å¥½ï¼ŒLogback ä¸»è¦åˆ†ä¸ºä¸‰ä¸ªæ¨¡å—ï¼š\n\nlogback-coreï¼šå…¶ä»–ä¸¤ä¸ªæ¨¡å—çš„åŸºç¡€æ¨¡å—\nlogback-classicï¼šå®ƒæ˜¯ log4j çš„ä¸€ä¸ªæ”¹è‰¯ç‰ˆæœ¬ï¼ŒåŒæ—¶å®ƒå®Œæ•´å®ç°äº† slf4j API\nlogback-accessï¼šè®¿é—®æ¨¡å—ä¸ Servlet å®¹å™¨é›†æˆæä¾›é€šè¿‡ Http æ¥è®¿é—®æ—¥å¿—çš„åŠŸèƒ½pom.xml12345678910&lt;dependency&gt;&lt;groupId&gt;org.slf4j&lt;/groupId&gt;&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;&lt;version&gt;1.7.25&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;&lt;version&gt;1.2.3&lt;/version&gt;&lt;/dependency&gt;\nLogBackTest.java12345678910//å®šä¹‰æ—¥å¿—å¯¹è±¡public final static Logger LOGGER = LoggerFactory.getLogger(LogBackTest.class);@Testpublic void testSlf4j()&#123; //æ‰“å°æ—¥å¿—ä¿¡æ¯LOGGER.error(&quot;error&quot;);LOGGER.warn(&quot;warn&quot;);LOGGER.info(&quot;info&quot;);LOGGER.debug(&quot;debug&quot;);LOGGER.trace(&quot;trace&quot;);&#125;\n\n\nlogback ä¼šä¾æ¬¡è¯»å–ä¸€ä¸‹ç±»å‹é…ç½®æ–‡ä»¶ï¼š logback.groovy,logback-test.xmlå’Œlogback.xmlå¦‚æœå‡ä¸å­˜åœ¨ï¼Œä¼šé‡‡ç”¨é»˜è®¤çš„é…ç½®\nÂ¶logback ç»„ä»¶ä¹‹é—´çš„å…³ç³»\n\nLogger:æ—¥å¿—çš„è®°å½•å™¨ï¼ŒæŠŠå®ƒå…³è”åˆ°åº”ç”¨çš„å¯¹åº”çš„ context ä¸Šåï¼Œä¸»è¦ç”¨äºå­˜æ”¾æ—¥å¿—å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥å®šä¹‰æ—¥å¿—ç±»å‹ã€çº§åˆ«\nAppender:ç”¨äºæŒ‡å®šæ—¥å¿—è¾“å‡ºçš„ç›®çš„åœ°ï¼Œç›®çš„åœ°å¯ä»¥æ˜¯æ§åˆ¶å°ã€æ–‡ä»¶ã€æ•°æ®åº“ç­‰ç­‰\nLayout:è´Ÿè´£æŠŠäº‹ä»¶è½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œæ ¼å¼åŒ–çš„æ—¥å¿—ä¿¡æ¯çš„è¾“å‡ºã€‚åœ¨ logback ä¸­ Layout å¯¹è±¡è¢«å°è£…åœ¨ encoder ä¸­\n\nÂ¶åŸºæœ¬é…ç½®ä¿¡æ¯\n12345678910111213141516171819202122232425262728293031&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;configuration&gt;&lt;!--æ ¼å¼åŒ–è¾“å‡º:%dè¡¨ç¤ºæ—¥æœŸï¼Œ%threadè¡¨ç¤ºçº¿ç¨‹åï¼Œ            %-5level:çº§åˆ«ä»å·¦æ˜¾ç¤º5ä¸ªå­—ç¬¦å®½åº¦ %msg:æ—¥å¿—æ¶ˆæ¯ï¼Œ%næ˜¯æ¢è¡Œç¬¦--&gt;    &lt;property name=&quot;pattern&quot; value=&quot;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; %c [%thread]%-5level  %msg%n&quot;/&gt;&lt;!--Appender: è®¾ç½®æ—¥å¿—ä¿¡æ¯çš„å»å‘,å¸¸ç”¨çš„æœ‰ä»¥ä¸‹å‡ ä¸ªï¼šch.qos.logback.core.ConsoleAppender (æ§åˆ¶å°)ch.qos.logback.core.rolling.RollingFileAppender (æ–‡ä»¶å¤§å°åˆ°è¾¾æŒ‡å®šå°ºå¯¸çš„æ—¶å€™äº§ç”Ÿä¸€ä¸ªæ–°æ–‡ä»¶)ch.qos.logback.core.FileAppender (æ–‡ä»¶)--&gt;&lt;appender name=&quot;console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;&lt;!--è¾“å‡ºæµå¯¹è±¡ é»˜è®¤ System.out æ”¹ä¸º System.err--&gt;   &lt;target&gt;System.err&lt;/target&gt;&lt;!--æ—¥å¿—æ ¼å¼é…ç½®--&gt;   &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;      &lt;pattern&gt;$&#123;pattern&#125;&lt;/pattern&gt;   &lt;/encoder&gt;&lt;/appender&gt;&lt;!-- ç”¨æ¥è®¾ç½®æŸä¸€ä¸ªåŒ…æˆ–è€…å…·ä½“çš„æŸä¸€ä¸ªç±»çš„æ—¥å¿—æ‰“å°çº§åˆ«ã€ä»¥åŠæŒ‡å®š&lt;appender&gt;ã€‚&lt;loger&gt;ä»…æœ‰ä¸€ä¸ªnameå±æ€§ï¼Œä¸€ä¸ªå¯é€‰çš„levelå’Œä¸€ä¸ªå¯é€‰çš„addtivityå±æ€§name:ç”¨æ¥æŒ‡å®šå—æ­¤ logger çº¦æŸçš„æŸä¸€ä¸ªåŒ…æˆ–è€…å…·ä½“çš„æŸä¸€ä¸ªç±»ã€‚level:ç”¨æ¥è®¾ç½®æ‰“å°çº§åˆ«ï¼Œå¤§å°å†™æ— å…³:TRACE, DEBUG, INFO, WARN, ERROR, ALL å’Œ OFFï¼Œå¦‚æœæœªè®¾ç½®æ­¤å±æ€§ï¼Œé‚£ä¹ˆå½“å‰loggerå°†ä¼šç»§æ‰¿ä¸Šçº§çš„çº§åˆ«additivity:æ˜¯å¦å‘ä¸Šçº§logerä¼ é€’æ‰“å°ä¿¡æ¯ã€‚é»˜è®¤æ˜¯true&lt;logger&gt;å¯ä»¥åŒ…å«é›¶ä¸ªæˆ–å¤šä¸ª&lt;appender-ref&gt;å…ƒç´ ï¼Œæ ‡è¯†è¿™ä¸ªappenderå°†ä¼šæ·»åŠ åˆ°è¿™ä¸ªlogger --&gt;&lt;!--å®ƒæ˜¯æ ¹ logger å…ƒç´ ï¼Œé»˜è®¤debug level--&gt;    &lt;root level=&quot;ALL&quot;&gt;        &lt;appender-ref ref=&quot;console&quot;/&gt;    &lt;/root&gt;&lt;/configuration&gt;\nÂ¶log4j2\n\nLog4j will inspect the log4j.configurationFile system property and, if set, will attempt to load the configuration using the ConfigurationFactory that matches the file extension.\nIf no system property is set the YAML ConfigurationFactory will look for log4j2-test.yaml or log4j2-test.yml in the classpath\nIf no such file is found the JSON ConfigurationFactory will look for log4j2-test.json or log4j2-test.jsn in the classpath\nIf no such file is found the XML ConfigurationFactory will look for log4j2-test.xml in the classpath.\nIf a test file cannot be located the YAML ConfigurationFactory will look for log4j2.yaml or log4j2.yml on the classpath\nIf a YAML file cannot be located the JSON ConfigurationFactory will look for log4j2.json or log4j2.jsn on the classpath.\nIf a JSON file cannot be located the XML ConfigurationFactory will try to locate log4j2.xml on the classpath\nIf no configuration file could be located the DefaultConfiguration will be used. This will cause logging output to go to the console.\n\n\nlog4j2 çš„çº§åˆ«ä»ä½åˆ°é«˜æ˜¯ï¼š\n1ALL -&gt; TRACE -&gt; DEBUG -&gt; INFO -&gt; WARN -&gt; ERROR -&gt; FATAL -&gt; OFF\nç›¸å…³å¤„ç†å™¨ï¼Œå®˜æ–¹ä»‹ç»\n\n\n\n\nå¤„ç†å™¨\nå«ä¹‰\n\n\n\n\nFileAppender\nè¾“å‡ºåˆ°æœ¬åœ°â½‚ä»¶\n\n\nKafkaAppender\nè¾“å‡ºåˆ° kafka é˜Ÿï¦œ\n\n\nFlumeAppender\nå°†å‡ ä¸ªä¸åŒæºçš„æ—¥å¿—æ±‡é›†ã€é›†ä¸­åˆ°â¼€å¤„\n\n\nJMSQueueAppender/JMSTopicAppender\nä¸ JMS ç›¸å…³çš„æ—¥å¿—è¾“å‡º\n\n\nRewriteAppender\nå¯¹æ—¥å¿—äº‹ä»¶è¿›â¾æ©ç æˆ–æ³¨â¼Šä¿¡æ¯\n\n\nRollingFileAppender\nå¯¹æ—¥å¿—æ–‡ä»¶è¿›è¡Œå°å­˜\n\n\nRoutingAppender\nåœ¨è¾“å‡ºåœ°ä¹‹é—´è¿›è¡Œç­›é€‰è·¯ç”±\n\n\nSMTPAppender\nå°† LogEvent å‘é€åˆ°æŒ‡å®šé‚®ä»¶åˆ—è¡¨\n\n\nSocketAppender\nå°† LogEvent ä»¥æ™®é€šæ ¼å¼å‘é€åˆ°è¿œç¨‹ä¸»æœº\n\n\nSyslogAppender\nå°† LogEvent ä»¥ RPF5424 æ ¼å¼å‘é€åˆ°è¿œç¨‹ä¸»æœº\n\n\nAsynchAppender\nå°†ä¸€ä¸ª LogEvent å¼‚æ­¥åœ°å†™å…¥å¤šä¸ªä¸åŒè¾“å‡ºåœ°\n\n\nConsoleAppender\nå°† LogEvent è¾“å‡ºåˆ°å‘½ä»¤è¡Œ\n\n\nFailoverAppender\nç»´æŠ¤ä¸€ä¸ªé˜Ÿåˆ—ï¼Œç³»ç»Ÿå°è¯•å‘é˜Ÿåˆ—ä¸­çš„ Appender ä¾æ¬¡è¾“å‡º LogEventï¼Œç›´åˆ°æœ‰ä¸€ä¸ªæˆåŠŸä¸ºæ­¢\n\n\n\n12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061 &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!--â½‡å¿—çº§åˆ«ä»¥åŠä¼˜å…ˆçº§æ’åº: OFF &gt; FATAL &gt; ERROR &gt; WARN &gt; INFO &gt; DEBUG &gt; TRACE &gt; ALL --&gt;&lt;!--status=&quot;WARN&quot; :â½¤äºè®¾ç½®log4j2â¾ƒèº«å†…éƒ¨â½‡å¿—çš„ä¿¡æ¯è¾“å‡ºçº§åˆ«ï¼Œé»˜è®¤æ˜¯OFF--&gt;&lt;!--monitorInterval=&quot;30&quot; :é—´éš”ç§’æ•°,è‡ªåŠ¨æ£€æµ‹é…ç½®â½‚ä»¶çš„å˜æ›´å’Œé‡æ–°é…ç½®æœ¬èº«--&gt;&lt;configuration status=&quot;info&quot; monitorInterval=&quot;30&quot;&gt;  &lt;Properties&gt;    &lt;!--â¾ƒå®šä¹‰ä¸€äº›å¸¸é‡ï¼Œä¹‹åä½¿ç”¨$&#123;å˜é‡å&#125;å¼•ç”¨--&gt;    &lt;Property name=&quot;pattern&quot;&gt;log4j2:[%-5p]:%d&#123;YYYY-MM-dd HH:mm:ss&#125; [%t]%c&#123;1&#125;:%L - %msg%n&lt;/Property&gt;  &lt;/Properties&gt;  &lt;!--appenders:å®šä¹‰è¾“å‡ºå†…å®¹,è¾“å‡ºæ ¼å¼,è¾“å‡ºâ½…å¼,æ—¥å¿—ä¿å­˜ç­–ç•¥ç•¥ç­‰,å¸¸ç”¨ä¸‹ä¸‰ç§æ ‡ç­¾ [console,File,RollingFile]--&gt;  &lt;appenders&gt;    &lt;!--console :æ§åˆ¶å°è¾“å‡ºçš„é…ç½®--&gt;    &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;      &lt;PatternLayout pattern=&quot;$&#123;pattern&#125;&quot;/&gt;    &lt;/Console&gt;    &lt;!--File :åŒæ­¥è¾“å‡ºâ½‡å¿—åˆ°æœ¬åœ°æ–‡ä»¶--&gt;    &lt;!--append=&quot;false&quot; :æ ¹æ®å…¶ä¸‹â½‡å¿—ç­–ç•¥,æ¯æ¬¡æ¸…ç©ºâ½‚ä»¶é‡æ–°è¾“â¼Šæ—¥å¿—,å¯ç”¨äºæµ‹è¯•--&gt;    &lt;File name=&quot;File&quot; fileName=&quot;./log4j2-file.log&quot; append=&quot;false&quot;&gt;      &lt;PatternLayout pattern=&quot;$&#123;pattern&#125;&quot;/&gt;    &lt;/File&gt;    &lt;RollingFile name=&quot;RollingFile&quot; fileName=&quot;./log4j2-rollingfile.log&quot;                 filePattern=&quot;./$$&#123;date:yyyy-MM&#125;/log4j2-%d&#123;yyyy-MM-dd&#125;-%i.log&quot;&gt;      &lt;!--ThresholdFilter :æ—¥å¿—è¾“å‡ºè¿‡æ»¤--&gt;      &lt;!--level=&quot;info&quot; :â½‡å¿—çº§åˆ«,onMatch=&quot;ACCEPT&quot; :çº§åˆ«åœ¨infoä¹‹ä¸Šåˆ™æ¥å—,onMismatch=&quot;DENY&quot; :çº§åˆ«åœ¨infoä¹‹ä¸‹åˆ™æ‹’ç»--&gt;&lt;ThresholdFilter level=&quot;debug&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;/&gt; &lt;PatternLayout pattern=&quot;$&#123;pattern&#125;&quot;/&gt;&lt;!-- Policies :â½‡å¿—æ»šåŠ¨ç­–ç•¥--&gt;      &lt;Policies&gt;        &lt;!-- TimeBasedTriggeringPolicy :æ—¶é—´æ»šåŠ¨ç­–ç•¥ç•¥, é»˜è®¤0ç‚¹äº§â½£æ–°çš„æ–‡ä»¶,interval=&quot;6&quot;\t\t\t\t: â¾ƒå®šä¹‰æ–‡ä»¶æ»šåŠ¨æ—¶é—´éš”,æ¯éš”6â¼©æ—¶äº§ç”Ÿæ–°æ–‡ä»¶, modulate=&quot;true&quot;\t\t\t\t: äº§â½£æ–‡ä»¶æ˜¯å¦ä»¥0ç‚¹åç§»æ—¶é—´,å³6ç‚¹,12ç‚¹,18ç‚¹,0ç‚¹--&gt;        &lt;TimeBasedTriggeringPolicy interval=&quot;6&quot; modulate=&quot;true&quot;/&gt;        &lt;!-- SizeBasedTriggeringPolicy :æ–‡ä»¶å¤§å°æ»šåŠ¨ç­–ç•¥--&gt;        &lt;SizeBasedTriggeringPolicy size=&quot;1 MB&quot;/&gt;      &lt;/Policies&gt;&lt;!-- DefaultRolloverStrategyå±æ€§å¦‚ä¸è®¾ç½®ï¼Œåˆ™é»˜è®¤ä¸ºæœ€å¤šåŒä¸€æ–‡ä»¶å¤¹ä¸‹7ä¸ªâ½‚ä»¶ï¼Œè¿™é‡Œè®¾ç½®äº†20 --&gt;      &lt;DefaultRolloverStrategy max=&quot;20&quot;/&gt;    &lt;/RollingFile&gt;  &lt;/appenders&gt;&lt;!--ç„¶åå®šä¹‰loggerï¼Œåªæœ‰å®šä¹‰äº†äº†loggerå¹¶å¼•â¼Šå…¥çš„appenderï¼Œappenderæ‰ä¼šâ½£ç”Ÿæ•ˆ--&gt; &lt;loggers&gt;&lt;!--è¿‡æ»¤æ‰springå’Œmybatisçš„â¼€ä¸€äº›â½†æ— â½¤ç”¨çš„DEBUGä¿¡æ¯--&gt;&lt;!--LoggerèŠ‚ç‚¹â½¤æ¥å•ç‹¬æŒ‡å®šæ—¥å¿—çš„å½¢å¼ï¼Œnameä¸ºåŒ…è·¯å¾„,â½å¦‚è¦ä¸ºorg.springframework åŒ…ä¸‹æ‰€æœ‰â½‡å¿—æŒ‡å®šä¸ºINFOçº§åˆ«ç­‰ã€‚ -&gt;&lt;logger name=&quot;org.springframework&quot; level=&quot;INFO&quot;&gt;&lt;/logger&gt;&lt;logger name=&quot;org.mybatis&quot; level=&quot;INFO&quot;&gt;&lt;/logger&gt;&lt;!--AsyncLogger :å¼‚æ­¥â½‡å¿—,LOG4J æœ‰ä¸‰ç§â½‡å¿—æ¨¡å¼,å…¨å¼‚æ­¥æ—¥å¿—,æ··åˆæ¨¡å¼,åŒæ­¥æ—¥å¿—,æ€§èƒ½ä»é«˜åˆ°ä½,çº¿ç¨‹è¶Šå¤šæ•ˆç‡è¶Šé«˜,ä¹Ÿå¯ä»¥é¿å…æ—¥å¿—å¡æ­»çº¿ç¨‹æƒ…å†µå‘ç”Ÿ--&gt;&lt;!--additivity=&quot;false&quot; : additivityè®¾ç½®äº‹ä»¶æ˜¯å¦åœ¨root loggerè¾“å‡ºï¼Œä¸ºäº†é¿å…é‡å¤è¾“å‡ºï¼Œå¯ä»¥åœ¨Logger æ ‡ç­¾ä¸‹è®¾ç½®additivityä¸ºâ€falseâ€--&gt;  &lt;AsyncLogger name=&quot;AsyncLogger&quot; level=&quot;trace&quot; includeLocation=&quot;true&quot;additivity=&quot;true&quot;&gt;    &lt;appender-ref ref=&quot;Console&quot;/&gt;  &lt;/AsyncLogger&gt;  &lt;logger name=&quot;Kafka&quot; additivity=&quot;false&quot; level=&quot;debug&quot;&gt;    &lt;appender-ref ref=&quot;Kafka&quot;/&gt;    &lt;appender-ref ref=&quot;Console&quot;/&gt;  &lt;/logger&gt;&lt;!-- RootèŠ‚ç‚¹â½¤æ¥æŒ‡å®šé¡¹ç›®çš„æ ¹æ—¥å¿—ï¼Œå¦‚æœæ²¡æœ‰å•ç‹¬æŒ‡å®šLoggerï¼Œé‚£ä¹ˆå°±ä¼šé»˜è®¤ä½¿ç”¨è¯¥ Root â½‡å¿—è¾“å‡º --&gt;  &lt;root level=&quot;info&quot;&gt;    &lt;appender-ref ref=&quot;Console&quot;/&gt;    &lt;!--&lt;appender-ref ref=&quot;File&quot;/&gt;--&gt;    &lt;!--&lt;appender-ref ref=&quot;RollingFile&quot;/&gt;--&gt;    &lt;!--&lt;appender-ref ref=&quot;Kafka&quot;/&gt;--&gt;  &lt;/root&gt;  &lt;/loggers&gt;&lt;/configuration&gt;\nÂ¶jcl\né…ç½®æ–‡ä»¶ï¼Œé¦–å…ˆåœ¨ classpath ä¸‹å¯»æ‰¾ commons-logging.properties æ–‡ä»¶ã€‚å¦‚æœæ‰¾åˆ°ï¼Œåˆ™ä½¿â½¤å…¶ä¸­å®šä¹‰çš„ Log å®ç°ç±»;å¦‚æœæ‰¾ä¸åˆ°ï¼Œåˆ™å†æŸ¥æ‰¾æ˜¯å¦å·²å®šä¹‰ç³»ç»Ÿç¯å¢ƒå˜é‡ org.apache.commons.logging.Logï¼Œæ‰¾åˆ°åˆ™ä½¿â½¤å…¶å®šä¹‰çš„ Log å®ç°ç±»\næŸ¥çœ‹ classpath ä¸­æ˜¯å¦æœ‰ Log4j çš„åŒ…ï¼Œå¦‚æœå‘ç°åˆ™â¾ƒåŠ¨ä½¿â½¤ Log4j ä½œä¸ºâ½‡å¿—å®ç°ç±»ï¼›å¦åˆ™ï¼Œä½¿ç”¨ JDK è‡ªèº«çš„æ—¥å¿—å®ç°ç±»ï¼ˆJDK 1.4 ä»¥åæ‰æœ‰æ—¥å¿—å®ç°ç±»ï¼‰ï¼›å¦åˆ™ï¼Œä½¿ç”¨ commons-logging è‡ªå·±æä¾›çš„ä¸€ä¸ªç®€å•çš„æ—¥å¿—å®ç°ç±» SimpleLog\n\nJCL æœ‰äº”ä¸ªçº§åˆ«ï¼š\n1trace -&gt; debug -&gt; info -&gt; warn -&gt; error\n123456#æŒ‡å®šâ½‡æ—¥å¿—å¯¹è±¡:#org.apache.commons.logging.Log=org.apache.commons.logging.impl.SimpleLog#org.apache.commons.logging.Log=org.apache.commons.logging.impl.Jdk14Loggerorg.apache.commons.logging.Log=org.apache.commons.logging.impl.Log4JLogger#æŒ‡å®šâ½‡å¿—â¼¯å‚:org.apache.commons.logging.LogFactory = org.apache.commons.logging.impl.LogFactoryImpl\nÂ¶slf4j\nå…·ä½“æ—¥å¿—è¾“å‡ºå†…å®¹å–å†³äºå…·ä½“çš„æ—¥å¿—å®ç°\nslf4j æ—¥å¿—çº§åˆ«ä»é«˜åˆ°ä½æœ‰äº”ç§ï¼šERRORã€WARNã€INFOã€DEBUGã€TRACE\n12345678910111213141516171819202122232425262728293031323334353637383940414243 &lt;!--slfè½¬å…¶ä»–æ—¥å¿—--&gt;&lt;!--slf - jcl--&gt;&lt;dependency&gt;  &lt;groupId&gt;org.slf4j&lt;/groupId&gt;  &lt;artifactId&gt;slf4j-jcl&lt;/artifactId&gt;  &lt;version&gt;1.7.30&lt;/version&gt;&lt;/dependency&gt;&lt;!-- slf - log4j --&gt;&lt;dependency&gt;    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;    &lt;version&gt;1.7.30&lt;/version&gt;&lt;/dependency&gt;&lt;!-- slf4j - log4j2 --&gt;&lt;dependency&gt;    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;    &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;    &lt;version&gt;2.13.0&lt;/version&gt;&lt;/dependency&gt;&lt;!--slf - jul--&gt;&lt;dependency&gt;    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;    &lt;artifactId&gt;slf4j-jdk14&lt;/artifactId&gt;    &lt;version&gt;1.7.30&lt;/version&gt;&lt;/dependency&gt;&lt;!--slf - simplelog--&gt;&lt;dependency&gt;&lt;groupId&gt;org.slf4j&lt;/groupId&gt;    &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;    &lt;version&gt;1.7.30&lt;/version&gt;&lt;/dependency&gt;&lt;!--slf - logback--&gt;&lt;dependency&gt;    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;    &lt;artifactId&gt;logback-core&lt;/artifactId&gt;    &lt;version&gt;1.2.3&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;    &lt;version&gt;1.2.3&lt;/version&gt;&lt;/dependency&gt;\nå¦‚æœå­˜åœ¨å¤šä¸ªæ¡¥æ¥å™¨çš„è¯ï¼Œslf4j ä¼šä½¿ç”¨åœ¨ classpath ä¸­è¾ƒæ—©å‡ºç°çš„é‚£ä¸ªï¼Œå¦‚åœ¨ maven ä¸­ï¼Œä¼šä½¿ç”¨åœ¨ pom.xml ä¸­å®šä¹‰è¾ƒé å‰çš„æ¡¥æ¥å™¨\nä¸ä»… slf4j èƒ½å¤Ÿæ¡¥æ¥åˆ°ç‰¹å®šçš„æ—¥å¿—å®ç°ï¼Œç‰¹å®šçš„å®ç°ä¹Ÿå¯ä»¥æ¡¥æ¥åˆ°å…·ä½“çš„æ—¥å¿—\n123456789101112131415161718192021222324&lt;!--å…¶ä»–â½‡æ—¥å¿—è½¬slf--&gt;&lt;!--jul - slf--&gt;&lt;dependency&gt;    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;    &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;    &lt;version&gt;1.7.30&lt;/version&gt;&lt;/dependency&gt;    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;    &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;    &lt;version&gt;1.7.30&lt;/version&gt;&lt;/dependency&gt;&lt;!--log4j - slf--&gt;&lt;dependency&gt;    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;    &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;&lt;version&gt;1.7.30&lt;/version&gt;&lt;/dependency&gt;&lt;!--log4j2 - slf--&gt;&lt;dependency&gt;    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;    &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;    &lt;version&gt;2.13.0&lt;/version&gt;&lt;/dependency&gt;\næ—¥å¿—ä¹‹é—´çš„æ¡¥æ¥ï¼Œéå¸¸å®¹æ˜“å‡ºç° slf4j çš„ä¸€ä¸ªè‘—åé—®é¢˜ï¼šslf4j çš„æ—¥å¿—ç¯é—®é¢˜\nÂ¶Spring Boot ä¸­çš„æ—¥å¿—ä½¿ç”¨\nspringboot æ¡†æ¶åœ¨ä¼ä¸šä¸­çš„ä½¿ç”¨è¶Šæ¥è¶Šæ™®éï¼Œspring boot æ—¥å¿—ä¹Ÿæ˜¯å¼€å‘ä¸­å¸¸ç”¨çš„æ—¥å¿—ç³»ç»Ÿã€‚spring boot é»˜è®¤å°±æ˜¯ä½¿ç”¨ SLF4J ä½œä¸ºæ—¥å¿—é—¨é¢ï¼Œlogback ä½œä¸ºæ—¥å¿—å®ç°æ¥è®°å½•æ—¥å¿—\nå¼•å…¥å¦‚ä¸‹ä¾èµ–ï¼š\npom.xml1234&lt;dependency&gt;&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;/dependency&gt;\næµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š\nSpringbootLogApplicationTests.java123456789101112@SpringBootTestclass SpringbootLogApplicationTests&#123;public static final Logger LOGGER = LoggerFactory.getLogger(SpringBootLogApplicationTests.class);@Testpublic void contextLoads()&#123;LOGGER.error(&quot;error&quot;);LOGGER.warn(&quot;warn&quot;);LOGGER.info(&quot;info&quot;); // é»˜è®¤æ—¥å¿—çº§åˆ«LOGGER.debug(&quot;debug&quot;);LOGGER.trace(&quot;trace&quot;);&#125;&#125;\né»˜è®¤çš„æ—¥å¿—é…ç½®å¦‚ä¸‹ï¼š\napplication.yml12345678910logging.level.com.pineapple=trace# åœ¨æ§åˆ¶å°è¾“å‡ºçš„æ—¥å¿—çš„æ ¼å¼ åŒ logbacklogging.pattern.console=%d&#123;yyyy-MM-dd&#125; [%thread] [%-5level] %logger&#123;50&#125; -%msg%n# æŒ‡å®šæ–‡ä»¶ä¸­æ—¥å¿—è¾“å‡ºçš„æ ¼å¼logging.file=D:/logs/springboot.loglogging.pattern.file=%d&#123;yyyy-MM-dd&#125; [%thread] %-5level %logger&#123;50&#125; - %msg%n\nå¦‚æœç»™ç±»è·¯å¾„ä¸‹æ”¾ä¸Šæ¯ä¸ªæ—¥å¿—æ¡†æ¶è‡ªå·±çš„é…ç½®æ–‡ä»¶ï¼ŒSpring Boot å°±ä¸ä½¿ç”¨é»˜è®¤çš„é…ç½®äº†\n\n\n\næ—¥å¿—æ¡†æ¶\né…ç½®æ–‡ä»¶\n\n\n\n\nLogback\nlogback-spring.xml,locback.xml\n\n\nlog4j2\nlog4j2-spring.xml,log4j2.xml\n\n\njul\nlogging.properties\n\n\n\nÂ¶æ—¥å¿—ä½¿ç”¨å»ºè®®\næ—¢ç„¶ Java æœ‰è¿™ä¹ˆå¤šæ—¥å¿—ï¼Œé‚£ä¹ˆåˆ°åº•åº”è¯¥å¦‚ä½•ä¼˜é›…çš„ä½¿ç”¨ Java æ—¥å¿—ï¼Ÿ\nÂ¶é—¨é¢çº¦æŸ\nä½¿ç”¨é—¨é¢ï¼Œè€Œï¥§æ˜¯å…·ä½“å®ç°ï¼Œä½¿â½¤ Log Facade å¯ä»¥æ–¹ï¥¥çš„åˆ‡æ¢å…·ä½“çš„æ—¥å¿—å®ç°ã€‚â½½ä¸”ï¼Œå¦‚æœä¾èµ–å¤šä¸ªé¡¹ç›®ï¼Œä½¿â½¤äº†ï¥§åŒçš„ Log Facadeï¼Œè¿˜å¯ä»¥æ–¹ä¾¿çš„é€šè¿‡ Adapter è½¬æ¥åˆ°åŒâ¼€ä¸ªå®ç°ä¸Šã€‚\nğŸ‘´ æ—¥å¿—é—¨é¢ç°åœ¨æ¨èä½¿ç”¨ Log4j-API æˆ–è€… SLF4jï¼Œä¸æ¨èç»§ç»­ä½¿ç”¨ JCL\nÂ¶å•ä¸€åŸåˆ™\nåªæ·»åŠ ä¸€ä¸ªæ—¥å¿—å®ç°ï¼Œé¡¹ç›®ä¸­åº”è¯¥åªä½¿ç”¨ä¸€ä¸ªå…·ä½“çš„ Log Implementationï¼Œå¦‚æœåœ¨ä¾èµ–çš„é¡¹ç›®ä¸­ï¼Œä½¿ç”¨çš„ Log Facade ä¸æ”¯æŒå½“å‰ Log Implementationï¼Œå°±æ·»åŠ åˆé€‚çš„æ¡¥æ¥å™¨\nğŸ‘´ JUL æ€§èƒ½ä¸€èˆ¬ï¼Œlog4j æ€§èƒ½ä¹Ÿæœ‰é—®é¢˜è€Œä¸”ä¸å†ç»´æŠ¤ï¼Œç›®å‰ log4j2 è¿˜æœ‰å®‰å…¨é—®é¢˜ï¼Œæ¨èä½¿ç”¨ logback\nÂ¶ä¾èµ–çº¦æŸ\nåœ¨é¡¹â½¬ä¸­ï¼ŒLog Implementation çš„ä¾èµ–å¼ºï¦Ÿå»ºè®®è®¾ç½®ä¸º runtime scopeï¼Œå¹¶ä¸”è®¾ç½®ä¸º optionalã€‚ä¾‹å¦‚é¡¹ç›®ä¸­ä½¿ç”¨ï¦º SLF4J ä½œä¸º Log Facadeï¼Œç„¶åæƒ³ä½¿ç”¨ Log4j2 ä½œä¸º Implementationï¼Œé‚£ä¹ˆä½¿ç”¨ maven æ·»åŠ ä¾èµ–çš„æ—¶å€™è¿™æ ·è®¾ç½®\n123456789101112131415&lt;dependency&gt;    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;    &lt;version&gt;$&#123;log4j.version&#125;&lt;/version&gt;    &lt;scope&gt;runtime&lt;/scope&gt;    &lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt;&lt;dependency&gt;    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;    &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;    &lt;version&gt;$&#123;log4j.version&#125;&lt;/version&gt;    &lt;scope&gt;runtime&lt;/scope&gt;    &lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt;\n\nè®¾ä¸º optionalï¼Œä¾èµ–ä¸ä¼šä¼ é€’ï¼Œè¿™æ ·å¦‚æœæ˜¯ä¸ª lib é¡¹ç›®ï¼Œç„¶ååˆ«çš„é¡¹â½¬ä½¿ç”¨ï¦ºè¿™ä¸ª libï¼Œï¥§ä¼šè¢«å¼•å…¥ä¸æƒ³è¦çš„ Log Implementation ä¾èµ–;\nScope è®¾ç½®ä¸º runtimeï¼Œæ˜¯ä¸ºï¦ºé˜²æ­¢å¼€å‘â¼ˆå‘˜åœ¨é¡¹â½¬ä¸­ç›´æ¥ä½¿ç”¨ Log Implementation ä¸­çš„ç±»ï¼Œå¼ºåˆ¶çº¦æŸå¼€å‘â¼ˆå‘˜ä½¿ç”¨ Facade æ¥â¼\n\nÂ¶é¿å…ä¼ é€’\nå°½é‡ç”¨ exclusion æ’é™¤ä¾èµ–çš„ç¬¬ä¸‰æ–¹åº“ä¸­çš„â½‡å¿—åæ ‡ï¼ŒåŒä¸Šâ¼€ä¸ªè¯é¢˜ï¼Œç¬¬ä¸‰æ–¹åº“çš„å¼€å‘è€…å´æœªå¿…ä¼šæŠŠå…·ä½“çš„â½‡å¿—å®ç°æˆ–è€…æ¡¥æ¥ï¨¸çš„ä¾èµ–è®¾ç½®ä¸º optionalï¼Œ ç„¶åä½ çš„é¡¹â½¬å°±ä¼šè¢«è¿«ä¼ é€’å¼•â¼Šè¿™äº›ä¾èµ–ï¼Œè€Œè¿™äº›â½‡å¿—å®ç°æœªå¿…æ˜¯ä½ æƒ³è¦çš„ï¼Œâ½å¦‚ä»–ä¾èµ–äº† Log4jï¼Œä½ æƒ³ä½¿ç”¨ Logbackï¼Œè¿™æ—¶å°±å¾ˆå°´å°¬ã€‚å¦å¤–ï¼Œå¦‚æœï¥§åŒçš„ç¬¬ä¸‰â½…ä¾èµ–ä½¿â½¤ï¦ºä¸åŒçš„æ¡¥æ¥ï¨¸å’Œ Log å®ç°ï¼Œææœ‰å¯èƒ½ä¼šå½¢æˆç¯ã€‚\nè¿™ç§æƒ…å†µä¸‹ï¼Œæ¨èçš„å¤„ç†â½…æ³•ï¼Œæ˜¯ä½¿ç”¨ exclude æ¥æ’é™¤æ‰€æœ‰çš„è¿™äº› Log å®ç°å’Œæ¡¥æ¥å™¨çš„ä¾èµ–ï¼Œåªä¿ç•™ç¬¬ä¸‰â½…åº“â¾¥é¢å¯¹ Log Facade çš„ä¾èµ–\nä¾èµ– jstorm ä¼šå¼•â¼Š Logback å’Œ log4j-over-slf4jï¼Œå¦‚æœä½ åœ¨â¾ƒå·±çš„é¡¹â½¬ä¸­ä½¿ç”¨ Log4j æˆ–å…¶ä»– Log å®ç°çš„è¯ï¼Œå°±éœ€è¦åŠ ä¸Š exclusion:\n12345678910111213141516&lt;dependency&gt;    &lt;groupId&gt;com.alibaba.jstorm&lt;/groupId&gt;    &lt;artifactId&gt;jstorm-core&lt;/artifactId&gt;    &lt;version&gt;2.1.1&lt;/version&gt;    &lt;exclusions&gt;        &lt;exclusion&gt;            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;            &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;        &lt;/exclusion&gt;        &lt;exclusion&gt;            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;        &lt;/exclusion&gt;    &lt;/exclusions&gt;&lt;/dependency&gt;\nÂ¶æ³¨æ„å†™æ³•\né¿å…ä¸ºä¸ä¼šè¾“å‡ºçš„ log ä¹°å•ã€‚Log åº“éƒ½å¯ä»¥çµæ´»çš„è®¾ç½®è¾“å‡ºçº§åˆ«ï¼Œæ‰€ä»¥æ¯ä¸€æ¡ç¨‹åºä¸­çš„ logï¼Œéƒ½æ˜¯æœ‰å¯èƒ½ä¸ä¼šè¢«è¾“å‡ºçš„ï¼Œè¿™æ—¶å€™è¦æ³¨æ„ä¸è¦é¢å¤–çš„ä»˜å‡ºä»£ä»·ã€‚\n12logger.debug(&quot;this is debug: &quot; + message);logger.debug(&quot;this is json msg: &#123;&#125;&quot;, toJson(message));\nç¬¬ä¸€æ¡çš„å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œå³ä½¿æ—¥å¿—çº§åˆ«â¾¼äº debug ï¥§ä¼šæ‰“å°ï¼Œä¾ç„¶ä¼šåšå­—ç¬¦ä¸²è¿æ¥æ“ä½œ; ç¬¬äºŒæ¡è™½ç„¶â½¤ï¦º SLF4J/Log4j2 ä¸­çš„æ‡’æ±‚å€¼â½…å¼ï¼Œä½†æ˜¯ toJson()è¿™ä¸ªå‡½æ•°å´æ˜¯æ€»ä¼šè¢«è°ƒç”¨å¹¶ä¸”å¼€é”€æ›´å¤§ã€‚ æ¨èçš„å†™æ³•å¦‚ä¸‹:\n12345678 // SLF4J/LOG4J2logger.debug(&quot;this is debug:&#123;&#125;&quot;, message);// LOG4J2logger.debug(&quot;this is json msg: &#123;&#125;&quot;, () -&gt; toJson(message));// SLF4J/LOG4J2if (logger.isDebugEnabled()) &#123;    logger.debug(&quot;this is debug: &quot; + message);&#125;\nÂ¶å‡å°‘åˆ†æ\nè¾“å‡ºçš„æ—¥å¿—ä¸­å°½é‡ä¸è¦ä½¿ç”¨è¡Œå·ï¼Œå‡½æ•°åç­‰ä¿¡æ¯ã€‚åŸå› æ˜¯ï¼šä¸ºäº†è·å–è¯­å¥æ‰€åœ¨çš„å‡½æ•°åï¼Œæˆ–è€…è¡Œå·ï¼Œlog åº“çš„å®ç°éƒ½æ˜¯è·å–å½“å‰çš„ stacktrace ï¼Œç„¶ååˆ†æå–å‡ºè¿™äº›ä¿¡æ¯ï¼Œè€Œè·å– stacktrace çš„ä»£ä»·æ˜¯æ˜‚è´µçš„ã€‚å¦‚æœæœ‰å¾ˆå¤šçš„æ—¥å¿—è¾“å‡ºï¼Œå°±ä¼šå ç”¨å¤§é‡çš„ CPUï¼Œåœ¨æ²¡æœ‰ç‰¹æ®Šéœ€æ±‚çš„æƒ…å†µä¸‹ï¼Œå»ºè®®ä¸è¦åœ¨æ—¥å¿—ä¸­è¾“å‡ºè¿™äº›å­—æ®µ\nÂ¶ç²¾ç®€è‡³ä¸Š\nlog ä¸­å°½é‡ï¥§è¦è¾“å‡ºç¨€å¥‡å¤æ€ªçš„å­—ç¬¦ï¼Œè¿™æ˜¯ä¸ªä¹ æƒ¯å’Œçº¦æŸé—®é¢˜ï¼Œä¸‹é¢è¿™ä¸ªè¯­å¥æœ€å¥½ä¸è¦å‡ºç°åœ¨é¡¹ç›®ä¸­\n1logger.debug(&quot;===========================:&#123;&#125;&quot;,message);\nè¾“å‡ºå¤§é‡æ— å…³å­—ç¬¦ï¼Œè™½ç„¶è‡ªå·±ä¸€æ—¶ç—›å¿«ï¼Œä½†æ˜¯å¦‚æœæ‰€æœ‰äººéƒ½è¿™æ ·åšçš„è¯ï¼Œé‚£ log è¾“å‡ºå°±æ²¡æ³•çœ‹äº†ï¼æ­£ç¡®çš„åšæ³•æ˜¯æ—¥å¿—åªè¾“å‡ºå¿…è¦çš„ä¿¡æ¯ï¼Œå¦‚æœè¦è¿‡æ»¤ï¼ŒåæœŸä½¿ç”¨ grep æ¥ç­›é€‰ï¼ŒåªæŸ¥çœ‹è‡ªå·±å…³å¿ƒçš„æ—¥å¿—\nÂ¶é™„å½•\nå¤æ‚ Spring é¡¹ç›®ä¸­ SLF4J æœ€ä½³ä½¿ç”¨å§¿åŠ¿\n","dateCreated":"2022-01-13T05:13:22+00:00","dateModified":"2023-06-07T02:13:34+00:00","datePublished":"2022-01-13T05:13:22+00:00","description":"æ­å–œä½ å³å°†æˆä¸ºåˆæ ¼çš„é«˜çº§ç¨‹åºå‘˜ï¼Œæ—¥å¿—è®°å½•æ˜¯ä¸€ä¸ªä¼˜ç§€çš„å¼€å‘å¿…ç„¶çš„é€‰æ‹©ï¼Œæœ¬æ–‡å°†ç®€è¦çš„é˜è¿° Java ç¯å¢ƒä¸­æ—¥å¿—ç³»ç»Ÿçš„é‚£äº›äº‹","headline":"æ—¥å¿—ç³»ç»Ÿæ¦‚è¿°","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://pineapple-man.github.io/%E6%97%A5%E5%BF%97%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0/"},"publisher":{"@type":"Organization","name":"pineapple-man","sameAs":["https://github.com/pineapple-man","mailto://mingchaohu720@gmail.com"],"image":"logo.png","logo":{"@type":"ImageObject","url":"logo.png"}},"url":"https://pineapple-man.github.io/%E6%97%A5%E5%BF%97%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0/","keywords":"æ—¥å¿—ç³»ç»Ÿ"}</script><meta name="description" content="æ­å–œä½ å³å°†æˆä¸ºåˆæ ¼çš„é«˜çº§ç¨‹åºå‘˜ï¼Œæ—¥å¿—è®°å½•æ˜¯ä¸€ä¸ªä¼˜ç§€çš„å¼€å‘å¿…ç„¶çš„é€‰æ‹©ï¼Œæœ¬æ–‡å°†ç®€è¦çš„é˜è¿° Java ç¯å¢ƒä¸­æ—¥å¿—ç³»ç»Ÿçš„é‚£äº›äº‹"><meta property="og:type" content="blog"><meta property="og:title" content="æ—¥å¿—ç³»ç»Ÿæ¦‚è¿°"><meta property="og:url" content="https://pineapple-man.github.io/%E6%97%A5%E5%BF%97%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0/"><meta property="og:site_name" content="pineapple-man"><meta property="og:description" content="æ­å–œä½ å³å°†æˆä¸ºåˆæ ¼çš„é«˜çº§ç¨‹åºå‘˜ï¼Œæ—¥å¿—è®°å½•æ˜¯ä¸€ä¸ªä¼˜ç§€çš„å¼€å‘å¿…ç„¶çš„é€‰æ‹©ï¼Œæœ¬æ–‡å°†ç®€è¦çš„é˜è¿° Java ç¯å¢ƒä¸­æ—¥å¿—ç³»ç»Ÿçš„é‚£äº›äº‹"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/pineapple-man/blogImage@main/image/java%E6%97%A5%E5%BF%97%E4%BD%93%E7%B3%BB.jpg"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/pineapple-man/blogImage@main/image/java/jcl-uml.jpg"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/pineapple-man/blogImage@main/image/slf4j%E4%BD%93%E7%B3%BB.png"><meta property="article:published_time" content="2022-01-13T05:13:22.000Z"><meta property="article:modified_time" content="2023-06-07T02:13:34.011Z"><meta property="article:author" content="pineapple-man"><meta property="article:tag" content="æ—¥å¿—ç³»ç»Ÿ"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/pineapple-man/blogImage@main/image/java%E6%97%A5%E5%BF%97%E4%BD%93%E7%B3%BB.jpg"><meta property="og:image" content="https://pineapple-man.github.io/assets/images/logo.png"><link rel="stylesheet" href="/assets/css/style-oth3meuzcjopbgwqbdvoxqknhcm0sy9wkullcc94zhkkop3pmfrpl5t4fzzz.min.css"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-210516333-1"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-210516333-1")</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css"></head><body><div id="blog"><header id="header" data-behavior="5"><i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i><div class="header-title"><a class="header-title-link" href="/" aria-label="">pineapple-man</a></div><a class="header-right-picture" href="#about" aria-label="æ‰“å¼€é“¾æ¥: /#about"><img class="header-picture" src="/assets/images/logo.png" alt="ä½œè€…çš„å›¾ç‰‡"></a></header><nav id="sidebar" data-behavior="5"><div class="sidebar-container"><div class="sidebar-profile"><a href="/#about" aria-label="é˜…è¯»æœ‰å…³ä½œè€…çš„æ›´å¤šä¿¡æ¯"><img class="sidebar-profile-picture" src="/assets/images/logo.png" alt="ä½œè€…çš„å›¾ç‰‡"></a><h4 class="sidebar-profile-name">pineapple-man</h4><h5 class="sidebar-profile-bio"><p>åšä¸€ä¸ªè èï¼šç«™å¾—ç¬”ç›´ï¼Œå¤´æˆ´ç‹å† ï¼Œå†…å¿ƒç”œç¾</p></h5></div><ul class="sidebar-buttons"><li class="sidebar-button"><a class="sidebar-button-link" href="/" rel="noopener" title="é¦–é¡µ"><i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i> <span class="sidebar-button-desc">é¦–é¡µ</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="/all-categories" rel="noopener" title="åˆ†ç±»"><i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i> <span class="sidebar-button-desc">åˆ†ç±»</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="/all-tags" rel="noopener" title="æ ‡ç­¾"><i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i> <span class="sidebar-button-desc">æ ‡ç­¾</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="/all-archives" rel="noopener" title="å½’æ¡£"><i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i> <span class="sidebar-button-desc">å½’æ¡£</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="#about" rel="noopener" title="å…³äº"><i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i> <span class="sidebar-button-desc">å…³äº</span></a></li></ul><ul class="sidebar-buttons"><li class="sidebar-button"><a class="sidebar-button-link" href="https://github.com/pineapple-man" target="_blank" rel="noopener" title="GitHub"><i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i> <span class="sidebar-button-desc">GitHub</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="mailto://mingchaohu720@gmail.com" target="_blank" rel="noopener" title="é‚®ç®±"><i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i> <span class="sidebar-button-desc">é‚®ç®±</span></a></li></ul></div></nav><div id="main" data-behavior="5" class="hasCoverMetaIn"><article class="post"><div class="post-header main-content-wrap text-center"><h1 class="post-title">æ—¥å¿—ç³»ç»Ÿæ¦‚è¿°</h1><div class="post-meta"><time datetime="2022-01-13T05:13:22+00:00">1æœˆ 13, 2022 </time><span>å‘å¸ƒåœ¨ </span><a class="category-link" href="/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/">ä¸­é—´ä»¶</a> <i class="fas fa-book-open"></i> æœ¬æ–‡å…±<span class="post-count"> 8.2k </span>å­— <i class="far fa-clock"></i> é˜…è¯»é¢„è®¡<span class="post-count"> 90 </span>åˆ†é’Ÿ</div></div><div class="post-content markdown"><div class="main-content-wrap"><h1 id="table-of-contents">ç›®å½•</h1><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%A5%E5%BF%97%E6%A6%82%E8%BF%B0"><span class="toc-text">æ—¥å¿—æ¦‚è¿°</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A5%E5%BF%97%E4%BD%93%E7%B3%BB%E6%A6%82%E8%BF%B0"><span class="toc-text">æ—¥å¿—ä½“ç³»æ¦‚è¿°</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B7%B7%E4%B9%B1%E7%9A%84%E6%97%A5%E5%BF%97%E4%BD%93%E7%B3%BB"><span class="toc-text">æ··ä¹±çš„æ—¥å¿—ä½“ç³»</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8A%E5%8F%A4%E6%97%B6%E4%BB%A3"><span class="toc-text">ä¸Šå¤æ—¶ä»£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%80%E5%88%9B%E5%85%88%E9%A9%B1"><span class="toc-text">å¼€åˆ›å…ˆé©±</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%90%9E%E4%BA%8B%E6%83%85%E7%9A%84-JUL"><span class="toc-text">æäº‹æƒ…çš„ JUL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JCL-%E5%BA%94%E8%BF%90%E8%80%8C%E7%94%9F"><span class="toc-text">JCL åº”è¿è€Œç”Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%8D%E8%B5%B7%E6%B3%A2%E6%BE%9C"><span class="toc-text">å†èµ·æ³¢æ¾œ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%8D%E5%BA%A6%E9%9D%92%E6%98%A5"><span class="toc-text">å†åº¦é’æ˜¥</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E8%AE%B2%E8%A7%A3"><span class="toc-text">é…ç½®è®²è§£</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A5%E5%BF%97%E7%BA%A7%E5%88%AB"><span class="toc-text">æ—¥å¿—çº§åˆ«</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A5%E5%BF%97%E7%BB%84%E4%BB%B6"><span class="toc-text">æ—¥å¿—ç»„ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JUL"><span class="toc-text">JUL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#log4j"><span class="toc-text">log4j</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#logback"><span class="toc-text">logback</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#logback-%E7%BB%84%E4%BB%B6%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-text">logback ç»„ä»¶ä¹‹é—´çš„å…³ç³»</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF"><span class="toc-text">åŸºæœ¬é…ç½®ä¿¡æ¯</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#log4j2"><span class="toc-text">log4j2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#jcl"><span class="toc-text">jcl</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#slf4j"><span class="toc-text">slf4j</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring-Boot-%E4%B8%AD%E7%9A%84%E6%97%A5%E5%BF%97%E4%BD%BF%E7%94%A8"><span class="toc-text">Spring Boot ä¸­çš„æ—¥å¿—ä½¿ç”¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%A5%E5%BF%97%E4%BD%BF%E7%94%A8%E5%BB%BA%E8%AE%AE"><span class="toc-text">æ—¥å¿—ä½¿ç”¨å»ºè®®</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%97%A8%E9%9D%A2%E7%BA%A6%E6%9D%9F"><span class="toc-text">é—¨é¢çº¦æŸ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E4%B8%80%E5%8E%9F%E5%88%99"><span class="toc-text">å•ä¸€åŸåˆ™</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%9D%E8%B5%96%E7%BA%A6%E6%9D%9F"><span class="toc-text">ä¾èµ–çº¦æŸ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%BF%E5%85%8D%E4%BC%A0%E9%80%92"><span class="toc-text">é¿å…ä¼ é€’</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E5%86%99%E6%B3%95"><span class="toc-text">æ³¨æ„å†™æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%8F%E5%B0%91%E5%88%86%E6%9E%90"><span class="toc-text">å‡å°‘åˆ†æ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B2%BE%E7%AE%80%E8%87%B3%E4%B8%8A"><span class="toc-text">ç²¾ç®€è‡³ä¸Š</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%99%84%E5%BD%95"><span class="toc-text">é™„å½•</span></a></li></ol><h2 id="æ—¥å¿—æ¦‚è¿°"><a class="header-anchor" href="#æ—¥å¿—æ¦‚è¿°">Â¶</a>æ—¥å¿—æ¦‚è¿°</h2><p>â“ä¸ºä»€ä¹ˆéœ€è¦æ—¥å¿—ï¼Ÿ</p><div class="alert success no-icon"><p>åœ¨å¾ˆå¤šçš„æƒ…å†µä¸‹ï¼Œæ—¥å¿—å¯èƒ½æ˜¯æˆ‘ä»¬äº†è§£åº”ç”¨å¦‚ä½•æ‰§è¡Œçš„å”¯ä¸€æ–¹å¼ï¼Œæ‰€ä»¥å­¦ä¹ æ—¥å¿—éå¸¸æœ‰å¿…è¦ã€‚æ›´ä½•å†µå‘å±•åˆ°ä»Šå¤©çš„è½¯ä»¶ç³»ç»Ÿå·²ç»éå¸¸å¤æ‚ï¼Œç‰¹åˆ«æ—¶æœåŠ¡å™¨çš„è½¯ä»¶ï¼Œè®¾è®¡åˆ°çš„çŸ¥è¯†å’Œå†…å®¹é—®é¢˜éå¸¸çš„å¤šï¼Œæœ‰äº†æ—¥å¿—æ‰èƒ½å¤Ÿæ›´æ–¹ä¾¿äº†è§£ç³»ç»Ÿè¿è¡Œè¿‡ç¨‹ä¸­å‡ºç°çš„ç§ç§é—®é¢˜ã€‚é€šè¿‡æ—¥å¿—å¯ä»¥å¤„ç†å†å²æ•°æ®ã€è¯Šæ–­é—®é¢˜çš„è¿½è¸ªä»¥åŠç†è§£ç³»ç»Ÿçš„æ´»åŠ¨ã€‚</p></div><p>æ ¹æ®æ—¥å¿—è®°å½•çš„å†…å®¹ä¸é€šï¼Œå¯ä»¥äººä¸ºçš„å°†æ—¥å¿—åˆ†ä¸ºä¸¤ç§ç±»å‹çš„æ—¥å¿—ï¼š<strong>è°ƒè¯•æ—¥å¿—</strong>å’Œ<strong>ç³»ç»Ÿæ—¥å¿—</strong></p><div class="alert success no-icon"><p>åœ¨è½¯ä»¶å¼€å‘ä¸­ï¼Œéœ€è¦ç»å¸¸çš„è°ƒè¯•ç¨‹åºï¼Œæˆ–è€…åšä¸€äº›çŠ¶æ€çš„è¾“å‡ºï¼Œä¾¿äºæˆ‘ä»¬æŸ¥è¯¢ç¨‹åºçš„è¿è¡ŒçŠ¶å†µï¼Œä¸ºäº†è®©æˆ‘ä»¬èƒ½å¤Ÿæ›´åŠ çµæ´»ä¸”æ–¹ä¾¿çš„æ§åˆ¶è¿™äº›è°ƒè¯•ä¿¡æ¯ï¼Œæˆ‘ä»¬è‚¯å®šæ˜¯éœ€è¦æ›´åŠ ä¸“ä¸šçš„æ—¥å¿—æŠ€æœ¯ã€‚æˆ‘ä»¬å¹³æ—¶åœ¨è°ƒè¯•ç¨‹åºçš„è¿‡ç¨‹ä¸­æ‰€ä½¿ç”¨çš„è‚¯å®šå°±æ˜¯ä¸“ä¸šå¼€å‘å·¥å…·è‡ªå¸¦çš„ debug åŠŸèƒ½ï¼Œå¯ä»¥å®æ—¶æŸ¥çœ‹ç¨‹åºè¿è¡Œæƒ…å†µï¼Œä¸èƒ½å¤Ÿæœ‰æ•ˆä¿å­˜è¿è¡Œæƒ…å†µçš„ä¿¡æ¯ã€‚è°ƒè¯•æ—¥å¿—æ˜¯èƒ½å¤Ÿæ›´åŠ æ–¹ä¾¿çš„å»ã€Œ é‡ç° ã€è¿™äº›é—®é¢˜</p></div><div class="alert success no-icon"><p>ç³»ç»Ÿæ—¥å¿—æ˜¯å®é™…ç”Ÿäº§ç¯å¢ƒä¸­æœ€å¸¸ä½¿ç”¨çš„æ—¥å¿—ï¼Œç»å¸¸ç”¨æ¥è®°å½•ç³»ç»Ÿä¸­ç¡¬ä»¶ã€è½¯ä»¶å’Œç³»ç»Ÿç›¸å…³é—®é¢˜çš„ä¿¡æ¯ï¼ŒåŒæ—¶è¿˜å¯ä»¥ç›‘è§†ç³»ç»Ÿä¸­å‘ç”Ÿçš„äº‹ä»¶ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡å®ƒæ¥æ£€æŸ¥é”™è¯¯å‘ç”Ÿçš„åŸå› ï¼Œæˆ–è€…å¯»æ‰¾åˆ°æ”»å‡»æ—¶ç•™ä¸‹çš„ç—•è¿¹ã€‚ç³»ç»Ÿæ—¥å¿—åŒ…æ‹¬ç³»ç»Ÿè¿è¡Œæ—¥å¿—ã€åº”ç”¨æ—¥å¿—å’Œå®‰å…¨æ—¥å¿—è¿™å‡ ç§</p></div><h3 id="æ—¥å¿—ä½“ç³»æ¦‚è¿°"><a class="header-anchor" href="#æ—¥å¿—ä½“ç³»æ¦‚è¿°">Â¶</a>æ—¥å¿—ä½“ç³»æ¦‚è¿°</h3><p>åœ¨ Java ä¸­ä¸€ç›´ç§‰æŒç€é¢å‘æ¥å£ç¼–ç¨‹ï¼Œæ‰€ä»¥ä»»ä½•ä¼˜ç§€çš„æ¡†æ¶ä¸€å®šæ˜¯å…ˆå­˜åœ¨æ¥å£ï¼Œè€Œåå†æ˜¯æ ¹æ®è¿™äº›æ¥å£åšåˆ°ä¸åŒçš„å®ç°ï¼ŒJava æ—¥å¿—ä½“ç³»å¦‚ä¸‹å›¾ï¼š</p><div class="figure fig-100 center"><a class="fancybox" target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/pineapple-man/blogImage@main/image/javaæ—¥å¿—ä½“ç³».jpg" data-caption="" data-fancybox="default"><img class="fig-img" src="https://cdn.jsdelivr.net/gh/pineapple-man/blogImage@main/image/javaæ—¥å¿—ä½“ç³».jpg" alt=""></a></div><p>Java ä¸­ç›¸å…³çš„æ—¥å¿—é—¨é¢ç³»ç»Ÿæ¦‚è¿°å¦‚ä¸‹ï¼š</p><table><thead><tr><th style="text-align:center">æ¥å£</th><th style="text-align:center">å«ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center"><code>JCL</code></td><td style="text-align:center">Java Commons Logginï¼ŒApache åŸºâ¾¦ä¼šæ‰€å±çš„é¡¹â½¬ï¼Œæ˜¯â¼€å¥— Java â½‡å¿—æ¥â¼</td></tr><tr><td style="text-align:center"><code>SLF4J</code></td><td style="text-align:center">Simple Logging Facade for Javaï¼Œæ˜¯ä¸€å¥—ç®€å•çš„ Java æ—¥å¿—é—¨é¢ï¼Œåªæä¾›ç›¸å…³æ¥å£ï¼Œå’Œå…¶ä»–æ—¥å¿—ä¹‹é—´éœ€è¦æ¡¥æ¥</td></tr></tbody></table><div class="alert info no-icon"><p>é—¨é¢å…¶å®å°±æ˜¯è¡¨ç¤ºï¼Œè¿™æ˜¯ä¸€å¥—<strong>æ¥å£</strong>ï¼Œå¹¶æ²¡æœ‰ç»™å‡º Java æ—¥å¿—çš„å…·ä½“å®ç°æ–¹å¼ï¼Œå…¶ä¸­æ‰€è¯´çš„æ¡¥æ¥ï¼ŒæŒ‡çš„æ˜¯<strong>æ¡¥æ¥æ¨¡å¼</strong></p></div><p>â“ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ—¥å¿—é—¨é¢æŠ€æœ¯</p><div class="alert success no-icon"><p>æ¯ä¸€ç§æ—¥å¿—æ¡†æ¶éƒ½æœ‰è‡ªå·±å•ç‹¬çš„ APIï¼Œè¦ä½¿ç”¨å¯¹åº”çš„æ¡†æ¶å°±è¦ä½¿ç”¨å¯¹åº”çš„ APIï¼Œè¿™å°±å¤§å¤§çš„å¢åŠ äº†åº”ç”¨ç¨‹åºä»£ç å¯¹äºæ—¥å¿—æ¡†æ¶çš„è€¦åˆæ€§ã€‚ä½¿ç”¨æ—¥å¿—é—¨é¢æŠ€æœ¯ä¹‹åï¼Œå¯¹äºåº”ç”¨ç¨‹åºæ¥è¯´ï¼Œæ— è®ºåº•å±‚çš„æ—¥å¿—æ¡†æ¶å¦‚ä½•æ”¹å˜ï¼Œåº”ç”¨ç¨‹åºä¸éœ€è¦ä¿®æ”¹ä»»ä½•ä¸€è¡Œä»£ç å°±å¯ä»¥ä¸Šçº¿è¿è¡Œ</p></div><p>Java ä¸­ç›¸å…³çš„æ—¥å¿—å®ç°æ¦‚è¿°å¦‚ä¸‹ï¼š</p><table><thead><tr><th style="text-align:center">æ—¥å¿—å®ç°</th><th style="text-align:center">å«ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center"><code>JUL</code></td><td style="text-align:center">JDK ä¸­çš„â½‡å¿—â¼¯å…·</td></tr><tr><td style="text-align:center"><code>Log4j</code></td><td style="text-align:center">â¾ªå±äº Apache åŸºâ¾¦ä¼šçš„â¼€å¥—â½‡å¿—æ¡†æ¶ï¼Œç°å·²ä¸å†ç»´æŠ¤</td></tr><tr><td style="text-align:center"><code>Log4j2</code></td><td style="text-align:center">Log4j çš„å‡çº§ç‰ˆæœ¬ï¼Œä¸ Log4j å˜åŒ–å¾ˆâ¼¤ï¼Œä¸å…¼å®¹</td></tr><tr><td style="text-align:center"><code>Logback</code></td><td style="text-align:center">â¼€ä¸ªå…·ä½“çš„â½‡å¿—å®ç°æ¡†æ¶ï¼Œå’Œ Slf4j æ˜¯åŒâ¼€ä¸ªä½œè€…ï¼Œæ€§èƒ½å¾ˆå¥½</td></tr></tbody></table><h2 id="æ··ä¹±çš„æ—¥å¿—ä½“ç³»"><a class="header-anchor" href="#æ··ä¹±çš„æ—¥å¿—ä½“ç³»">Â¶</a>æ··ä¹±çš„æ—¥å¿—ä½“ç³»</h2><p>Java çš„æ—¥å¿—ä½“ç³»éå¸¸çš„æ··ä¹±ï¼Œæœ¬å°èŠ‚å°†ä¸»è¦é˜è¿° Java æ—¥å¿—ä½“ç³»çš„å‘å±•è¿‡ç¨‹</p><h3 id="ä¸Šå¤æ—¶ä»£"><a class="header-anchor" href="#ä¸Šå¤æ—¶ä»£">Â¶</a>ä¸Šå¤æ—¶ä»£</h3><p>åœ¨ JDK 1.3 åŠä»¥å‰ï¼ŒJava æ‰“â½‡å¿—ä¾èµ– <code>System.out.println()</code>, <code>System.err.println()</code> æˆ–è€… <code>e.printStackTrace()</code>ï¼ŒDebug â½‡å¿—è¢«å†™åˆ° STDOUT æµï¼Œé”™è¯¯â½‡å¿—è¢«å†™åˆ° STDERR æµã€‚è¿™æ ·æ‰“â½‡å¿—æœ‰â¼€ä¸ªâ¾®å¸¸â¼¤çš„ç¼ºé™·ï¼š<strong>æ—¥å¿—è®°å½•â¾®å¸¸æœºæ¢°ï¼Œâ½†æ³•å®šåˆ¶ï¼Œä¸”â½‡å¿—ç²’åº¦ä¸å¤Ÿç»†åˆ†</strong></p><h3 id="å¼€åˆ›å…ˆé©±"><a class="header-anchor" href="#å¼€åˆ›å…ˆé©±">Â¶</a>å¼€åˆ›å…ˆé©±</h3><p>éšåï¼Œåœ¨ 2001 å¹´å‘å¸ƒäº† <code>Log4j</code>ï¼ŒLog4j åœ¨è®¾è®¡ä¸Šâ¾®å¸¸ä¼˜ç§€ï¼Œ å®ƒå®šä¹‰çš„ Loggerã€Appenderã€Level ç­‰æ¦‚å¿µå¯¹åç»­çš„ Java Log æ¡†æ¶æœ‰æ·±è¿œçš„å½±å“ï¼Œå¦‚ä»Šçš„å¾ˆå¤šâ½‡å¿—æ¡†æ¶åŸºæœ¬æ²¿â½¤äº†è¿™ç§æ€æƒ³ã€‚Log4j çš„æ€§èƒ½æ˜¯ä¸ªé—®é¢˜ï¼Œåœ¨ Logback å’Œ <code>Log4j2</code>å‡ºæ¥ä¹‹åï¼Œ2015 å¹´ 9 â½‰ï¼Œ Apache è½¯ä»¶åŸºâ¾¦ä¼šå®£å¸ƒï¼Œ<code>Log4j</code> ä¸å†ç»´æŠ¤ï¼Œå»ºè®®æ‰€æœ‰ç›¸å…³é¡¹â½¬å‡çº§åˆ° Log4j2<br>âœ¨ å¦‚æœè¦åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ log4jï¼Œåªéœ€è¦ä¸¤æ­¥å°±å¯ä»¥äº†ï¼Œåˆ†åˆ«æ˜¯ï¼šå¼•å…¥ log4j ä¾èµ–ä»¥åŠé…ç½® log4j</p><div class="alert warning no-icon"><p>å¼•å…¥ log4j ä¾èµ–ï¼š</p></div><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.17<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>apache-log4j-extras<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.17<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><div class="alert warning no-icon"><p>æ—¥å¿—è¾“å‡ºæ¨¡å¼é…ç½®:</p></div><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">log4j.rootLogger</span>=<span class="string">debug</span></span><br><span class="line"><span class="comment">#console</span></span><br><span class="line"><span class="attr">log4j.appender.stdout</span>=<span class="string">org.apache.log4j.ConsoleAppender</span></span><br><span class="line"><span class="attr">log4j.appender.stdout.layout</span>=<span class="string">org.apache.log4j.PatternLayout</span></span><br><span class="line"><span class="attr">log4j.appender.stdout.layout.ConversionPattern</span>=<span class="string">log4j:[%d&#123;yyyy-MM-dd HH:mm:ssa&#125;]:%p %l%m%n</span></span><br><span class="line"><span class="comment">#dailyfile</span></span><br><span class="line"><span class="attr">log4j.appender.dailyfile</span>=<span class="string">org.apache.log4j.DailyRollingFileAppender</span></span><br><span class="line"><span class="attr">log4j.appender.dailyfile.DatePattern</span>=<span class="string">&#x27;_&#x27;yyyy-MM-dd&#x27;.log&#x27;</span></span><br><span class="line"><span class="attr">log4j.appender.dailyfile.File</span>=<span class="string">./log4j.log</span></span><br><span class="line"><span class="attr">log4j.appender.dailyfile.Append</span>=<span class="string">true</span></span><br><span class="line"><span class="attr">log4j.appender.dailyfile.Threshold</span>=<span class="string">INFO</span></span><br><span class="line"><span class="attr">log4j.appender.dailyfile.layout</span>=<span class="string">org.apache.log4j.PatternLayout</span></span><br><span class="line"><span class="attr">log4j.appender.dailyfile.layout.ConversionPattern</span>=<span class="string">log4j:[%d&#123;yyyy-MM-dd HH:mm:ssa&#125;] [Thread: %t][ Class:%c &gt;&gt; Method: %l ]%n%p:%m%n</span></span><br></pre></td></tr></table></figure><h3 id="æäº‹æƒ…çš„-JUL"><a class="header-anchor" href="#æäº‹æƒ…çš„-JUL">Â¶</a>æäº‹æƒ…çš„ JUL</h3><p>sun å…¬å¸å¯¹äº log4j çš„å‡ºç°å†…â¼¼å¿ƒéšéšè¡¨ç¤ºå«‰å¦’ã€‚äºæ˜¯åœ¨ jdk1.4 ç‰ˆæœ¬åï¼Œå¼€å§‹æäº‹æƒ…ï¼Œå¢åŠ äº†ä¸€ä¸ªæ—¥å¿—åŒ…ï¼ˆ<code>java.util.logging</code>ï¼‰ï¼Œç®€ç§°ä¸º JULï¼Œâ½¤ä»¥å¯¹æŠ— log4j ï¼Œä½†æ˜¯å´ç»™å¼€å‘é€ æˆäº†éº»çƒ¦ï¼Œè¿™æ˜¯å› ä¸º JUL å’Œ log4j çš„ API å¹¶ä¸ç»Ÿä¸€ï¼Œä½¿å¾—é¡¹ç›®ä¸­æ—¥å¿—éš¾ä»¥ç®¡ç†ã€‚</p><p>âœ¨ ä½¿ç”¨ JUL éå¸¸çš„ç®€å•ï¼Œç”±äºæ˜¯ JDK ä¸­è‡ªå¸¦çš„æ‰€ä»¥å¹¶ä¸éœ€è¦å¼•å…¥é¢å¤–çš„ä¾èµ–ï¼Œåªéœ€è¦é…ç½®å³å¯ï¼Œé»˜è®¤çš„é…ç½®è·¯å¾„æ˜¯ï¼š<code>$JAVA_HOME/jre/lib/logging.properties</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Logger</span> <span class="variable">loggger</span> <span class="operator">=</span> Logger.getLogger(Demo.class.getName());</span><br><span class="line">logger.finest(<span class="string">&quot;xxxx&quot;</span>);</span><br></pre></td></tr></table></figure><div class="alert info no-icon"><p>JUL åŠŸèƒ½è¿œä¸å¦‚ log4j å®Œå–„ï¼Œâ¾ƒå¸¦çš„ Handlers æœ‰é™ï¼Œæ€§èƒ½å’Œå¯ç”¨æ€§ä¸Šä¹Ÿä¸€èˆ¬ï¼Œä¸æ˜¯éå¸¸æ¨èåœ¨é¡¹ç›®ä¸­ä½¿ç”¨</p></div><h3 id="JCL-åº”è¿è€Œç”Ÿ"><a class="header-anchor" href="#JCL-åº”è¿è€Œç”Ÿ">Â¶</a>JCL åº”è¿è€Œç”Ÿ</h3><p>ç”±äº JUL çš„ api ä¸ log4j æ˜¯å®Œå…¨ä¸åŒçš„ï¼Œå¹¶ä¸”æ—¥å¿—ç³»ç»Ÿäº’ç›¸æ²¡æœ‰å…³è”ï¼Œå½¼æ­¤æ²¡æœ‰çº¦å®šï¼Œä¸åŒäººçš„ä»£ç ä½¿â½¤ä¸åŒæ—¥å¿—ï¼Œæ›¿æ¢å’Œç»Ÿä¸€ä¹Ÿå°±å˜æˆäº†äº†â½è¾ƒæ£˜æ‰‹çš„â¼€ä»¶äº‹ã€‚è§£å†³è¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆå°±æ˜¯<strong>è¿›è¡ŒæŠ½è±¡</strong>ï¼Œ<strong>æŠ½è±¡å‡ºä¸€ä¸ªæ¥å£å±‚</strong>ï¼Œå¯¹æ¯ä¸ªæ—¥å¿—å®ç°éƒ½é€‚é…æˆ–è€…è½¬æ¥ï¼Œè¿™æ ·è¿™äº›æä¾›ç»™åˆ«â¼ˆçš„åº“éƒ½ç›´æ¥ä½¿ç”¨æŠ½è±¡å±‚å³å¯ ï¼Œä»¥åè°ƒç”¨çš„æ—¶å€™ï¼Œå°±è°ƒç”¨è¿™äº›æ¥â¼</p><p>JCL(Jakarta Commons Logging)åº”è¿è€Œç”Ÿï¼Œä¹Ÿå°±æ˜¯ <code>commons-logging-xx.jar</code> ç»„ä»¶ã€‚JCL åªæä¾› log æ¥å£ï¼Œå…·ä½“çš„å®ç°åˆ™åœ¨è¿è¡Œæ—¶åŠ¨æ€å¯»æ‰¾ã€‚ç”¨æˆ·å¯ä»¥è‡ªç”±é€‰æ‹©ç¬¬ä¸‰æ–¹çš„æ—¥å¿—ç»„ä»¶ä½œä¸ºå…·ä½“å®ç°ï¼Œåƒ log4jï¼Œæˆ–è€… jdk è‡ªå¸¦çš„ julï¼Œ common-logging ä¼šé€šè¿‡åŠ¨æ€æŸ¥æ‰¾çš„æœºåˆ¶ï¼Œåœ¨ç¨‹åºè¿è¡Œæ—¶è‡ªåŠ¨æ‰¾å‡ºçœŸæ­£ä½¿ç”¨çš„æ—¥å¿—åº“ã€‚</p><p>common-logging å†…éƒ¨æœ‰ä¸€ä¸ª Simple logger çš„ç®€å•å®ç°ï¼Œä½†æ˜¯åŠŸèƒ½å¾ˆå¼±ã€‚æ‰€ä»¥ä½¿ç”¨ common-loggingï¼Œé€šå¸¸éƒ½æ˜¯é…åˆç€ log4j ä»¥åŠå…¶ä»–æ—¥å¿—æ¡†æ¶æ¥ä½¿ç”¨ï¼Œç”¨å®ƒçš„å¥½å¤„å°±æ˜¯ï¼Œä»£ç ä¾èµ–æ˜¯ common-logging è€Œé log4j çš„ APIï¼Œ é¿å…äº†å’Œå…·ä½“çš„æ—¥å¿— API ç›´æ¥è€¦åˆï¼Œåœ¨æœ‰å¿…è¦æ—¶ï¼Œå¯ä»¥æ›´æ”¹æ—¥å¿—å®ç°çš„ç¬¬ä¸‰æ–¹åº“ã€‚</p><div class="alert info no-icon"><p>JCL ä¼šåœ¨ ClassLoader ä¸­è¿›â¾æŸ¥æ‰¾ï¼Œå¦‚æœèƒ½æ‰¾åˆ° Log4j åˆ™é»˜è®¤ä½¿â½¤ log4j å®ç°ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä½¿â½¤ JUL(jdk â¾ƒå¸¦çš„) å®ç°ï¼Œå†æ²¡æœ‰åˆ™ä½¿â½¤ JCL å†…éƒ¨æä¾›çš„ SimpleLog å®ç°ï¼Œå¦‚ä¸‹å›¾ï¼š</p></div><div class="figure fig-100 center"><a class="fancybox" target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/pineapple-man/blogImage@main/image/java/jcl-uml.jpg" data-caption="" data-fancybox="default"><img class="fig-img" src="https://cdn.jsdelivr.net/gh/pineapple-man/blogImage@main/image/java/jcl-uml.jpg" alt=""></a></div><p>å¦‚æœéœ€è¦åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ JCL åŒæ ·åˆ†ä¸ºä¸¤æ­¥ï¼šå¼•å…¥ä¾èµ–ä»¥åŠé…ç½®</p><div class="alert warning no-icon"><p>å¼•å…¥ä¾èµ–</p></div><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-logging<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-logging<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><div class="alert warning no-icon"><p>æµ‹è¯•ä»£ç </p></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestLoger</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">      <span class="type">Log</span> <span class="variable">log</span> <span class="operator">=</span> LogFactory.getLog(TestLoger.class);</span><br><span class="line">      log.info(<span class="string">&quot;xxxxxxx&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="alert success no-icon"><p>JCL ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œâ¼€æ˜¯æ•ˆç‡è¾ƒä½ï¼ŒäºŒæ˜¯å®¹æ˜“å¼•å‘æ··ä¹±ï¼Œä¸‰æ˜¯ JCL æœºåˆ¶æœ‰å¾ˆâ¼¤çš„å¯èƒ½ä¼šå¼•å‘å†…å­˜æ³„éœ²ã€‚åŒæ—¶ï¼ŒJCL çš„ä¹¦å†™å­˜åœ¨â¼€ä¸ªä¸å¤ªä¼˜é›…çš„åœ°â½…ï¼Œå…¸å‹çš„åœºæ™¯å¦‚ä¸‹ï¼šå‡å¦‚è¦è¾“å‡ºä¸€æ¡ debug æ—¥å¿—ï¼Œè€Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œç”Ÿäº§ç¯å¢ƒ log çº§åˆ«éƒ½ä¼šè®¾åˆ° info æˆ–è€…ä»¥ä¸Šï¼Œé‚£è¿™æ¡ log æ˜¯ä¸ï¥§ä¼šè¢«è¾“å‡ºçš„ã€‚äºæ˜¯ï¼Œåœ¨ä»£ç ï§©å°±å‡ºç°äº†</p></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">logger.debug(<span class="string">&quot;this is a debug info , message :&quot;</span> + msg);</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæœ‰ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿè™½ç„¶â½£äº§ä¸ä¼šæ‰“å‡ºâ½‡å¿—ï¼Œä½†æ˜¯è¿™å…¶ä¸­éƒ½ä¼šåšâ¼€ä¸ªå­—ç¬¦ä¸²è¿æ¥æ“ä½œï¼Œç„¶åâ½£æˆâ¼€ä¸ªæ–°çš„å­—ç¬¦ä¸²ã€‚å¦‚æœè¿™æ¡è¯­å¥åœ¨å¾ªç¯æˆ–è€…è¢«è°ƒâ½¤å¾ˆå¤šæ¬¡çš„å‡½æ•°ä¸­ï¼Œå°±ä¼šå¤šåšå¾ˆå¤šâ½†â½¤çš„å­—ç¬¦ä¸²è¿æ¥éå¸¸å½±å“æ€§èƒ½ï¼Œæ‰€ä»¥ï¼ŒJCL æ¨èçš„å†™æ³•å¦‚ä¸‹ã€‚è¿™æ ·è™½ç„¶è§£å†³äº†é—®é¢˜ï¼Œä½†æ˜¯è¿™ä¸ªä»£ç å®åœ¨çœ‹ä¸Šå»ä¸æ€ä¹ˆèˆ’æœ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (logger.isDebugEnabled()) &#123;</span><br><span class="line"> logger.debug(<span class="string">&quot;this is a debug info , message :&quot;</span> + msg);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å†èµ·æ³¢æ¾œ"><a class="header-anchor" href="#å†èµ·æ³¢æ¾œ">Â¶</a>å†èµ·æ³¢æ¾œ</h3><p>äºæ˜¯ï¼Œé’ˆå¯¹ä»¥ä¸Šæƒ…å†µï¼Œlog4j çš„ä½œè€…å†æ¬¡å‡ºâ¼¿æ‰‹ï¼Œä»–è§‰å¾— JCL ä¸å¥½ç”¨ï¼Œâ¾ƒå·±â¼œå†™äº†ä¸€ä¸ªæ–°çš„æ¥â¼ apiï¼Œå°± æ˜¯ slf4jï¼Œå¹¶ä¸”ä¸ºäº†è¿½æ±‚æ›´æè‡´çš„æ€§èƒ½ï¼Œæ–°å¢äº†ä¸€å¥—æ—¥å¿—çš„å®ç°ï¼Œå°±æ˜¯ logback</p><div class="alert warning no-icon"><p>å¼•å…¥ slf4j ä¾èµ–</p></div><figure class="highlight xml"><figcaption><span>pom.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.30<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>ch.qos.logback<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>logback-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>ch.qos.logback<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>logback-classic<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>logback-core æä¾›åŸºç¡€æŠ½è±¡ï¼Œlogback-classic æä¾›æ—¥å¿—å®ç°ï¼Œå¹¶ä¸”ç›´æ¥å°±æ˜¯åŸºäº Slf4j APIã€‚æ‰€ä»¥ slf4j é…åˆ logback æ¥å®Œæˆæ—¥å¿—æ—¶ï¼Œä¸éœ€è¦åƒå…¶ä»–çš„æ—¥å¿—æ¡†æ¶ä¸€æ ·æä¾›é€‚é…å™¨å™¨</p><p>slf4j æœ¬èº«å¹¶æ²¡æœ‰å®é™…çš„æ—¥å¿—è¾“å‡ºèƒ½åŠ›ï¼Œå®ƒåº•å±‚è¿˜æ˜¯éœ€è¦å»è°ƒâ½¤ç”¨å…·ä½“çš„æ—¥å¿—æ¡†æ¶ APIï¼Œä¹Ÿå°±æ˜¯å®ƒéœ€è¦è·Ÿå…·ä½“çš„â½‡å¿—æ¡†æ¶ç»“åˆä½¿ç”¨ã€‚ç”±äºå…·ä½“æ—¥å¿—æ¡†æ¶â½è¾ƒå¤šï¼Œè€Œä¸”äº’ç›¸ä¹Ÿå¤§éƒ½ä¸å…¼å®¹ï¼Œæ—¥å¿—â»”â¾¯æ¥å£è¦æƒ³å®ç° ä¸ä»»æ„â½‡æ—¥å¿—æ¡†æ¶ç»“åˆå°±éœ€è¦é¢å¤–å¯¹åº”çš„æ¡¥æ¥å™¨å™¨</p><div class="figure fig-100 center"><a class="fancybox" target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/pineapple-man/blogImage@main/image/slf4j%E4%BD%93%E7%B3%BB.png" data-caption="" data-fancybox="default"><img class="fig-img" src="https://cdn.jsdelivr.net/gh/pineapple-man/blogImage@main/image/slf4j%E4%BD%93%E7%B3%BB.png" alt=""></a></div><div class="alert warning no-icon"><p>slf4j çš„é…ç½®</p></div><figure class="highlight xml"><figcaption><span>slf4j.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span> <span class="attr">scan</span>=<span class="string">&quot;true&quot;</span> <span class="attr">scanPeriod</span>=<span class="string">&quot;60 seconds&quot;</span> <span class="attr">debug</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;logPattern&quot;</span> <span class="attr">value</span>=<span class="string">&quot;logback:[ %-5level] [%date&#123;yyyy-MM-dd</span></span></span><br><span class="line"><span class="string"><span class="tag">HH:mm:ss.SSS&#125;] %logger&#123;96&#125; [%line] [%thread]- %msg%n&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æ§åˆ¶å°çš„æ ‡å‡†è¾“å‡º --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">&quot;STDOUT&quot;</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.ConsoleAppender&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">encoder</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">charset</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">charset</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">pattern</span>&gt;</span>$&#123;logPattern&#125;<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">root</span> <span class="attr">level</span>=<span class="string">&quot;DEBUG&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;STDOUT&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æœ‰äº†æ–°çš„ slf4j åï¼Œä¸Šâ¾¯å­—ç¬¦ä¸²çš„æ‹¼æ¥é—®é¢˜ï¼Œè¢«ä»¥ä¸‹ä»£ç æ‰€å–ä»£ï¼Œâ½½ logback ä¹Ÿæä¾›äº†æ›´â¾¼çº§çš„ç‰¹æ€§ï¼Œå¦‚ï¼šå¼‚æ­¥ loggerï¼ŒFilter ç­‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">logger.debug(<span class="string">&quot;this is a debug info, message :&#123;&#125;&quot;</span>,msg);</span><br></pre></td></tr></table></figure><h3 id="å†åº¦é’æ˜¥"><a class="header-anchor" href="#å†åº¦é’æ˜¥">Â¶</a>å†åº¦é’æ˜¥</h3><p>å‰â¾¯æåˆ°ï¼Œlog4j ç”± apache å®£å¸ƒï¼Œ2015 å¹´åï¼Œä¸å†ç»´æŠ¤ã€‚æ¨èå¤§å®¶å‡çº§åˆ° log4j2ï¼Œè™½ç„¶ log4j2 æ²¿è¢­äº† log4j çš„æ€æƒ³ï¼Œç„¶è€Œ log4j2 å’Œ log4j å®Œå…¨æ˜¯ä¸¤ç äº‹ï¼Œå¹¶ä¸ä¸å…¼å®¹ã€‚log4j2 ä»¥æ€§èƒ½è‘—ç§°ï¼Œå®ƒæ¯”å…¶å‰èº« Log4j 1.x æä¾›äº†é‡â¼¤å¤§æ”¹è¿›ï¼ŒåŒæ—¶ç±»æ¯” logbackï¼Œå®ƒæä¾›äº† Logback ä¸­å¯ç”¨çš„è®¸å¤šæ”¹è¿›ï¼ŒåŒæ—¶ä¿®å¤äº† Logback æ¶æ„ä¸­çš„ä¸€äº›å›ºæœ‰é—®é¢˜ã€‚åŠŸèƒ½ä¸Šï¼Œå®ƒæœ‰ç€å’Œ Logback ç›¸åŒçš„åŸºæœ¬æ“ä½œï¼ŒåŒæ—¶åˆæœ‰â¾ƒå·±ç‹¬ç‰¹çš„éƒ¨åˆ†ï¼Œâ½å¦‚:æ’ä»¶å¼ç»“æ„ã€é…ç½®â½‚æ–‡ä»¶ä¼˜åŒ–ã€å¼‚æ­¥â½‡æ—¥å¿—ç­‰ã€‚</p><figure class="highlight xml"><figcaption><span>pom.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.logging.log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>2.13.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.logging.log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>2.13.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.lmax<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>disruptor<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>3.4.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Logger</span> <span class="variable">logger</span> <span class="operator">=</span> LogManager.getLogger(Demo.class);</span><br><span class="line">logger.debug(<span class="string">&quot;debuff Msg&quot;</span>);</span><br></pre></td></tr></table></figure><figure class="highlight xml"><figcaption><span>log4j2.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span> <span class="attr">status</span>=<span class="string">&quot;info&quot;</span> <span class="attr">monitorInterval</span>=<span class="string">&quot;30&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Property</span> <span class="attr">name</span>=<span class="string">&quot;pattern&quot;</span>&gt;</span>log4j2:[%-5p]:%d&#123;YYYY-MM-dd HH:mm:ss&#125; [%t]</span><br><span class="line">%c&#123;1&#125;:%L - %msg%n<span class="tag">&lt;/<span class="name">Property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Properties</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">appenders</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--console :æ§åˆ¶å°è¾“å‡ºçš„é…ç½®--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Console</span> <span class="attr">name</span>=<span class="string">&quot;Console&quot;</span> <span class="attr">target</span>=<span class="string">&quot;SYSTEM_OUT&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">PatternLayout</span> <span class="attr">pattern</span>=<span class="string">&quot;$&#123;pattern&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Console</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appenders</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">loggers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">&quot;org.springframework&quot;</span> <span class="attr">level</span>=<span class="string">&quot;INFO&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">logger</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">root</span> <span class="attr">level</span>=<span class="string">&quot;info&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;Console&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">loggers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><div class="alert danger no-icon"><p>ä½†æ˜¯æœ€è¿‘å‡ºç°çš„ log4j2 å®‰å…¨éšæ‚£é—®é¢˜ï¼Œè®©æˆ‘æœ‰ç‚¹æ€€ç–‘æ˜¯å¦è¦è¿›ä¸€æ­¥ä½¿ç”¨è¿™ä¸ªæ—¥å¿—æ¡†æ¶</p></div><h2 id="é…ç½®è®²è§£"><a class="header-anchor" href="#é…ç½®è®²è§£">Â¶</a>é…ç½®è®²è§£</h2><p>ä¼—å¤š Java æ—¥å¿—çš„ä½¿ç”¨å¹¶ä¸æ˜¯æ—¥å¿—æ¡†æ¶çš„éš¾ç‚¹ï¼Œé‡ç‚¹åœ¨äºï¼šå¦‚ä½•ä½¿ç”¨é…ç½®æ–‡ä»¶ï¼Œå®šåˆ¶åŒ–æ—¥å¿—</p><h3 id="æ—¥å¿—çº§åˆ«"><a class="header-anchor" href="#æ—¥å¿—çº§åˆ«">Â¶</a>æ—¥å¿—çº§åˆ«</h3><p>â¼€ä¸ªå®Œæ•´çš„â½‡å¿—ç»„ä»¶éƒ½è¦å…·å¤‡â½‡å¿—çº§åˆ«çš„æ¦‚å¿µï¼Œæ¯ç§â½‡å¿—ç»„ä»¶çº§åˆ«å®šä¹‰ä¸åŒï¼Œâ½‡å¸¸ç¼–ç æœ€ç»å¸¸â½¤åˆ°çš„ä¸»æµåˆ†çº§å¦‚ä¸‹ï¼ˆç”±ä½åˆ°â¾¼ï¼‰</p><table><thead><tr><th style="text-align:center">æ—¥å¿—çº§åˆ«</th><th style="text-align:center">å«ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center"><code>trace</code></td><td style="text-align:center">è·¯å¾„è·Ÿè¸ª</td></tr><tr><td style="text-align:center"><code>debug</code></td><td style="text-align:center">â¼€èˆ¬â½¤äºâ½‡å¸¸è°ƒå¼</td></tr><tr><td style="text-align:center"><code>info</code></td><td style="text-align:center">æ‰“å°é‡è¦ä¿¡æ¯</td></tr><tr><td style="text-align:center"><code>warn</code></td><td style="text-align:center">ç»™å‡ºè­¦å‘Š</td></tr><tr><td style="text-align:center"><code>error</code></td><td style="text-align:center">å‡ºç°é”™è¯¯æˆ–é—®é¢˜</td></tr></tbody></table><div class="alert success no-icon"><p>æ¯ä¸ªæ—¥å¿—ç»„ä»¶çš„å…·ä½“çº§åˆ«åˆ’åˆ†ç¨æœ‰ä¸åŒï¼Œéœ€è¦å…·ä½“åˆ†æ</p></div><table><thead><tr><th style="text-align:center">çº§åˆ«</th><th style="text-align:center">çº§åˆ«å«ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center">SEVERE</td><td style="text-align:center">é”™è¯¯â€”â€”æœ€é«˜çš„æ—¥å¿—çº§åˆ«</td></tr><tr><td style="text-align:center">WARNING</td><td style="text-align:center">è­¦å‘Š</td></tr><tr><td style="text-align:center">INFO</td><td style="text-align:center">ï¼ˆé»˜è®¤çº§åˆ«ï¼‰ä¿¡æ¯</td></tr><tr><td style="text-align:center">CONFIG</td><td style="text-align:center">é…ç½®</td></tr><tr><td style="text-align:center">FINE</td><td style="text-align:center">è¯¦ç»†ä¿¡æ¯ï¼ˆå°‘ï¼‰</td></tr><tr><td style="text-align:center">FINER</td><td style="text-align:center">è¯¦ç»†ä¿¡æ¯ï¼ˆä¸­ï¼‰</td></tr><tr><td style="text-align:center">FINEST</td><td style="text-align:center">è¯¦ç»†ä¿¡æ¯ï¼ˆå¤šï¼‰â€”â€”æœ€ä½çº§çš„æ—¥å¿—çº§åˆ«</td></tr></tbody></table><p>ä¸¤ä¸ªç‰¹æ®Šçš„çº§åˆ«</p><table><thead><tr><th>çº§åˆ«</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>OFF</td><td>å¯ç”¨æ¥å…³é—­æ—¥å¿—è®°å½•</td></tr><tr><td>ALL</td><td>å¯ç”¨æ‰€æœ‰æ¶ˆæ¯çš„æ—¥å¿—è®°å½•</td></tr></tbody></table><p>å¯¹äºæ—¥å¿—çš„çº§åˆ«ï¼Œé‡ç‚¹å…³æ³¨çš„æ˜¯ new å¯¹è±¡çš„æ—¶å€™çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œæ˜¯ä¸€ä¸ªæ•°å€¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public static final Level SEVERE = new Level(&quot;SEVERE&quot;,1000, defaultBundle);</span><br></pre></td></tr></table></figure><table><thead><tr><th style="text-align:center">çº§åˆ«</th><th style="text-align:center">æ•°å€¼</th></tr></thead><tbody><tr><td style="text-align:center">OFF</td><td style="text-align:center">Integer.MAX_VALUE</td></tr><tr><td style="text-align:center">SEVERE</td><td style="text-align:center">1000</td></tr><tr><td style="text-align:center">ALL</td><td style="text-align:center">Integer.MIN_VALUE</td></tr></tbody></table><p>è¿™ä¸ªæ•°å€¼çš„æ„ä¹‰åœ¨äºï¼Œå¦‚æœè®¾ç½®çš„æ—¥å¿—çº§åˆ«æ˜¯ INFO-800ï¼Œæœ€ç»ˆå±•ç°çš„æ—¥å¿—ä¿¡æ¯ï¼Œå¿…é¡»æ˜¯æ•°å€¼å¤§äº 800 çš„æ‰€æœ‰çš„æ—¥å¿—ä¿¡æ¯ï¼Œæœ€ç»ˆå±•ç°çš„å°±æ˜¯ï¼šSERVER,WARNING,INFO</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Logger</span> <span class="variable">logger</span> <span class="operator">=</span> Logger.getLogger(<span class="string">&quot;com.pineappltman.test.JulLearning&quot;</span>);</span><br><span class="line">logger.setLevel(Level.CONFIG);</span><br></pre></td></tr></table></figure><p>å¦‚æœä»…ä»…åªæ˜¯é€šè¿‡ä»¥ä¸‹å½¢å¼æ¥è®¾ç½®æ—¥å¿—çº§åˆ«ï¼Œé‚£ä¹ˆä¸èƒ½èµ·åˆ°æ•ˆæœï¼Œå°†æ¥éœ€è¦æ­é…å¤„ç†å™¨ handler å…±åŒè®¾ç½®æ‰ä¼šç”Ÿæ•ˆ</p><h3 id="æ—¥å¿—ç»„ä»¶"><a class="header-anchor" href="#æ—¥å¿—ç»„ä»¶">Â¶</a>æ—¥å¿—ç»„ä»¶</h3><table><thead><tr><th style="text-align:center">æ—¥å¿—ç»„ä»¶</th><th style="text-align:center">å«ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center">appender</td><td style="text-align:center">â½‡å¿—è¾“å‡ºâ½¬çš„åœ°ï¼Œè´Ÿè´£â½‡å¿—çš„è¾“å‡º ï¼ˆè¾“å‡ºåˆ°ä»€ä¹ˆ åœ°â½…ï¼‰</td></tr><tr><td style="text-align:center">logger</td><td style="text-align:center">â½‡å¿—è®°å½•å™¨ï¼Œè´Ÿè´£æ”¶é›†å¤„ç†â½‡å¿—è®°å½• ï¼ˆå¦‚ä½•å¤„ç†â½‡å¿—ï¼‰</td></tr><tr><td style="text-align:center">layout</td><td style="text-align:center">â½‡å¿—æ ¼å¼åŒ–ï¼Œè´Ÿè´£å¯¹è¾“å‡ºçš„â½‡å¿—æ ¼å¼åŒ–ï¼ˆä»¥ä»€ä¹ˆå½¢å¼å±•ç°ï¼‰</td></tr></tbody></table><h3 id="JUL"><a class="header-anchor" href="#JUL">Â¶</a>JUL</h3><p>é»˜è®¤æƒ…å†µä¸‹é…ç½®æ–‡ä»¶çš„è·¯å¾„ä¸º<code>$JAVAHOME\jre\lib\logging.properties</code>ï¼Œå¯ä»¥é€šè¿‡ç¼–ç çš„æ–¹å¼æŒ‡å®šé…ç½®æ–‡ä»¶</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> &#123;</span><br><span class="line">    System.setProperty(<span class="string">&quot;java.util.logging.config.file&quot;</span>,</span><br><span class="line">            Demo.class.getClassLoader().getResource(<span class="string">&quot;logging.properties&quot;</span>)</span><br><span class="line">               .getPath()</span><br><span class="line">               );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>JUL ä¸­çš„çº§åˆ«æœ‰ï¼šSEVER(æœ€é«˜å€¼)ã€WARNINGã€INFOã€CONFIGã€FINEã€FINERã€FINESTï¼ˆæœ€å°å€¼ï¼‰ã€OFFï¼ˆå…³é—­æ—¥å¿—ï¼‰ã€ALLï¼ˆå¯åŠ¨æ‰€æœ‰æ—¥å¿—ï¼‰<br>JUL ä¸­çš„å¤„ç†å™¨å¦‚ä¸‹ï¼š</p><table><thead><tr><th style="text-align:center">å¤„ç†å™¨</th><th style="text-align:center">å«ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center">StreamHandler</td><td style="text-align:center">â½‡å¿—è®°å½•å†™â¼Š OutputStream</td></tr><tr><td style="text-align:center">ConsoleHandler</td><td style="text-align:center">â½‡å¿—è®°å½•å†™â¼Š System.err</td></tr><tr><td style="text-align:center">FileHandler</td><td style="text-align:center">æ—¥å¿—è®°å½•å†™å…¥å•ä¸ªæ–‡ä»¶æˆ–ä¸€ç»„æ»šåŠ¨æ—¥å¿—æ–‡ä»¶</td></tr><tr><td style="text-align:center">SocketHandler</td><td style="text-align:center">â½‡å¿—è®°å½•å†™â¼Šè¿œç¨‹ TCP ç«¯å£çš„å¤„ç†ç¨‹åº</td></tr><tr><td style="text-align:center">MemoryHandler</td><td style="text-align:center">ç¼“å†²å†…å­˜ä¸­â½‡æ—¥å¿—è®°å½•</td></tr></tbody></table><p>æ ¼å¼åŒ–</p><table><thead><tr><th style="text-align:center">æ ¼å¼åŒ–</th><th style="text-align:center">å«ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center">SimpleFormatter</td><td style="text-align:center">æ ¼å¼åŒ–ä¸ºç®€çŸ­çš„â½‡æ—¥å¿—è®°å½•æ‘˜è¦</td></tr><tr><td style="text-align:center">XMLFormatter</td><td style="text-align:center">æ ¼å¼åŒ–ä¸ºè¯¦ç»†çš„ XML ç»“æ„ä¿¡æ¯</td></tr><tr><td style="text-align:center">è¾“å‡ºæ ¼å¼å¯ä»¥è‡ªå®šä¹‰è¾“å‡ºï¼Œåªè¦ç»§æ‰¿è‡ªæŠ½è±¡ç±» <code>java.util.logging.Formatter</code> å³å¯</td><td style="text-align:center"></td></tr></tbody></table><h3 id="log4j"><a class="header-anchor" href="#log4j">Â¶</a>log4j</h3><p>å¯åŠ¨æ—¶ï¼Œé»˜è®¤ä¼šå¯»æ‰¾ <code>resorce folder</code> ä¸‹çš„ <code>log4j.xml</code>ï¼Œè‹¥æ²¡æœ‰ï¼Œä¼šå¯»æ‰¾ <code>lo4g.properties</code></p><p>Loggers(æ—¥å¿—è®°å½•å™¨)ï¼ŒAppenders(è¾“å‡ºæ§åˆ¶å™¨)å’Œ Layoutï¼ˆæ—¥å¿—æ ¼å¼åŒ–å™¨ï¼‰ç»„æˆã€‚å…¶ä¸­ Loggers æ§åˆ¶æ—¥å¿—çš„è¾“å‡ºä»¥åŠè¾“å‡ºçº§åˆ«ï¼ˆJUL åšæ—¥å¿—çº§åˆ« Levelï¼‰ï¼›Appenders æŒ‡å®šæ—¥å¿—çš„è¾“å‡ºæ–¹å¼ï¼ˆè¾“å‡ºåˆ°æ§åˆ¶å°ã€æ–‡ä»¶ç­‰ï¼‰ï¼›Layout æ§åˆ¶æ—¥å¿—ä¿¡æ¯çš„è¾“å‡ºæ ¼å¼</p><h3 id="logback"><a class="header-anchor" href="#logback">Â¶</a>logback</h3><p>Logback æ˜¯ç”± log4j åˆ›å§‹äººè®¾è®¡çš„å¦ä¸€ä¸ªå¼€æºæ—¥å¿—ç»„ä»¶ï¼Œæ€§èƒ½æ¯” log4j è¦å¥½ï¼ŒLogback ä¸»è¦åˆ†ä¸ºä¸‰ä¸ªæ¨¡å—ï¼š</p><ul><li><code>logback-core</code>ï¼šå…¶ä»–ä¸¤ä¸ªæ¨¡å—çš„åŸºç¡€æ¨¡å—</li><li><code>logback-classic</code>ï¼šå®ƒæ˜¯ log4j çš„ä¸€ä¸ªæ”¹è‰¯ç‰ˆæœ¬ï¼ŒåŒæ—¶å®ƒå®Œæ•´å®ç°äº† slf4j API</li><li><code>logback-access</code>ï¼šè®¿é—®æ¨¡å—ä¸ Servlet å®¹å™¨é›†æˆæä¾›é€šè¿‡ Http æ¥è®¿é—®æ—¥å¿—çš„åŠŸèƒ½<figure class="highlight xml"><figcaption><span>pom.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.25<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>ch.qos.logback<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>logback-classic<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><figcaption><span>LogBackTest.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®šä¹‰æ—¥å¿—å¯¹è±¡</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">Logger</span> <span class="variable">LOGGER</span> <span class="operator">=</span> LoggerFactory.getLogger(LogBackTest.class);</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSlf4j</span><span class="params">()</span>&#123; <span class="comment">//æ‰“å°æ—¥å¿—ä¿¡æ¯</span></span><br><span class="line">LOGGER.error(<span class="string">&quot;error&quot;</span>);</span><br><span class="line">LOGGER.warn(<span class="string">&quot;warn&quot;</span>);</span><br><span class="line">LOGGER.info(<span class="string">&quot;info&quot;</span>);</span><br><span class="line">LOGGER.debug(<span class="string">&quot;debug&quot;</span>);</span><br><span class="line">LOGGER.trace(<span class="string">&quot;trace&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>logback ä¼šä¾æ¬¡è¯»å–ä¸€ä¸‹ç±»å‹é…ç½®æ–‡ä»¶ï¼š <code>logback.groovy</code>,<code>logback-test.xml</code>å’Œ<code>logback.xml</code>å¦‚æœå‡ä¸å­˜åœ¨ï¼Œä¼šé‡‡ç”¨é»˜è®¤çš„é…ç½®</p><h4 id="logback-ç»„ä»¶ä¹‹é—´çš„å…³ç³»"><a class="header-anchor" href="#logback-ç»„ä»¶ä¹‹é—´çš„å…³ç³»">Â¶</a>logback ç»„ä»¶ä¹‹é—´çš„å…³ç³»</h4><ol><li>Logger:æ—¥å¿—çš„è®°å½•å™¨ï¼ŒæŠŠå®ƒå…³è”åˆ°åº”ç”¨çš„å¯¹åº”çš„ context ä¸Šåï¼Œä¸»è¦ç”¨äºå­˜æ”¾æ—¥å¿—å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥å®šä¹‰æ—¥å¿—ç±»å‹ã€çº§åˆ«</li><li>Appender:ç”¨äºæŒ‡å®šæ—¥å¿—è¾“å‡ºçš„ç›®çš„åœ°ï¼Œç›®çš„åœ°å¯ä»¥æ˜¯æ§åˆ¶å°ã€æ–‡ä»¶ã€æ•°æ®åº“ç­‰ç­‰</li><li>Layout:è´Ÿè´£æŠŠäº‹ä»¶è½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œæ ¼å¼åŒ–çš„æ—¥å¿—ä¿¡æ¯çš„è¾“å‡ºã€‚åœ¨ logback ä¸­ Layout å¯¹è±¡è¢«å°è£…åœ¨ encoder ä¸­</li></ol><h4 id="åŸºæœ¬é…ç½®ä¿¡æ¯"><a class="header-anchor" href="#åŸºæœ¬é…ç½®ä¿¡æ¯">Â¶</a>åŸºæœ¬é…ç½®ä¿¡æ¯</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--æ ¼å¼åŒ–è¾“å‡º:%dè¡¨ç¤ºæ—¥æœŸï¼Œ%threadè¡¨ç¤ºçº¿ç¨‹åï¼Œ</span></span><br><span class="line"><span class="comment">            %-5level:çº§åˆ«ä»å·¦æ˜¾ç¤º5ä¸ªå­—ç¬¦å®½åº¦ %msg:æ—¥å¿—æ¶ˆæ¯ï¼Œ%næ˜¯æ¢è¡Œç¬¦--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;pattern&quot;</span> <span class="attr">value</span>=<span class="string">&quot;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; %c [%thread]%-5level  %msg%n&quot;</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">Appender: è®¾ç½®æ—¥å¿—ä¿¡æ¯çš„å»å‘,å¸¸ç”¨çš„æœ‰ä»¥ä¸‹å‡ ä¸ªï¼š</span></span><br><span class="line"><span class="comment">ch.qos.logback.core.ConsoleAppender (æ§åˆ¶å°)</span></span><br><span class="line"><span class="comment">ch.qos.logback.core.rolling.RollingFileAppender (æ–‡ä»¶å¤§å°åˆ°è¾¾æŒ‡å®šå°ºå¯¸çš„æ—¶å€™äº§ç”Ÿä¸€ä¸ªæ–°æ–‡ä»¶)</span></span><br><span class="line"><span class="comment">ch.qos.logback.core.FileAppender (æ–‡ä»¶)</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">&quot;console&quot;</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.ConsoleAppender&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--è¾“å‡ºæµå¯¹è±¡ é»˜è®¤ System.out æ”¹ä¸º System.err--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">target</span>&gt;</span>System.err<span class="tag">&lt;/<span class="name">target</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--æ—¥å¿—æ ¼å¼é…ç½®--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">encoder</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">pattern</span>&gt;</span>$&#123;pattern&#125;<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ç”¨æ¥è®¾ç½®æŸä¸€ä¸ªåŒ…æˆ–è€…å…·ä½“çš„æŸä¸€ä¸ªç±»çš„æ—¥å¿—æ‰“å°çº§åˆ«ã€ä»¥åŠæŒ‡å®š&lt;appender&gt;ã€‚</span></span><br><span class="line"><span class="comment">&lt;loger&gt;ä»…æœ‰ä¸€ä¸ªnameå±æ€§ï¼Œä¸€ä¸ªå¯é€‰çš„levelå’Œä¸€ä¸ªå¯é€‰çš„addtivityå±æ€§</span></span><br><span class="line"><span class="comment">name:ç”¨æ¥æŒ‡å®šå—æ­¤ logger çº¦æŸçš„æŸä¸€ä¸ªåŒ…æˆ–è€…å…·ä½“çš„æŸä¸€ä¸ªç±»ã€‚</span></span><br><span class="line"><span class="comment">level:ç”¨æ¥è®¾ç½®æ‰“å°çº§åˆ«ï¼Œå¤§å°å†™æ— å…³:TRACE, DEBUG, INFO, WARN, ERROR, ALL å’Œ OFFï¼Œå¦‚æœæœªè®¾ç½®æ­¤å±æ€§ï¼Œé‚£ä¹ˆå½“å‰loggerå°†ä¼šç»§æ‰¿ä¸Šçº§çš„çº§åˆ«</span></span><br><span class="line"><span class="comment">additivity:æ˜¯å¦å‘ä¸Šçº§logerä¼ é€’æ‰“å°ä¿¡æ¯ã€‚é»˜è®¤æ˜¯true</span></span><br><span class="line"><span class="comment">&lt;logger&gt;å¯ä»¥åŒ…å«é›¶ä¸ªæˆ–å¤šä¸ª&lt;appender-ref&gt;å…ƒç´ ï¼Œæ ‡è¯†è¿™ä¸ªappenderå°†ä¼šæ·»åŠ åˆ°è¿™ä¸ªlogger --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--å®ƒæ˜¯æ ¹ logger å…ƒç´ ï¼Œé»˜è®¤debug level--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">root</span> <span class="attr">level</span>=<span class="string">&quot;ALL&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;console&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="log4j2"><a class="header-anchor" href="#log4j2">Â¶</a>log4j2</h3><div class="alert success no-icon"><ul><li>Log4j will inspect the <code>log4j.configurationFile</code> system property and, if set, will attempt to load the configuration using the <code>ConfigurationFactory</code> that matches the file extension.</li><li>If no system property is set the YAML ConfigurationFactory will look for <code>log4j2-test.yaml</code> or <code>log4j2-test.yml</code> in the classpath</li><li>If no such file is found the JSON ConfigurationFactory will look for <code>log4j2-test.json</code> or <code>log4j2-test.jsn</code> in the classpath</li><li>If no such file is found the XML ConfigurationFactory will look for <code>log4j2-test.xml</code> in the classpath.</li><li>If a test file cannot be located the YAML ConfigurationFactory will look for <code>log4j2.yaml</code> or <code>log4j2.yml</code> on the classpath</li><li>If a YAML file cannot be located the JSON ConfigurationFactory will look for <code>log4j2.json</code> or <code>log4j2.jsn</code> on the classpath.</li><li>If a JSON file cannot be located the XML ConfigurationFactory will try to locate <code>log4j2.xml</code> on the classpath</li><li>If no configuration file could be located the <code>DefaultConfiguration</code> will be used. This will cause logging output to go to the console.</li></ul></div><p>log4j2 çš„çº§åˆ«ä»ä½åˆ°é«˜æ˜¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALL -&gt; TRACE -&gt; DEBUG -&gt; INFO -&gt; WARN -&gt; ERROR -&gt; FATAL -&gt; OFF</span><br></pre></td></tr></table></figure><div class="alert warning no-icon"><p>ç›¸å…³å¤„ç†å™¨ï¼Œ<a target="_blank" rel="noopener" href="http://logging.apache.org/log4j/2.x/manual/appenders.html">å®˜æ–¹ä»‹ç»</a></p></div><table><thead><tr><th style="text-align:center">å¤„ç†å™¨</th><th style="text-align:center">å«ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center">FileAppender</td><td style="text-align:center">è¾“å‡ºåˆ°æœ¬åœ°â½‚ä»¶</td></tr><tr><td style="text-align:center">KafkaAppender</td><td style="text-align:center">è¾“å‡ºåˆ° kafka é˜Ÿï¦œ</td></tr><tr><td style="text-align:center">FlumeAppender</td><td style="text-align:center">å°†å‡ ä¸ªä¸åŒæºçš„æ—¥å¿—æ±‡é›†ã€é›†ä¸­åˆ°â¼€å¤„</td></tr><tr><td style="text-align:center">JMSQueueAppender/JMSTopicAppender</td><td style="text-align:center">ä¸ JMS ç›¸å…³çš„æ—¥å¿—è¾“å‡º</td></tr><tr><td style="text-align:center">RewriteAppender</td><td style="text-align:center">å¯¹æ—¥å¿—äº‹ä»¶è¿›â¾æ©ç æˆ–æ³¨â¼Šä¿¡æ¯</td></tr><tr><td style="text-align:center">RollingFileAppender</td><td style="text-align:center">å¯¹æ—¥å¿—æ–‡ä»¶è¿›è¡Œå°å­˜</td></tr><tr><td style="text-align:center">RoutingAppender</td><td style="text-align:center">åœ¨è¾“å‡ºåœ°ä¹‹é—´è¿›è¡Œç­›é€‰è·¯ç”±</td></tr><tr><td style="text-align:center">SMTPAppender</td><td style="text-align:center">å°† LogEvent å‘é€åˆ°æŒ‡å®šé‚®ä»¶åˆ—è¡¨</td></tr><tr><td style="text-align:center">SocketAppender</td><td style="text-align:center">å°† LogEvent ä»¥æ™®é€šæ ¼å¼å‘é€åˆ°è¿œç¨‹ä¸»æœº</td></tr><tr><td style="text-align:center">SyslogAppender</td><td style="text-align:center">å°† LogEvent ä»¥ RPF5424 æ ¼å¼å‘é€åˆ°è¿œç¨‹ä¸»æœº</td></tr><tr><td style="text-align:center">AsynchAppender</td><td style="text-align:center">å°†ä¸€ä¸ª LogEvent å¼‚æ­¥åœ°å†™å…¥å¤šä¸ªä¸åŒè¾“å‡ºåœ°</td></tr><tr><td style="text-align:center">ConsoleAppender</td><td style="text-align:center">å°† LogEvent è¾“å‡ºåˆ°å‘½ä»¤è¡Œ</td></tr><tr><td style="text-align:center">FailoverAppender</td><td style="text-align:center">ç»´æŠ¤ä¸€ä¸ªé˜Ÿåˆ—ï¼Œç³»ç»Ÿå°è¯•å‘é˜Ÿåˆ—ä¸­çš„ Appender ä¾æ¬¡è¾“å‡º LogEventï¼Œç›´åˆ°æœ‰ä¸€ä¸ªæˆåŠŸä¸ºæ­¢</td></tr></tbody></table><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"> <span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="comment">&lt;!--â½‡å¿—çº§åˆ«ä»¥åŠä¼˜å…ˆçº§æ’åº: OFF &gt; FATAL &gt; ERROR &gt; WARN &gt; INFO &gt; DEBUG &gt; TRACE &gt; ALL --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--status=&quot;WARN&quot; :â½¤äºè®¾ç½®log4j2â¾ƒèº«å†…éƒ¨â½‡å¿—çš„ä¿¡æ¯è¾“å‡ºçº§åˆ«ï¼Œé»˜è®¤æ˜¯OFF--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--monitorInterval=&quot;30&quot; :é—´éš”ç§’æ•°,è‡ªåŠ¨æ£€æµ‹é…ç½®â½‚ä»¶çš„å˜æ›´å’Œé‡æ–°é…ç½®æœ¬èº«--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span> <span class="attr">status</span>=<span class="string">&quot;info&quot;</span> <span class="attr">monitorInterval</span>=<span class="string">&quot;30&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">Properties</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--â¾ƒå®šä¹‰ä¸€äº›å¸¸é‡ï¼Œä¹‹åä½¿ç”¨$&#123;å˜é‡å&#125;å¼•ç”¨--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Property</span> <span class="attr">name</span>=<span class="string">&quot;pattern&quot;</span>&gt;</span>log4j2:[%-5p]:%d&#123;YYYY-MM-dd HH:mm:ss&#125; [%t]%c&#123;1&#125;:%L - %msg%n<span class="tag">&lt;/<span class="name">Property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">Properties</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--appenders:å®šä¹‰è¾“å‡ºå†…å®¹,è¾“å‡ºæ ¼å¼,è¾“å‡ºâ½…å¼,æ—¥å¿—ä¿å­˜ç­–ç•¥ç•¥ç­‰,å¸¸ç”¨ä¸‹ä¸‰ç§æ ‡ç­¾ [console,File,RollingFile]--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">appenders</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--console :æ§åˆ¶å°è¾“å‡ºçš„é…ç½®--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Console</span> <span class="attr">name</span>=<span class="string">&quot;Console&quot;</span> <span class="attr">target</span>=<span class="string">&quot;SYSTEM_OUT&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">PatternLayout</span> <span class="attr">pattern</span>=<span class="string">&quot;$&#123;pattern&#125;&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Console</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--File :åŒæ­¥è¾“å‡ºâ½‡å¿—åˆ°æœ¬åœ°æ–‡ä»¶--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--append=&quot;false&quot; :æ ¹æ®å…¶ä¸‹â½‡å¿—ç­–ç•¥,æ¯æ¬¡æ¸…ç©ºâ½‚ä»¶é‡æ–°è¾“â¼Šæ—¥å¿—,å¯ç”¨äºæµ‹è¯•--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">File</span> <span class="attr">name</span>=<span class="string">&quot;File&quot;</span> <span class="attr">fileName</span>=<span class="string">&quot;./log4j2-file.log&quot;</span> <span class="attr">append</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">PatternLayout</span> <span class="attr">pattern</span>=<span class="string">&quot;$&#123;pattern&#125;&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">File</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">RollingFile</span> <span class="attr">name</span>=<span class="string">&quot;RollingFile&quot;</span> <span class="attr">fileName</span>=<span class="string">&quot;./log4j2-rollingfile.log&quot;</span></span></span><br><span class="line"><span class="tag">                 <span class="attr">filePattern</span>=<span class="string">&quot;./$$&#123;date:yyyy-MM&#125;/log4j2-%d&#123;yyyy-MM-dd&#125;-%i.log&quot;</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--ThresholdFilter :æ—¥å¿—è¾“å‡ºè¿‡æ»¤--&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--level=&quot;info&quot; :â½‡å¿—çº§åˆ«,onMatch=&quot;ACCEPT&quot; :çº§åˆ«åœ¨infoä¹‹ä¸Šåˆ™æ¥å—,onMismatch=&quot;DENY&quot; :çº§åˆ«åœ¨infoä¹‹ä¸‹åˆ™æ‹’ç»--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ThresholdFilter</span> <span class="attr">level</span>=<span class="string">&quot;debug&quot;</span> <span class="attr">onMatch</span>=<span class="string">&quot;ACCEPT&quot;</span> <span class="attr">onMismatch</span>=<span class="string">&quot;DENY&quot;</span>/&gt;</span> <span class="tag">&lt;<span class="name">PatternLayout</span> <span class="attr">pattern</span>=<span class="string">&quot;$&#123;pattern&#125;&quot;</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Policies :â½‡å¿—æ»šåŠ¨ç­–ç•¥--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Policies</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- TimeBasedTriggeringPolicy :æ—¶é—´æ»šåŠ¨ç­–ç•¥ç•¥, é»˜è®¤0ç‚¹äº§â½£æ–°çš„æ–‡ä»¶,interval=&quot;6&quot;</span></span><br><span class="line"><span class="comment">				: â¾ƒå®šä¹‰æ–‡ä»¶æ»šåŠ¨æ—¶é—´éš”,æ¯éš”6â¼©æ—¶äº§ç”Ÿæ–°æ–‡ä»¶, modulate=&quot;true&quot;</span></span><br><span class="line"><span class="comment">				: äº§â½£æ–‡ä»¶æ˜¯å¦ä»¥0ç‚¹åç§»æ—¶é—´,å³6ç‚¹,12ç‚¹,18ç‚¹,0ç‚¹--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">TimeBasedTriggeringPolicy</span> <span class="attr">interval</span>=<span class="string">&quot;6&quot;</span> <span class="attr">modulate</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- SizeBasedTriggeringPolicy :æ–‡ä»¶å¤§å°æ»šåŠ¨ç­–ç•¥--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">SizeBasedTriggeringPolicy</span> <span class="attr">size</span>=<span class="string">&quot;1 MB&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">Policies</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- DefaultRolloverStrategyå±æ€§å¦‚ä¸è®¾ç½®ï¼Œåˆ™é»˜è®¤ä¸ºæœ€å¤šåŒä¸€æ–‡ä»¶å¤¹ä¸‹7ä¸ªâ½‚ä»¶ï¼Œè¿™é‡Œè®¾ç½®äº†20 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">DefaultRolloverStrategy</span> <span class="attr">max</span>=<span class="string">&quot;20&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">RollingFile</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">appenders</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--ç„¶åå®šä¹‰loggerï¼Œåªæœ‰å®šä¹‰äº†äº†loggerå¹¶å¼•â¼Šå…¥çš„appenderï¼Œappenderæ‰ä¼šâ½£ç”Ÿæ•ˆ--&gt;</span> <span class="tag">&lt;<span class="name">loggers</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--è¿‡æ»¤æ‰springå’Œmybatisçš„â¼€ä¸€äº›â½†æ— â½¤ç”¨çš„DEBUGä¿¡æ¯--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--LoggerèŠ‚ç‚¹â½¤æ¥å•ç‹¬æŒ‡å®šæ—¥å¿—çš„å½¢å¼ï¼Œnameä¸ºåŒ…è·¯å¾„,â½å¦‚è¦ä¸ºorg.springframework åŒ…ä¸‹æ‰€æœ‰â½‡å¿—æŒ‡å®šä¸ºINFOçº§åˆ«ç­‰ã€‚ -&gt;</span></span><br><span class="line"><span class="comment">&lt;logger name=&quot;org.springframework&quot; level=&quot;INFO&quot;&gt;&lt;/logger&gt;</span></span><br><span class="line"><span class="comment">&lt;logger name=&quot;org.mybatis&quot; level=&quot;INFO&quot;&gt;&lt;/logger&gt;</span></span><br><span class="line"><span class="comment">&lt;!--AsyncLogger :å¼‚æ­¥â½‡å¿—,LOG4J æœ‰ä¸‰ç§â½‡å¿—æ¨¡å¼,å…¨å¼‚æ­¥æ—¥å¿—,æ··åˆæ¨¡å¼,åŒæ­¥æ—¥å¿—,æ€§èƒ½ä»é«˜åˆ°ä½,çº¿ç¨‹è¶Šå¤šæ•ˆç‡è¶Šé«˜,ä¹Ÿå¯ä»¥é¿å…æ—¥å¿—å¡æ­»çº¿ç¨‹æƒ…å†µå‘ç”Ÿ--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--additivity=&quot;false&quot; : additivityè®¾ç½®äº‹ä»¶æ˜¯å¦åœ¨root loggerè¾“å‡ºï¼Œä¸ºäº†é¿å…é‡å¤è¾“å‡ºï¼Œå¯ä»¥åœ¨Logger æ ‡ç­¾ä¸‹è®¾ç½®additivityä¸ºâ€falseâ€--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">AsyncLogger</span> <span class="attr">name</span>=<span class="string">&quot;AsyncLogger&quot;</span> <span class="attr">level</span>=<span class="string">&quot;trace&quot;</span> <span class="attr">includeLocation</span>=<span class="string">&quot;true&quot;</span><span class="attr">additivity</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;Console&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">AsyncLogger</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">&quot;Kafka&quot;</span> <span class="attr">additivity</span>=<span class="string">&quot;false&quot;</span> <span class="attr">level</span>=<span class="string">&quot;debug&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;Kafka&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;Console&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">logger</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- RootèŠ‚ç‚¹â½¤æ¥æŒ‡å®šé¡¹ç›®çš„æ ¹æ—¥å¿—ï¼Œå¦‚æœæ²¡æœ‰å•ç‹¬æŒ‡å®šLoggerï¼Œé‚£ä¹ˆå°±ä¼šé»˜è®¤ä½¿ç”¨è¯¥ Root â½‡å¿—è¾“å‡º --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">root</span> <span class="attr">level</span>=<span class="string">&quot;info&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;Console&quot;</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;appender-ref ref=&quot;File&quot;/&gt;--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;appender-ref ref=&quot;RollingFile&quot;/&gt;--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;appender-ref ref=&quot;Kafka&quot;/&gt;--&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">loggers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="jcl"><a class="header-anchor" href="#jcl">Â¶</a>jcl</h3><p>é…ç½®æ–‡ä»¶ï¼Œé¦–å…ˆåœ¨ classpath ä¸‹å¯»æ‰¾ <code>commons-logging.properties</code> æ–‡ä»¶ã€‚å¦‚æœæ‰¾åˆ°ï¼Œåˆ™ä½¿â½¤å…¶ä¸­å®šä¹‰çš„ Log å®ç°ç±»;å¦‚æœæ‰¾ä¸åˆ°ï¼Œåˆ™å†æŸ¥æ‰¾æ˜¯å¦å·²å®šä¹‰ç³»ç»Ÿç¯å¢ƒå˜é‡ <code>org.apache.commons.logging.Log</code>ï¼Œæ‰¾åˆ°åˆ™ä½¿â½¤å…¶å®šä¹‰çš„ Log å®ç°ç±»</p><div class="alert warning no-icon"><p>æŸ¥çœ‹ classpath ä¸­æ˜¯å¦æœ‰ Log4j çš„åŒ…ï¼Œå¦‚æœå‘ç°åˆ™â¾ƒåŠ¨ä½¿â½¤ Log4j ä½œä¸ºâ½‡å¿—å®ç°ç±»ï¼›å¦åˆ™ï¼Œä½¿ç”¨ JDK è‡ªèº«çš„æ—¥å¿—å®ç°ç±»ï¼ˆJDK 1.4 ä»¥åæ‰æœ‰æ—¥å¿—å®ç°ç±»ï¼‰ï¼›å¦åˆ™ï¼Œä½¿ç”¨ commons-logging è‡ªå·±æä¾›çš„ä¸€ä¸ªç®€å•çš„æ—¥å¿—å®ç°ç±» SimpleLog</p></div><p>JCL æœ‰äº”ä¸ªçº§åˆ«ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">trace -&gt; debug -&gt; info -&gt; warn -&gt; error</span><br></pre></td></tr></table></figure><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æŒ‡å®šâ½‡æ—¥å¿—å¯¹è±¡:</span></span><br><span class="line"><span class="comment">#org.apache.commons.logging.Log=org.apache.commons.logging.impl.SimpleLog</span></span><br><span class="line"><span class="comment">#org.apache.commons.logging.Log=org.apache.commons.logging.impl.Jdk14Logger</span></span><br><span class="line"><span class="attr">org.apache.commons.logging.Log</span>=<span class="string">org.apache.commons.logging.impl.Log4JLogger</span></span><br><span class="line"><span class="comment">#æŒ‡å®šâ½‡å¿—â¼¯å‚:</span></span><br><span class="line"><span class="attr">org.apache.commons.logging.LogFactory</span> = <span class="string">org.apache.commons.logging.impl.LogFactoryImpl</span></span><br></pre></td></tr></table></figure><h3 id="slf4j"><a class="header-anchor" href="#slf4j">Â¶</a>slf4j</h3><p>å…·ä½“æ—¥å¿—è¾“å‡ºå†…å®¹å–å†³äºå…·ä½“çš„æ—¥å¿—å®ç°</p><p>slf4j æ—¥å¿—çº§åˆ«ä»é«˜åˆ°ä½æœ‰äº”ç§ï¼šERRORã€WARNã€INFOã€DEBUGã€TRACE</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">&lt;!--slfè½¬å…¶ä»–æ—¥å¿—--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--slf - jcl--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-jcl<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.30<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- slf - log4j --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-log4j12<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.30<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- slf4j - log4j2 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.logging.log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j-slf4j-impl<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.13.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--slf - jul--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-jdk14<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.30<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--slf - simplelog--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-simple<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.30<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--slf - logback--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>ch.qos.logback<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>logback-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>ch.qos.logback<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>logback-classic<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœå­˜åœ¨å¤šä¸ªæ¡¥æ¥å™¨çš„è¯ï¼Œslf4j ä¼šä½¿ç”¨åœ¨ classpath ä¸­è¾ƒæ—©å‡ºç°çš„é‚£ä¸ªï¼Œå¦‚åœ¨ maven ä¸­ï¼Œä¼šä½¿ç”¨åœ¨ <code>pom.xml</code> ä¸­å®šä¹‰è¾ƒé å‰çš„æ¡¥æ¥å™¨</p><p>ä¸ä»… slf4j èƒ½å¤Ÿæ¡¥æ¥åˆ°ç‰¹å®šçš„æ—¥å¿—å®ç°ï¼Œç‰¹å®šçš„å®ç°ä¹Ÿå¯ä»¥æ¡¥æ¥åˆ°å…·ä½“çš„æ—¥å¿—</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--å…¶ä»–â½‡æ—¥å¿—è½¬slf--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--jul - slf--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jul-to-slf4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.30<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jcl-over-slf4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.30<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--log4j - slf--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j-over-slf4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.30<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--log4j2 - slf--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.logging.log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j-to-slf4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.13.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ—¥å¿—ä¹‹é—´çš„æ¡¥æ¥ï¼Œéå¸¸å®¹æ˜“å‡ºç° slf4j çš„ä¸€ä¸ªè‘—åé—®é¢˜ï¼šslf4j çš„æ—¥å¿—ç¯é—®é¢˜</p><h2 id="Spring-Boot-ä¸­çš„æ—¥å¿—ä½¿ç”¨"><a class="header-anchor" href="#Spring-Boot-ä¸­çš„æ—¥å¿—ä½¿ç”¨">Â¶</a>Spring Boot ä¸­çš„æ—¥å¿—ä½¿ç”¨</h2><p>springboot æ¡†æ¶åœ¨ä¼ä¸šä¸­çš„ä½¿ç”¨è¶Šæ¥è¶Šæ™®éï¼Œspring boot æ—¥å¿—ä¹Ÿæ˜¯å¼€å‘ä¸­å¸¸ç”¨çš„æ—¥å¿—ç³»ç»Ÿã€‚spring boot é»˜è®¤å°±æ˜¯ä½¿ç”¨ SLF4J ä½œä¸ºæ—¥å¿—é—¨é¢ï¼Œlogback ä½œä¸ºæ—¥å¿—å®ç°æ¥è®°å½•æ—¥å¿—<br>å¼•å…¥å¦‚ä¸‹ä¾èµ–ï¼š</p><figure class="highlight xml"><figcaption><span>pom.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-logging<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><figcaption><span>SpringbootLogApplicationTests.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SpringbootLogApplicationTests</span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Logger</span> <span class="variable">LOGGER</span> <span class="operator">=</span> LoggerFactory.getLogger(SpringBootLogApplicationTests.class);</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">contextLoads</span><span class="params">()</span>&#123;</span><br><span class="line">LOGGER.error(<span class="string">&quot;error&quot;</span>);</span><br><span class="line">LOGGER.warn(<span class="string">&quot;warn&quot;</span>);</span><br><span class="line">LOGGER.info(<span class="string">&quot;info&quot;</span>); <span class="comment">// é»˜è®¤æ—¥å¿—çº§åˆ«</span></span><br><span class="line">LOGGER.debug(<span class="string">&quot;debug&quot;</span>);</span><br><span class="line">LOGGER.trace(<span class="string">&quot;trace&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é»˜è®¤çš„æ—¥å¿—é…ç½®å¦‚ä¸‹ï¼š</p><figure class="highlight yaml"><figcaption><span>application.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">logging.level.com.pineapple=trace</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åœ¨æ§åˆ¶å°è¾“å‡ºçš„æ—¥å¿—çš„æ ¼å¼ åŒ logback</span></span><br><span class="line"></span><br><span class="line"><span class="string">logging.pattern.console=%d&#123;yyyy-MM-dd&#125;</span> [<span class="string">%thread</span>] [<span class="string">%-5level</span>] <span class="string">%logger&#123;50&#125;</span> <span class="string">-%msg%n</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šæ–‡ä»¶ä¸­æ—¥å¿—è¾“å‡ºçš„æ ¼å¼</span></span><br><span class="line"></span><br><span class="line"><span class="string">logging.file=D:/logs/springboot.log</span></span><br><span class="line"><span class="string">logging.pattern.file=%d&#123;yyyy-MM-dd&#125;</span> [<span class="string">%thread</span>] <span class="string">%-5level</span> <span class="string">%logger&#123;50&#125;</span> <span class="bullet">-</span> <span class="string">%msg%n</span></span><br></pre></td></tr></table></figure><p>å¦‚æœç»™ç±»è·¯å¾„ä¸‹æ”¾ä¸Šæ¯ä¸ªæ—¥å¿—æ¡†æ¶è‡ªå·±çš„é…ç½®æ–‡ä»¶ï¼ŒSpring Boot å°±ä¸ä½¿ç”¨é»˜è®¤çš„é…ç½®äº†</p><table><thead><tr><th style="text-align:center">æ—¥å¿—æ¡†æ¶</th><th style="text-align:center">é…ç½®æ–‡ä»¶</th></tr></thead><tbody><tr><td style="text-align:center">Logback</td><td style="text-align:center">logback-spring.xml,locback.xml</td></tr><tr><td style="text-align:center">log4j2</td><td style="text-align:center">log4j2-spring.xml,log4j2.xml</td></tr><tr><td style="text-align:center">jul</td><td style="text-align:center">logging.properties</td></tr></tbody></table><h2 id="æ—¥å¿—ä½¿ç”¨å»ºè®®"><a class="header-anchor" href="#æ—¥å¿—ä½¿ç”¨å»ºè®®">Â¶</a>æ—¥å¿—ä½¿ç”¨å»ºè®®</h2><p>æ—¢ç„¶ Java æœ‰è¿™ä¹ˆå¤šæ—¥å¿—ï¼Œé‚£ä¹ˆåˆ°åº•åº”è¯¥å¦‚ä½•ä¼˜é›…çš„ä½¿ç”¨ Java æ—¥å¿—ï¼Ÿ</p><h3 id="é—¨é¢çº¦æŸ"><a class="header-anchor" href="#é—¨é¢çº¦æŸ">Â¶</a>é—¨é¢çº¦æŸ</h3><p>ä½¿ç”¨é—¨é¢ï¼Œè€Œï¥§æ˜¯å…·ä½“å®ç°ï¼Œä½¿â½¤ Log Facade å¯ä»¥æ–¹ï¥¥çš„åˆ‡æ¢å…·ä½“çš„æ—¥å¿—å®ç°ã€‚â½½ä¸”ï¼Œå¦‚æœä¾èµ–å¤šä¸ªé¡¹ç›®ï¼Œä½¿â½¤äº†ï¥§åŒçš„ Log Facadeï¼Œè¿˜å¯ä»¥æ–¹ä¾¿çš„é€šè¿‡ Adapter è½¬æ¥åˆ°åŒâ¼€ä¸ªå®ç°ä¸Šã€‚</p><p>ğŸ‘´ æ—¥å¿—é—¨é¢ç°åœ¨æ¨èä½¿ç”¨ Log4j-API æˆ–è€… SLF4jï¼Œä¸æ¨èç»§ç»­ä½¿ç”¨ JCL</p><h3 id="å•ä¸€åŸåˆ™"><a class="header-anchor" href="#å•ä¸€åŸåˆ™">Â¶</a>å•ä¸€åŸåˆ™</h3><p>åªæ·»åŠ ä¸€ä¸ªæ—¥å¿—å®ç°ï¼Œé¡¹ç›®ä¸­åº”è¯¥åªä½¿ç”¨ä¸€ä¸ªå…·ä½“çš„ Log Implementationï¼Œå¦‚æœåœ¨ä¾èµ–çš„é¡¹ç›®ä¸­ï¼Œä½¿ç”¨çš„ Log Facade ä¸æ”¯æŒå½“å‰ Log Implementationï¼Œå°±æ·»åŠ åˆé€‚çš„æ¡¥æ¥å™¨</p><p>ğŸ‘´ JUL æ€§èƒ½ä¸€èˆ¬ï¼Œlog4j æ€§èƒ½ä¹Ÿæœ‰é—®é¢˜è€Œä¸”ä¸å†ç»´æŠ¤ï¼Œç›®å‰ log4j2 è¿˜æœ‰å®‰å…¨é—®é¢˜ï¼Œæ¨èä½¿ç”¨ logback</p><h3 id="ä¾èµ–çº¦æŸ"><a class="header-anchor" href="#ä¾èµ–çº¦æŸ">Â¶</a>ä¾èµ–çº¦æŸ</h3><p>åœ¨é¡¹â½¬ä¸­ï¼ŒLog Implementation çš„ä¾èµ–å¼ºï¦Ÿå»ºè®®è®¾ç½®ä¸º runtime scopeï¼Œå¹¶ä¸”è®¾ç½®ä¸º optionalã€‚ä¾‹å¦‚é¡¹ç›®ä¸­ä½¿ç”¨ï¦º SLF4J ä½œä¸º Log Facadeï¼Œç„¶åæƒ³ä½¿ç”¨ Log4j2 ä½œä¸º Implementationï¼Œé‚£ä¹ˆä½¿ç”¨ maven æ·»åŠ ä¾èµ–çš„æ—¶å€™è¿™æ ·è®¾ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.logging.log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;log4j.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.logging.log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j-slf4j-impl<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;log4j.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>è®¾ä¸º optionalï¼Œä¾èµ–ä¸ä¼šä¼ é€’ï¼Œè¿™æ ·å¦‚æœæ˜¯ä¸ª lib é¡¹ç›®ï¼Œç„¶ååˆ«çš„é¡¹â½¬ä½¿ç”¨ï¦ºè¿™ä¸ª libï¼Œï¥§ä¼šè¢«å¼•å…¥ä¸æƒ³è¦çš„ Log Implementation ä¾èµ–;</li><li>Scope è®¾ç½®ä¸º runtimeï¼Œæ˜¯ä¸ºï¦ºé˜²æ­¢å¼€å‘â¼ˆå‘˜åœ¨é¡¹â½¬ä¸­ç›´æ¥ä½¿ç”¨ Log Implementation ä¸­çš„ç±»ï¼Œå¼ºåˆ¶çº¦æŸå¼€å‘â¼ˆå‘˜ä½¿ç”¨ Facade æ¥â¼</li></ul><h3 id="é¿å…ä¼ é€’"><a class="header-anchor" href="#é¿å…ä¼ é€’">Â¶</a>é¿å…ä¼ é€’</h3><p>å°½é‡ç”¨ exclusion æ’é™¤ä¾èµ–çš„ç¬¬ä¸‰æ–¹åº“ä¸­çš„â½‡å¿—åæ ‡ï¼ŒåŒä¸Šâ¼€ä¸ªè¯é¢˜ï¼Œç¬¬ä¸‰æ–¹åº“çš„å¼€å‘è€…å´æœªå¿…ä¼šæŠŠå…·ä½“çš„â½‡å¿—å®ç°æˆ–è€…æ¡¥æ¥ï¨¸çš„ä¾èµ–è®¾ç½®ä¸º optionalï¼Œ ç„¶åä½ çš„é¡¹â½¬å°±ä¼šè¢«è¿«ä¼ é€’å¼•â¼Šè¿™äº›ä¾èµ–ï¼Œè€Œè¿™äº›â½‡å¿—å®ç°æœªå¿…æ˜¯ä½ æƒ³è¦çš„ï¼Œâ½å¦‚ä»–ä¾èµ–äº† Log4jï¼Œä½ æƒ³ä½¿ç”¨ Logbackï¼Œè¿™æ—¶å°±å¾ˆå°´å°¬ã€‚å¦å¤–ï¼Œå¦‚æœï¥§åŒçš„ç¬¬ä¸‰â½…ä¾èµ–ä½¿â½¤ï¦ºä¸åŒçš„æ¡¥æ¥ï¨¸å’Œ Log å®ç°ï¼Œææœ‰å¯èƒ½ä¼šå½¢æˆç¯ã€‚</p><p>è¿™ç§æƒ…å†µä¸‹ï¼Œæ¨èçš„å¤„ç†â½…æ³•ï¼Œæ˜¯ä½¿ç”¨ exclude æ¥æ’é™¤æ‰€æœ‰çš„è¿™äº› Log å®ç°å’Œæ¡¥æ¥å™¨çš„ä¾èµ–ï¼Œåªä¿ç•™ç¬¬ä¸‰â½…åº“â¾¥é¢å¯¹ Log Facade çš„ä¾èµ–</p><p>ä¾èµ– jstorm ä¼šå¼•â¼Š Logback å’Œ log4j-over-slf4jï¼Œå¦‚æœä½ åœ¨â¾ƒå·±çš„é¡¹â½¬ä¸­ä½¿ç”¨ Log4j æˆ–å…¶ä»– Log å®ç°çš„è¯ï¼Œå°±éœ€è¦åŠ ä¸Š exclusion:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba.jstorm<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jstorm-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j-over-slf4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>ch.qos.logback<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>logback-classic<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="æ³¨æ„å†™æ³•"><a class="header-anchor" href="#æ³¨æ„å†™æ³•">Â¶</a>æ³¨æ„å†™æ³•</h3><p>é¿å…ä¸ºä¸ä¼šè¾“å‡ºçš„ log ä¹°å•ã€‚Log åº“éƒ½å¯ä»¥çµæ´»çš„è®¾ç½®è¾“å‡ºçº§åˆ«ï¼Œæ‰€ä»¥æ¯ä¸€æ¡ç¨‹åºä¸­çš„ logï¼Œéƒ½æ˜¯æœ‰å¯èƒ½ä¸ä¼šè¢«è¾“å‡ºçš„ï¼Œè¿™æ—¶å€™è¦æ³¨æ„ä¸è¦é¢å¤–çš„ä»˜å‡ºä»£ä»·ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">logger.debug(<span class="string">&quot;this is debug: &quot;</span> + message);</span><br><span class="line">logger.debug(<span class="string">&quot;this is json msg: &#123;&#125;&quot;</span>, toJson(message));</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€æ¡çš„å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œå³ä½¿æ—¥å¿—çº§åˆ«â¾¼äº debug ï¥§ä¼šæ‰“å°ï¼Œä¾ç„¶ä¼šåšå­—ç¬¦ä¸²è¿æ¥æ“ä½œ; ç¬¬äºŒæ¡è™½ç„¶â½¤ï¦º SLF4J/Log4j2 ä¸­çš„æ‡’æ±‚å€¼â½…å¼ï¼Œä½†æ˜¯ toJson()è¿™ä¸ªå‡½æ•°å´æ˜¯æ€»ä¼šè¢«è°ƒç”¨å¹¶ä¸”å¼€é”€æ›´å¤§ã€‚ æ¨èçš„å†™æ³•å¦‚ä¸‹:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// SLF4J/LOG4J2</span></span><br><span class="line">logger.debug(<span class="string">&quot;this is debug:&#123;&#125;&quot;</span>, message);</span><br><span class="line"><span class="comment">// LOG4J2</span></span><br><span class="line">logger.debug(<span class="string">&quot;this is json msg: &#123;&#125;&quot;</span>, () -&gt; toJson(message));</span><br><span class="line"><span class="comment">// SLF4J/LOG4J2</span></span><br><span class="line"><span class="keyword">if</span> (logger.isDebugEnabled()) &#123;</span><br><span class="line">    logger.debug(<span class="string">&quot;this is debug: &quot;</span> + message);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å‡å°‘åˆ†æ"><a class="header-anchor" href="#å‡å°‘åˆ†æ">Â¶</a>å‡å°‘åˆ†æ</h3><p>è¾“å‡ºçš„æ—¥å¿—ä¸­å°½é‡ä¸è¦ä½¿ç”¨è¡Œå·ï¼Œå‡½æ•°åç­‰ä¿¡æ¯ã€‚åŸå› æ˜¯ï¼šä¸ºäº†è·å–è¯­å¥æ‰€åœ¨çš„å‡½æ•°åï¼Œæˆ–è€…è¡Œå·ï¼Œlog åº“çš„å®ç°éƒ½æ˜¯è·å–å½“å‰çš„ stacktrace ï¼Œç„¶ååˆ†æå–å‡ºè¿™äº›ä¿¡æ¯ï¼Œè€Œè·å– stacktrace çš„ä»£ä»·æ˜¯æ˜‚è´µçš„ã€‚å¦‚æœæœ‰å¾ˆå¤šçš„æ—¥å¿—è¾“å‡ºï¼Œå°±ä¼šå ç”¨å¤§é‡çš„ CPUï¼Œåœ¨æ²¡æœ‰ç‰¹æ®Šéœ€æ±‚çš„æƒ…å†µä¸‹ï¼Œå»ºè®®ä¸è¦åœ¨æ—¥å¿—ä¸­è¾“å‡ºè¿™äº›å­—æ®µ</p><h3 id="ç²¾ç®€è‡³ä¸Š"><a class="header-anchor" href="#ç²¾ç®€è‡³ä¸Š">Â¶</a>ç²¾ç®€è‡³ä¸Š</h3><p>log ä¸­å°½é‡ï¥§è¦è¾“å‡ºç¨€å¥‡å¤æ€ªçš„å­—ç¬¦ï¼Œè¿™æ˜¯ä¸ªä¹ æƒ¯å’Œçº¦æŸé—®é¢˜ï¼Œä¸‹é¢è¿™ä¸ªè¯­å¥æœ€å¥½ä¸è¦å‡ºç°åœ¨é¡¹ç›®ä¸­</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">logger.debug(<span class="string">&quot;===========================:&#123;&#125;&quot;</span>,message);</span><br></pre></td></tr></table></figure><p>è¾“å‡ºå¤§é‡æ— å…³å­—ç¬¦ï¼Œè™½ç„¶è‡ªå·±ä¸€æ—¶ç—›å¿«ï¼Œä½†æ˜¯å¦‚æœæ‰€æœ‰äººéƒ½è¿™æ ·åšçš„è¯ï¼Œé‚£ log è¾“å‡ºå°±æ²¡æ³•çœ‹äº†ï¼æ­£ç¡®çš„åšæ³•æ˜¯æ—¥å¿—åªè¾“å‡ºå¿…è¦çš„ä¿¡æ¯ï¼Œå¦‚æœè¦è¿‡æ»¤ï¼ŒåæœŸä½¿ç”¨ <code>grep</code> æ¥ç­›é€‰ï¼ŒåªæŸ¥çœ‹è‡ªå·±å…³å¿ƒçš„æ—¥å¿—</p><h2 id="é™„å½•"><a class="header-anchor" href="#é™„å½•">Â¶</a>é™„å½•</h2><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/da1c9e1e13ea">å¤æ‚ Spring é¡¹ç›®ä¸­ SLF4J æœ€ä½³ä½¿ç”¨å§¿åŠ¿</a></p></div></div><div id="post-footer" class="post-footer main-content-wrap"><div class="post-footer-tags"><span class="text-color-light text-small">æ ‡ç­¾</span><br><a class="tag tag--primary tag--small t-none-link" href="/tags/%E6%97%A5%E5%BF%97%E7%B3%BB%E7%BB%9F/" rel="tag">æ—¥å¿—ç³»ç»Ÿ</a></div><div class="post-actions-wrap"><nav><ul class="post-actions post-action-nav"><li class="post-action"><a class="post-action-btn btn btn--default tooltip--top" href="/uml-%E6%A6%82%E8%BF%B0/" data-tooltip="UML æ¦‚è¿°" aria-label="ä¸Šä¸€ç¯‡: UML æ¦‚è¿°"><i class="fa fa-angle-left" aria-hidden="true"></i> <span class="hide-xs hide-sm text-small icon-ml">ä¸Šä¸€ç¯‡</span></a></li><li class="post-action"><a class="post-action-btn btn btn--default tooltip--top" href="/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E5%8E%9F%E7%90%86/" data-tooltip="è½¯ä»¶å·¥ç¨‹åŸç†" aria-label="ä¸‹ä¸€ç¯‡: è½¯ä»¶å·¥ç¨‹åŸç†"><span class="hide-xs hide-sm text-small icon-mr">ä¸‹ä¸€ç¯‡</span> <i class="fa fa-angle-right" aria-hidden="true"></i></a></li></ul></nav><ul class="post-actions post-action-share"><li class="post-action hide-lg hide-md hide-sm"><a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Diesen Beitrag teilen"><i class="fa fa-share-alt" aria-hidden="true"></i></a></li><li class="post-action"><a class="post-action-btn btn btn--default" href="#table-of-contents" aria-label="ç›®å½•"><i class="fa fa-list" aria-hidden="true"></i></a></li></ul></div></div></article><script type="text/x-mathjax-config">MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
  });
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });</script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@2.7.8/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><footer id="footer" class="main-content-wrap"><span class="copyrights">Copyrights &copy; 2023 pineapple-man. All Rights Reserved.</span><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><br>Total <span id="busuanzi_value_site_pv"></span> views. æ‚¨æ˜¯pineapple-mançš„ç¬¬<span id="busuanzi_value_site_uv"></span>ä¸ªå°ä¼™ä¼´<br><i class="fas fa-book-open"></i> <span class="post-count">åšå®¢å­—æ•°ç»Ÿè®¡ï¼š370.7k</span><script src="https://unpkg.com/mermaid@7.1.2/dist/mermaid.min.js"></script><script>window.mermaid&&mermaid.initialize({theme:"forest"})</script></footer></div><div id="bottom-bar" class="post-bottom-bar" data-behavior="5"><div class="post-actions-wrap"><nav><ul class="post-actions post-action-nav"><li class="post-action"><a class="post-action-btn btn btn--default tooltip--top" href="/uml-%E6%A6%82%E8%BF%B0/" data-tooltip="UML æ¦‚è¿°" aria-label="ä¸Šä¸€ç¯‡: UML æ¦‚è¿°"><i class="fa fa-angle-left" aria-hidden="true"></i> <span class="hide-xs hide-sm text-small icon-ml">ä¸Šä¸€ç¯‡</span></a></li><li class="post-action"><a class="post-action-btn btn btn--default tooltip--top" href="/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E5%8E%9F%E7%90%86/" data-tooltip="è½¯ä»¶å·¥ç¨‹åŸç†" aria-label="ä¸‹ä¸€ç¯‡: è½¯ä»¶å·¥ç¨‹åŸç†"><span class="hide-xs hide-sm text-small icon-mr">ä¸‹ä¸€ç¯‡</span> <i class="fa fa-angle-right" aria-hidden="true"></i></a></li></ul></nav><ul class="post-actions post-action-share"><li class="post-action hide-lg hide-md hide-sm"><a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Diesen Beitrag teilen"><i class="fa fa-share-alt" aria-hidden="true"></i></a></li><li class="post-action"><a class="post-action-btn btn btn--default" href="#table-of-contents" aria-label="ç›®å½•"><i class="fa fa-list" aria-hidden="true"></i></a></li></ul></div></div></div><div id="about"><div id="about-card"><div id="about-btn-close"><i class="fa fa-times"></i></div><img id="about-card-picture" src="/assets/images/logo.png" alt="ä½œè€…çš„å›¾ç‰‡"><h4 id="about-card-name">pineapple-man</h4><div id="about-card-bio"><p>åšä¸€ä¸ªè èï¼šç«™å¾—ç¬”ç›´ï¼Œå¤´æˆ´ç‹å† ï¼Œå†…å¿ƒç”œç¾</p></div><div id="about-card-job"><i class="fa fa-briefcase"></i><br><p>åˆšæ¯•ä¸šå°±å¤±ä¸š</p></div><div id="about-card-location"><i class="fa fa-map-marker-alt"></i><br>è¥¿å®‰</div></div></div><div id="cover" style="background-image:url(/assets/images/cover-v1.2.0.jpg)"></div><script src="/assets/js/script-kcoiyt1nxfue7qgcpkrcixymglcc3cuxeg98fy01hqww4nblnhd2ees6j6yc.min.js"></script></body></html>