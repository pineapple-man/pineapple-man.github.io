---
title: 单调栈
toc: true
clearReading: true
thumbnailImagePosition: right
metaAlignment: center
categories: 计算机算法理论
tags: 数据结构与算法
keywords: 单调栈
excerpt: "本文主要记录单调栈这种数据结构，摘抄自oi-wiki"
---
<!-- toc -->

## 概述

:question:什么是单调栈？

单调栈即满足单调性的栈结构。与单调队列相比，其只在一端进行进出



### 插入

将一个元素插入单调栈时，为了维护栈的单调性，需要在保证将该元素插入到栈顶后整个栈满足单调性的前提下弹出最少的元素

例如，栈中自顶向下的元素为 ${\\{4,11,45,81\\}}$
{% image  fancybox  fig-100  center https://gitee.com/mingchaohu/blog-image/raw/master/image/monotonous-stack-before.svg%}


插入元 $14$  时为了保证单调性需要依次弹出元素${0,11}$，操作后栈变为$\\{14,45,81\\}$

{% image  fancybox  fig-100  center https://gitee.com/mingchaohu/blog-image/raw/master/image/monotonous-stack-after.svg %}



伪代码如下

```c
insert x
while !sta.empty() && sta.top()<x
    sta.pop()
sta.push(x)
```

## 使用

从栈顶读出来一个元素，该元素满足单调性的某一端

例如，不论何时，从单调栈中取出的元素都是最小（最大）的

## 应用

典型的例题：给出项数为 n*n* 的整数数列 

$a_{1 \dots n}$，定义函数$f(i)$代表数列中第$i$个元素之后第一个大于$a_i$的元素的下标，即$f(i)=\min_{i<j\leq n, a_j > a_i} \\{j\\}$，若不存在则$f(i)=0$，试求出${f({1 \dots n})}$

