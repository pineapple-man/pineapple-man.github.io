---
title: DevOps 概述
toc: true
clearReading: true
thumbnailImagePosition: right
metaAlignment: center
thumbnailImage:
categories: 通用技能
tags: DevOps
keywords: DevOps
excerpt: 前几年非常火热的 DevOps 到底是什么？通过本文你将得到答案
---


## DevOps 的历程
DevOps的历程始于2009年，在成功地应用了Agile，Scrum和XP等方法论后，我们的客户能提供很炫酷的web交互服务，可覆盖从传统PC到iPhone移动设备的各种终端。
Scrum团队能已够更快地开发和发布软件。即使开发时间减少了一半，但是业务主管仍然对业务速度的提升表示不满。表面上看起来还是开发过程是瓶颈，但是在调查中发现开发过程并非瓶颈，相反是业务流程应该被改进。

TMS这个概念从业务战略和规划到客户服务的整个业务流程中得以实施。而使用
DevOps的概念将有助于建立一个流水线式的业务运营过程，并缩短交付前置期。
DevOps框架应该直接支持到业务产出，不仅仅是为了IT服务中开发与运维的协同，而
是要能帮助企业使用IT服务来支持和提升他们的业务。
DevOps的价值应由业务价值的产出来评判，而不是根据IT项目范围和IT成果来评判。
关于DevOps的书有很多，但不幸的是，大多数都是描述互联网行业的网站和产品开发
中如何应用DevOps。很少有相关资料是考虑DevOps如何用于企业体系的。
企业往往同时拥有交互型系统（SoE）和记录型系统（SoR）。SoE系统关注的是速度，
SoR系统关注的是业务连续性。问题是当SoE频繁变更的时候，如何保障SoR的业务连续性
呢？Gartner公司把这称为双峰挑战（Bimodal challenge）。
关于DevOps的书有很多，但不幸的是，大多数都是描述互联网行业的网站和产品开发
中如何应用DevOps。很少有相关资料是考虑DevOps如何用于企业体系的。
企业往往同时拥有交互型系统（SoE）和记录型系统（SoR）。SoE系统关注的是速度，
SoR系统关注的是业务连续性。问题是当SoE频繁变更的时候，如何保障SoR的业务连续性
呢？Gartner公司把这称为双峰挑战（Bimodal challenge）。

大多数企业的SoR的既有传统的系统与应用还需要维系和使用，使用DevOps建立准时
制（just-in-time, JIT）概念的流水线过程可以帮到这类系统

DevOps不能简单认为是一种工具、方法、技能或组织结构，DevOps的框架是结合所
有这些元素来建立一个流水线的过程，使业务更快地运营，并能更快地应对变化。DevOps
还可以通过戴明博士的计划（戴明环）来提升其成熟度。企业级的DevOps不仅仅是增强的
敏捷开发和持续交付，同时也通过IT服务管理和应用程序管理来实现和促进业务增长并保障
业务连续性
## 什么是企业体系的 DevOps
关于DevOps的书有很多，但不幸的是，大多数都是描述互联网行业的网站和产品开发
中如何应用DevOps。很少有相关资料是考虑DevOps如何用于企业体系的。
企业往往同时拥有交互型系统（SoE）和记录型系统（SoR）。SoE系统关注的是速度，
SoR系统关注的是业务连续性。问题是当SoE频繁变更的时候，如何保障SoR的业务连续性
呢？Gartner公司把这称为双峰挑战（Bimodal challenge）。
关于DevOps的书有很多，但不幸的是，大多数都是描述互联网行业的网站和产品开发
中如何应用DevOps。很少有相关资料是考虑DevOps如何用于企业体系的。
企业往往同时拥有交互型系统（SoE）和记录型系统（SoR）。SoE系统关注的是速度，
SoR系统关注的是业务连续性。问题是当SoE频繁变更的时候，如何保障SoR的业务连续性
呢？Gartner公司把这称为双峰挑战（Bimodal challenge）。

大多数企业的SoR的既有传统的系统与应用还需要维系和使用，使用DevOps建立准时
制（just-in-time, JIT）概念的流水线过程可以帮到这类系统

DevOps不能简单认为是一种工具、方法、技能或组织结构，DevOps的框架是结合所
有这些元素来建立一个流水线的过程，使业务更快地运营，并能更快地应对变化。DevOps
还可以通过戴明博士的计划（戴明环）来提升其成熟度。企业级的DevOps不仅仅是增强的
敏捷开发和持续交付，同时也通过IT服务管理和应用程序管理来实现和促进业务增长并保障
业务连续性
## DevOps 的目标是什么?
DevOps的目标是建立流水线式的准时制（JIT）的业务流程。DevOps旨在通过合适的
准时制业务流程来最大化业务产出，例如增加销售和利润率、提升业务速度，或尽量降低运
营成本。
DevOps意味着在业务中建立了一条IT服务供应链，与其它产品的供应链嵌入业务的方
式相同。这种从提供软件交付到供给IT服务的模式转变是巨大的。
从架构的角度来看，DevOps需要建立一个自动快速部署系统。有很多方法论和工具可
以利用。DevOps没有统一的实施模板，每个组织都不得不自己考虑并建立DevOps流程来
提高业务。因此，真正理解DevOps的概念，对员工遵循正确的流程有效执行来说是至关重
要的。

## DevOps 是什么？

为DevOps旨在通过建立软件和IT服务的供应链来 支持业务并管理整个流程的成熟度

DevOps 工程师的职责是引入相应的流程、工具和方法，从而平衡整个软件开发生命周期（从编码和部署，到维护和更新）的需求[RedHat][1]。

开发团队和 IT 运维团队的技能要求和工作目标可能都不相同。开发人员希望给应用增加新功能，而运维团队的重点则是在应用发布之后保持其稳定性。 [2]

## 部署策略



DevOps 是 Development 和 Operations 的组合，是开发和运维的简写

Devops 集文化理念、实践与工具与一身，可以提高组织高速交付应用程序和服务的能力，与使用传统软件开发和基础设施管理流程相比，能够帮助企业更快速的发展和改进产品，这种速度使企业能够更好地服务于客户，并在市场上高效地参与竞争

DevOps 是针对企业中的研发人员、运维人员和测试人员的工作理念，是他们在应用开发、代码部署和质量测试等整条生命周期中协作和沟通的最佳实践， DevOps 强调整个组织的合作以及交付和基础设施变更的自动化、从而实现持续集成、持续部署和持续交付

DevOps 四大平台：代码托管(gitlab/svn)、项目管理（jira，禅道/Teambition）、运维平台（自研、腾讯蓝鲸）、持续交付（Jenkins、gitlab）






![](https://gitee.com/mingchaohu/blog-image/raw/master/image/image-20210426001926727.png)

devOps定义

![](https://gitee.com/mingchaohu/blog-image/raw/master/image/image-20210426001133524.png)

## 1.2 为什么需要 DevOps

DevOps 强调团队协作、相互协作、持续发展，然而传统的模式是开发人员只顾开发程序，运维人员只负责基础环境管理和代码部署以及监控等，其并不是为了一个共同的目标而共同实现最终的目的，而DevOps 则实现团队作战，即无论是开发、运维还是测试，都是为了最终的代码发布、持续部署和业务稳定而付出各自的努力，从而实现产品设计、开发、测试和部署的良性循环，实现产品的最终持续交付

:sparkles:DevOps的优势：

- 速度：应用版本快速的迭代更新，以更好地适应不断变换的市场需求
- 快速交付：更快的将应用交付至生产环境
- 可靠性：保证应用交付的结果是成功的
- 规模：可以在大规模环境下且可靠的交付应用
- 增强合作：建立适应DevOps文化模式的团队，开发人员和运维人员协同工作
- 安全性：在快速迭代的同时保证应用的质量

## DevOps的目标是什么？

DevOps的目标是建立流水线式的准时制（JIT）的业务流程。DevOps旨在通过合适的准时制业务流程来最大化业务产出，例如增加销售和利润率、提升业务速度，或尽量降低运营成本。

DevOps意味着在业务中建立一条IT服务供应链，与其它产品的供应链嵌入业务的方式相同。这种从提供软件交付到供给IT服务的模式转变是巨大的。

从架构的角度看，DevOps需要建立一个自动快速部署系统，有很多方法论和工具可以利用。DevOps没有统一的实施模板，每个组织都不得不自己考虑并建立DevOps流程来提高业务。因此，真正理解DevOps的概念，对员工遵循正确的流程有效执行来说是至关重要的。

## 团队对比



传统团队



DevOps 技术团队

![](https://gitee.com/mingchaohu/blog-image/raw/master/image/image-20210426001322249.png)
![](https://gitee.com/mingchaohu/blog-image/raw/master/image/image-20210426001325079.png)



## 持续集成（CI）

CI（Continuous integration），持续集成是指多名开发者在开发不同功能代码的过程中，可以频繁的将代码行合并到一起并相互不影响工作。

![](https://gitee.com/mingchaohu/blog-image/raw/master/image/image-20210426002705952.png)



![](https://gitee.com/mingchaohu/blog-image/raw/master/image/image-20210426002737559.png)

## 持续部署（CD）

CD（continuous deployment）是基于某种工具或平台实现代码自动化的构建、测试和部署到线上环境以实现交付高质量的产品，持续部署在某种程度上代表了一个开发团队的更新迭代速率

![](https://gitee.com/mingchaohu/blog-image/raw/master/image/image-20210426003003240.png)

测试还是需要专门的测试人员进行测试

测试环境 --》预发布环境--》生产环境

测试环境比较单一，数据量比较简单

预发布环境：正规的代码流程，还有正规的测试人员进行测试，数据和生产环境几乎一致

## CI/CD

![](https://gitee.com/mingchaohu/blog-image/raw/master/image/image-20210426003408743.png)

![](https://gitee.com/mingchaohu/blog-image/raw/master/image/image-20210426003509185.png)

冒烟测试，

## 持续交付

持续交付（continuous Delivery）持续交付是在持续部署的基础之上，将产品交付到线上环境，因此持续交付时产品价值的一种交付，是产品价值的一种盈利的实现

## 常见的部署方式

开发自己上传--》最原始的方案

开发给运维手动上传--》运维自己手动部署

运维使用脚本复制 --》半自动化

结合web界面一键部署--》自动化

# Git


## DevOps 的知识体系

## 版本发布
https://cloud.tencent.com/developer/article/1529300

### 蓝绿部署



### 灰度部署



### 红黑部署



### 滚动发布



## 附录
[1]: https://www.redhat.com/zh/topics/devops/devops-engineer
[2]: https://mp.weixin.qq.com/s/FgQgg9wANAvzNyJ4VmFmTQ

