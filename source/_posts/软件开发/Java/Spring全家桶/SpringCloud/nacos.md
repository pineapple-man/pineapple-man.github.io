---
title: Nacos
toc: true
clearReading: true
thumbnailImagePosition: right
metaAlignment: center
date: 2022-02-16 01:58:34
thumbnailImage:
categories: Java
tags: SpringCloud
keywords: Nacos
excerpt: 什么是 Nacos? 
---
<!-- toc -->

## 概述

Nacos 是阿里的一个开源产品，它是针对微服务架构中的服务发现、配置管理、服务治理的综合型解决方案。Nacos 是开发微服务架构应用非常有用的一套解决方案

{% alert info no-icon %}

简而言之，Nacos 就是做到了两大功能：服务发现以及配置管理
{% endalert %}
                                                                                                           
## 配置管理

:question: 什么是配置？

应用程序在启动和运行的时候往往需要读取一些配置信息来初始化程序，读取到的配置基本上伴随着应用程序的整个生命周期，比如：数据库连接参数、启动参数等

:sparkles: 配置主要有以下几个特点：

- 配置是独立于程序的只读变量。配置通常对于程序而言是只读的，程序通过读取配置来改变自己的行为，并且在程序的运行过程中不应该去改变配置。
- 配置伴随应用的整个生命周期。配置贯穿于应用的整个生命周期，应用在启动时通过读取配置来初始化，在运行时根据配置调整行为。例如，后端项目启动时需要读取服务的端口号，系统在运行过程中需要读取定时策略执行定时等。
- 配置可以有多种加载方式。常见的配置方式有，程序内部硬编码、配置文件、环境变量、启动参数、基于数据库等方式。
- 配置需要治理。同一份程序在不同环境（开发、测试或生产）、不同的集群经常需要有不同的配置，所以需要有完善的环境、集群配置管理

:question: 什么是配置中心

在微服务架构中，当系统从一个单体应用，被拆分成分布式系统上一个个服务节点后，配置文件也必须跟着迁移（分割），这样配置就分散了，不仅如此，分散中还包含着冗余，如下图：



下图显示来配置中心的功能，配置中心将配置从各应用中剥离出来，对配置进行统一管理，应用自身不需要去管理配置

 

:boat: 配置中心的服务流程如下：

1. 用户在配置中心更新配置信息；
2. 服务 A 和服务 B 及时得到配置更新通知，从配置中心获取配置

简而言之，配置中心就是一种统一管理各种应用配置的基础服务组件。在系统架构中，配置中心是整个微服务基础架构体系中的一个组件，如下图，它的功能看上去并不起眼，无非就是配置的管理和存取，但它是整个微服务架构中不可或缺的一环

## 服务发现
