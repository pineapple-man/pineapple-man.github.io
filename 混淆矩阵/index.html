<!DOCTYPE html><html lang="zh-cn"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="pineapple-man"><title>混淆矩阵 - pineapple-man</title><meta name="author" content="pineapple-man"><meta name="keywords" content="混淆矩阵"><link rel="icon" href="https://pineapple-man.github.io/assets/images/logo.svg"><script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"pineapple-man","sameAs":["https://github.com/pineapple-man","mailto://mingchaohu720@gmail.com"],"image":"logo.png"},"articleBody":"\n¶概述\n大部分的机器学习指标（准确率、查准率、召回率、F1 值、ROC 曲线的 AUC 值）都可以直接或者间接的通过混淆矩阵进行计算。对于一个简单的二分类任务，可以得到下图的混淆矩阵(Confusion Matrix)\n\n.tg  {border-collapse:collapse;border-spacing:0;margin:0px auto;}\n.tg td{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;\n  overflow:hidden;padding:10px 5px;word-break:normal;}\n.tg th{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;\n  font-weight:normal;overflow:hidden;padding:10px 5px;word-break:normal;}\n.tg .tg-jvnx{background-color:#FFE4B5;font-family:\"Times New Roman\", Times, serif !important;font-size:medium;text-align:center;\n  vertical-align:middle}\n.tg .tg-et44{background-color:#FFF;font-family:\"Times New Roman\", Times, serif !important;font-size:medium;position:-webkit-sticky;\n  position:sticky;text-align:center;top:-1px;vertical-align:middle;will-change:transform}\n.tg .tg-02wa{background-color:#FFE4B5;font-family:\"Times New Roman\", Times, serif !important;font-size:medium;\n  position:-webkit-sticky;position:sticky;text-align:center;top:-1px;vertical-align:middle;will-change:transform}\n.tg .tg-48vf{background-color:#00d2cb;font-family:\"Times New Roman\", Times, serif !important;font-size:medium;\n  position:-webkit-sticky;position:sticky;text-align:center;top:-1px;vertical-align:middle;will-change:transform}\n.tg .tg-yeo8{background-color:#68cbd0;font-family:\"Times New Roman\", Times, serif !important;font-size:medium;text-align:center;\n  vertical-align:middle}\n.tg .tg-t6ih{background-color:#FFF;font-family:\"Times New Roman\", Times, serif !important;font-size:medium;text-align:center;\n  vertical-align:middle}\n\n\n\n  \n       \n    Actual class\n  \n  \n    positive class\n    negative class\n  \n\n\n  \n    Predicted class\n    positive class\n    True Positive(TP)\n    False Positive(FP)\n  \n  \n    negative class\n    False Negative(FN)\n    True Negative(TN)\n  \n\n\n❓ 什么是混淆矩阵？\n混淆矩阵中的行数据表示数据在模型上的预测类别（predicted class/predicted condition），列表示数据的真实类别（actual class/true condition）。在看混淆矩阵时，要分清样本的真是类别和预测类别，有些地方的行列表示可能和这里不一致。\n\n通过混淆矩阵，可以很直观地看清一个模型在各个类别（positive 和 negative）上分类的情况\n\n.tg  {border-collapse:collapse;border-spacing:0;margin:0px auto;}\n.tg td{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;\n  overflow:hidden;padding:10px 5px;word-break:normal;}\n.tg th{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;\n  font-weight:normal;overflow:hidden;padding:10px 5px;word-break:normal;}\n.tg .tg-kaqf{background-color:#FFF;border-color:inherit;font-size:medium;text-align:center;vertical-align:top}\n.tg .tg-swvo{background-color:#FFF;border-color:inherit;font-size:medium;position:-webkit-sticky;position:sticky;text-align:center;\n  top:-1px;vertical-align:top;will-change:transform}\n\n\n\n  \n    \n    真实类别为positive，模型预测的类别也为positive\n  \n\n\n  \n    FP\n    预测为positive，但真实类别为negative，真实类别和预测类别不一致\n  \n  \n    FN\n    预测为negative，但真实类别为positive，真实类别和预测类别不一致\n  \n  \n    TN\n    真实类别为negative，模型预测的类别也为negative\n  \n\n\nTP、FP、TN、FN 第二个字母表示样本被预测的类别，第一个字母表示样本的预测类别与真实类别是否一致\n\n¶准确率\n准确率表示预测正确的样本（TP 和 TN）在所有样本（all data）中占的比例，在数据集不平衡时，准确率将不能很好地表示模型的性能，此时应该选择其他指标\n\n准确率（Accuracy）计算公式如下：\n$$\n\\text { accuracy }=\\frac{T P+T N}{T P+T N+F P+F N}=\\frac{T P+T N}{\\text { all data }}\n$$\n¶精确率（查准率）和召回率（查全率）\npositive class 的精确率表示在预测为 positive 的样本中真实类别为 positive 的样本所占比例；\npositive class 的召回率表示在真实为 positive 的样本中模型成功预测出的样本所占比例\n\npositive class 的精确率 (precision) 计算公式如下:\n$$\n\\text { precision }=\\frac{T P}{T P+F P}=\\frac{T P}{\\text { 预测为 positive的样本 }}\n$$\npositive class 的召回率 (recall) 计算公式如下:\n$$\n\\text { recall }=\\frac{T P}{T P+F N}=\\frac{T P}{\\text { 真实为 positive的样本 }}\n$$\npositive class 的召回率只和真实为 positive 的样本相关，与真实为 negative 的样本无关；而精确率则受到两类样本的影响。\n¶$F_1$ 值和 $F_{\\beta}$ 值\n$F_{1}$ 值的计算公式如下:\n$$\nF_{1}=\\frac{2}{\\frac{1}{\\text { precision }}+\\frac{1}{\\text { recall }}}=\\frac{2 \\cdot \\text { precision } \\cdot \\text { recall }}{\\text { precision }+\\text { recall }}\n$$\n$F_{1}$ 值就是精确率和召回率的调和平均值, $F_{1}$ 值认为精确率和召回率一样重要。\n$F_{\\beta}$ 值的计算公式如下:\n$$\nF_{\\beta}=\\frac{1+\\beta^{2}}{\\frac{1}{\\text { precision }}+\\frac{\\beta^{2}}{\\text { recall }}}=\\frac{\\left(1+\\beta^{2}\\right) \\cdot \\text { precision } \\cdot \\text { recall }}{\\beta^{2} \\cdot \\text { precision }+\\text { recall }}\n$$\n在 $\\beta=1$ 时,$F_{\\beta}$ 就是 $F_1$，此时 $F_\\beta$ 认为 精确率和召回率一样重要，当 $\\beta&gt;1$ 时， $F_{\\beta}$ 认为召回率更重要，当 $0&lt;\\beta&lt;1$ 时，$F_{\\beta}$ 认为精确率更重要\n¶ROC 曲线及其 AUC 值\nAUC 全称为 Area Under Curve，表示一条曲线下面的面积，ROC 曲线的 AUC 值可以用来对模型进行评价\n\nROC 曲线的纵坐标 True Positive Rate (TPR) 在数值上就等于 positive class 的 recall, 记作 recall positive, 横坐标 False\nPositive Rate (FPR) 在数值上等于(1-negative class 的 recall), 记作 $(1$ - recall negative $)$ 如下所示:\n$$\n\\begin{aligned}\n\\text { TPR } &amp;=\\frac{T P}{T P+F N} \\\n&amp;=\\text { recall }_{\\text {positive }}\n\\end{aligned}\n$$\n$$\n\\begin{aligned}\n\\mathrm{FPR} &amp;=\\frac{F P}{F P+T N}=\\frac{F P+T N-T N}{F P+T N} \\\n&amp;=1-\\frac{T N}{F P+T N} \\\n&amp;=1-\\text { recall }_{\\text {negative }}\n\\end{aligned}\n$$\n通过对分类阈值 $\\theta$ （默认 0.5）从大到小或者从小到大依次取值，我们可以得到很多组 TPR 和 FPR 的值，将其在图像中依次画出就可以得到一条 ROC 曲线，阈值 $\\theta$ 取值范围为[0,1]。\nROC 曲线在图像上越接近左上角(0,1)模型越好，即 ROC 曲线下面与横轴围成的面积（AUC 值）越大越好。直观上理解，纵坐标 TPR 就是 $recall_{positive}$ 值，横坐标 FPR 就是$(1-recall_{negative})$，前者越大越好，后者整体越小越好，在图像上表示就是曲线越接近左上角(0,1)坐标越好。\n¶附录\n混淆矩阵、准确率、精确率/查准率、召回率/查全率、F1 值、ROC 曲线的 AUC 值\n","dateCreated":"2022-04-20T02:56:16+00:00","dateModified":"2023-06-07T02:13:34+00:00","datePublished":"2022-04-20T02:56:16+00:00","description":"评估某个模型的效果时，感觉混淆矩阵刚好可以进行评价大部分指标，所以这里进行学习","headline":"混淆矩阵","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://pineapple-man.github.io/%E6%B7%B7%E6%B7%86%E7%9F%A9%E9%98%B5/"},"publisher":{"@type":"Organization","name":"pineapple-man","sameAs":["https://github.com/pineapple-man","mailto://mingchaohu720@gmail.com"],"image":"logo.png","logo":{"@type":"ImageObject","url":"logo.png"}},"url":"https://pineapple-man.github.io/%E6%B7%B7%E6%B7%86%E7%9F%A9%E9%98%B5/","keywords":"AI"}</script><meta name="description" content="评估某个模型的效果时，感觉混淆矩阵刚好可以进行评价大部分指标，所以这里进行学习"><meta property="og:type" content="blog"><meta property="og:title" content="混淆矩阵"><meta property="og:url" content="https://pineapple-man.github.io/%E6%B7%B7%E6%B7%86%E7%9F%A9%E9%98%B5/"><meta property="og:site_name" content="pineapple-man"><meta property="og:description" content="评估某个模型的效果时，感觉混淆矩阵刚好可以进行评价大部分指标，所以这里进行学习"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/pineapple-man/blogImage@main/image/ai/ai-roc.png"><meta property="article:published_time" content="2022-04-20T02:56:16.000Z"><meta property="article:modified_time" content="2023-06-07T02:13:34.003Z"><meta property="article:author" content="pineapple-man"><meta property="article:tag" content="AI"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/pineapple-man/blogImage@main/image/ai/ai-roc.png"><meta property="og:image" content="https://pineapple-man.github.io/assets/images/logo.png"><link rel="stylesheet" href="/assets/css/style-oth3meuzcjopbgwqbdvoxqknhcm0sy9wkullcc94zhkkop3pmfrpl5t4fzzz.min.css"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-210516333-1"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-210516333-1")</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css"></head><body><div id="blog"><header id="header" data-behavior="5"><i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i><div class="header-title"><a class="header-title-link" href="/" aria-label="">pineapple-man</a></div><a class="header-right-picture" href="#about" aria-label="打开链接: /#about"><img class="header-picture" src="/assets/images/logo.png" alt="作者的图片"></a></header><nav id="sidebar" data-behavior="5"><div class="sidebar-container"><div class="sidebar-profile"><a href="/#about" aria-label="阅读有关作者的更多信息"><img class="sidebar-profile-picture" src="/assets/images/logo.png" alt="作者的图片"></a><h4 class="sidebar-profile-name">pineapple-man</h4><h5 class="sidebar-profile-bio"><p>做一个菠萝：站得笔直，头戴王冠，内心甜美</p></h5></div><ul class="sidebar-buttons"><li class="sidebar-button"><a class="sidebar-button-link" href="/" rel="noopener" title="首页"><i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i> <span class="sidebar-button-desc">首页</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="/all-categories" rel="noopener" title="分类"><i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i> <span class="sidebar-button-desc">分类</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="/all-tags" rel="noopener" title="标签"><i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i> <span class="sidebar-button-desc">标签</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="/all-archives" rel="noopener" title="归档"><i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i> <span class="sidebar-button-desc">归档</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="#about" rel="noopener" title="关于"><i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i> <span class="sidebar-button-desc">关于</span></a></li></ul><ul class="sidebar-buttons"><li class="sidebar-button"><a class="sidebar-button-link" href="https://github.com/pineapple-man" target="_blank" rel="noopener" title="GitHub"><i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i> <span class="sidebar-button-desc">GitHub</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="mailto://mingchaohu720@gmail.com" target="_blank" rel="noopener" title="邮箱"><i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i> <span class="sidebar-button-desc">邮箱</span></a></li></ul></div></nav><div id="main" data-behavior="5" class="hasCoverMetaIn"><article class="post"><div class="post-header main-content-wrap text-center"><h1 class="post-title">混淆矩阵</h1><div class="post-meta"><time datetime="2022-04-20T02:56:16+00:00">4月 20, 2022 </time><span>发布在 </span><a class="category-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%AE%97%E6%B3%95%E7%90%86%E8%AE%BA/">计算机算法理论</a> <i class="fas fa-book-open"></i> 本文共<span class="post-count"> 1.5k </span>字 <i class="far fa-clock"></i> 阅读预计<span class="post-count"> 17 </span>分钟</div></div><div class="post-content markdown"><div class="main-content-wrap"><h1 id="table-of-contents">目录</h1><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-text">概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%86%E7%A1%AE%E7%8E%87"><span class="toc-text">准确率</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B2%BE%E7%A1%AE%E7%8E%87%EF%BC%88%E6%9F%A5%E5%87%86%E7%8E%87%EF%BC%89%E5%92%8C%E5%8F%AC%E5%9B%9E%E7%8E%87%EF%BC%88%E6%9F%A5%E5%85%A8%E7%8E%87%EF%BC%89"><span class="toc-text">精确率（查准率）和召回率（查全率）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#F-1-%E5%80%BC%E5%92%8C-F-beta-%E5%80%BC"><span class="toc-text">$F_1$ 值和 $F_{\beta}$ 值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ROC-%E6%9B%B2%E7%BA%BF%E5%8F%8A%E5%85%B6-AUC-%E5%80%BC"><span class="toc-text">ROC 曲线及其 AUC 值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%99%84%E5%BD%95"><span class="toc-text">附录</span></a></li></ol><h2 id="概述"><a class="header-anchor" href="#概述">¶</a>概述</h2><p>大部分的机器学习指标（准确率、查准率、召回率、F1 值、ROC 曲线的 AUC 值）都可以直接或者间接的通过混淆矩阵进行计算。对于一个简单的二分类任务，可以得到下图的混淆矩阵(<code>Confusion Matrix</code>)</p><style type="text/css">.tg{border-collapse:collapse;border-spacing:0;margin:0 auto}.tg td{border-color:#000;border-style:solid;border-width:1px;font-family:Arial,sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;word-break:normal}.tg th{border-color:#000;border-style:solid;border-width:1px;font-family:Arial,sans-serif;font-size:14px;font-weight:400;overflow:hidden;padding:10px 5px;word-break:normal}.tg .tg-jvnx{background-color:#ffe4b5;font-family:"Times New Roman",Times,serif!important;font-size:medium;text-align:center;vertical-align:middle}.tg .tg-et44{background-color:#fff;font-family:"Times New Roman",Times,serif!important;font-size:medium;position:-webkit-sticky;position:sticky;text-align:center;top:-1px;vertical-align:middle;will-change:transform}.tg .tg-02wa{background-color:#ffe4b5;font-family:"Times New Roman",Times,serif!important;font-size:medium;position:-webkit-sticky;position:sticky;text-align:center;top:-1px;vertical-align:middle;will-change:transform}.tg .tg-48vf{background-color:#00d2cb;font-family:"Times New Roman",Times,serif!important;font-size:medium;position:-webkit-sticky;position:sticky;text-align:center;top:-1px;vertical-align:middle;will-change:transform}.tg .tg-yeo8{background-color:#68cbd0;font-family:"Times New Roman",Times,serif!important;font-size:medium;text-align:center;vertical-align:middle}.tg .tg-t6ih{background-color:#fff;font-family:"Times New Roman",Times,serif!important;font-size:medium;text-align:center;vertical-align:middle}</style><table class="tg"><thead><tr><th class="tg-et44" colspan="2" rowspan="2"><br></th><th class="tg-48vf" colspan="2">Actual class</th></tr><tr><th class="tg-02wa">positive class</th><th class="tg-02wa">negative class</th></tr></thead><tbody><tr><td class="tg-yeo8" rowspan="2">Predicted class</td><td class="tg-jvnx">positive class</td><td class="tg-t6ih"><span style="font-weight:300;font-style:normal">True Positive(TP)</span></td><td class="tg-t6ih">False Positive(FP)</td></tr><tr><td class="tg-jvnx">negative class</td><td class="tg-t6ih">False Negative(FN)</td><td class="tg-t6ih">True Negative(TN)</td></tr></tbody></table><p>❓ 什么是混淆矩阵？</p><div class="alert success no-icon"><p>混淆矩阵中的行数据表示数据在模型上的预测类别（predicted class/predicted condition），列表示数据的真实类别（actual class/true condition）。在看混淆矩阵时，要分清样本的真是类别和预测类别，有些地方的行列表示可能和这里不一致。</p></div><p>通过混淆矩阵，可以很直观地看清一个模型在各个类别（positive 和 negative）上分类的情况</p><style type="text/css">.tg{border-collapse:collapse;border-spacing:0;margin:0 auto}.tg td{border-color:#000;border-style:solid;border-width:1px;font-family:Arial,sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;word-break:normal}.tg th{border-color:#000;border-style:solid;border-width:1px;font-family:Arial,sans-serif;font-size:14px;font-weight:400;overflow:hidden;padding:10px 5px;word-break:normal}.tg .tg-kaqf{background-color:#fff;border-color:inherit;font-size:medium;text-align:center;vertical-align:top}.tg .tg-swvo{background-color:#fff;border-color:inherit;font-size:medium;position:-webkit-sticky;position:sticky;text-align:center;top:-1px;vertical-align:top;will-change:transform}</style><table class="tg"><thead><tr><th class="tg-swvo"></th><th class="tg-swvo">真实类别为positive，模型预测的类别也为positive</th></tr></thead><tbody><tr><td class="tg-kaqf">FP</td><td class="tg-kaqf">预测为positive，但真实类别为negative，真实类别和预测类别不一致</td></tr><tr><td class="tg-kaqf">FN</td><td class="tg-kaqf">预测为negative，但真实类别为positive，真实类别和预测类别不一致</td></tr><tr><td class="tg-kaqf">TN</td><td class="tg-kaqf">真实类别为negative，模型预测的类别也为negative</td></tr></tbody></table><div class="alert info no-icon"><p>TP、FP、TN、FN 第二个字母表示样本被预测的类别，第一个字母表示样本的预测类别与真实类别是否一致</p></div><h2 id="准确率"><a class="header-anchor" href="#准确率">¶</a>准确率</h2><div class="alert info no-icon"><p>准确率表示预测正确的样本（TP 和 TN）在所有样本（all data）中占的比例，在数据集不平衡时，准确率将不能很好地表示模型的性能，此时应该选择其他指标</p></div><p>准确率（Accuracy）计算公式如下：</p><p>$$<br>\text { accuracy }=\frac{T P+T N}{T P+T N+F P+F N}=\frac{T P+T N}{\text { all data }}<br>$$</p><h2 id="精确率（查准率）和召回率（查全率）"><a class="header-anchor" href="#精确率（查准率）和召回率（查全率）">¶</a>精确率（查准率）和召回率（查全率）</h2><div class="alert info no-icon"><p>positive class 的精确率表示在预测为 positive 的样本中真实类别为 positive 的样本所占比例；<br>positive class 的召回率表示在真实为 positive 的样本中模型成功预测出的样本所占比例</p></div><p>positive class 的精确率 (precision) 计算公式如下:</p><p>$$<br>\text { precision }=\frac{T P}{T P+F P}=\frac{T P}{\text { 预测为 positive的样本 }}<br>$$</p><p>positive class 的召回率 (recall) 计算公式如下:</p><p>$$<br>\text { recall }=\frac{T P}{T P+F N}=\frac{T P}{\text { 真实为 positive的样本 }}<br>$$</p><p>positive class 的召回率只和真实为 positive 的样本相关，与真实为 negative 的样本无关；而精确率则受到两类样本的影响。</p><h2 id="F-1-值和-F-beta-值"><a class="header-anchor" href="#F-1-值和-F-beta-值">¶</a>$F_1$ 值和 $F_{\beta}$ 值</h2><p>$F_{1}$ 值的计算公式如下:</p><p>$$<br>F_{1}=\frac{2}{\frac{1}{\text { precision }}+\frac{1}{\text { recall }}}=\frac{2 \cdot \text { precision } \cdot \text { recall }}{\text { precision }+\text { recall }}<br>$$</p><p>$F_{1}$ 值就是精确率和召回率的调和平均值, $F_{1}$ 值认为精确率和召回率一样重要。</p><p>$F_{\beta}$ 值的计算公式如下:</p><p>$$<br>F_{\beta}=\frac{1+\beta^{2}}{\frac{1}{\text { precision }}+\frac{\beta^{2}}{\text { recall }}}=\frac{\left(1+\beta^{2}\right) \cdot \text { precision } \cdot \text { recall }}{\beta^{2} \cdot \text { precision }+\text { recall }}<br>$$</p><p>在 $\beta=1$ 时,$F_{\beta}$ 就是 $F_1$，此时 $F_\beta$ 认为 精确率和召回率一样重要，当 $\beta&gt;1$ 时， $F_{\beta}$ 认为召回率更重要，当 $0&lt;\beta&lt;1$ 时，$F_{\beta}$ 认为精确率更重要</p><h2 id="ROC-曲线及其-AUC-值"><a class="header-anchor" href="#ROC-曲线及其-AUC-值">¶</a>ROC 曲线及其 AUC 值</h2><p>AUC 全称为 Area Under Curve，表示一条曲线下面的面积，ROC 曲线的 AUC 值可以用来对模型进行评价</p><div class="figure fig-100 center"><a class="fancybox" target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/pineapple-man/blogImage@main/image/ai/ai-roc.png" data-caption="" data-fancybox="default"><img class="fig-img" src="https://cdn.jsdelivr.net/gh/pineapple-man/blogImage@main/image/ai/ai-roc.png" alt=""></a></div><p>ROC 曲线的纵坐标 True Positive Rate (TPR) 在数值上就等于 positive class 的 recall, 记作 recall positive, 横坐标 False<br>Positive Rate (FPR) 在数值上等于(1-negative class 的 recall), 记作 $(1$ - recall negative $)$ 如下所示:</p><p>$$<br>\begin{aligned}<br>\text { TPR } &amp;=\frac{T P}{T P+F N} \<br>&amp;=\text { recall }_{\text {positive }}<br>\end{aligned}<br>$$</p><p>$$<br>\begin{aligned}<br>\mathrm{FPR} &amp;=\frac{F P}{F P+T N}=\frac{F P+T N-T N}{F P+T N} \<br>&amp;=1-\frac{T N}{F P+T N} \<br>&amp;=1-\text { recall }_{\text {negative }}<br>\end{aligned}<br>$$</p><p>通过对分类阈值 $\theta$ （默认 0.5）从大到小或者从小到大依次取值，我们可以得到很多组 TPR 和 FPR 的值，将其在图像中依次画出就可以得到一条 ROC 曲线，阈值 $\theta$ 取值范围为[0,1]。</p><p>ROC 曲线在图像上越接近左上角(0,1)模型越好，即 ROC 曲线下面与横轴围成的面积（AUC 值）越大越好。直观上理解，纵坐标 TPR 就是 $recall_{positive}$ 值，横坐标 FPR 就是$(1-recall_{negative})$，前者越大越好，后者整体越小越好，在图像上表示就是曲线越接近左上角(0,1)坐标越好。</p><h2 id="附录"><a class="header-anchor" href="#附录">¶</a>附录</h2><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/wuliytTaotao/p/9285227.html">混淆矩阵、准确率、精确率/查准率、召回率/查全率、F1 值、ROC 曲线的 AUC 值</a></p></div></div><div id="post-footer" class="post-footer main-content-wrap"><div class="post-footer-tags"><span class="text-color-light text-small">标签</span><br><a class="tag tag--primary tag--small t-none-link" href="/tags/AI/" rel="tag">AI</a></div><div class="post-actions-wrap"><nav><ul class="post-actions post-action-nav"><li class="post-action"><a class="post-action-btn btn btn--default tooltip--top" href="/hashmap-%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%85%A5%E5%9C%9F/" data-tooltip="HashMap 从入门到入土" aria-label="上一篇: HashMap 从入门到入土"><i class="fa fa-angle-left" aria-hidden="true"></i> <span class="hide-xs hide-sm text-small icon-ml">上一篇</span></a></li><li class="post-action"><a class="post-action-btn btn btn--default tooltip--top" href="/%E7%BC%93%E5%86%B2%E5%8C%BA/" data-tooltip="缓冲区" aria-label="下一篇: 缓冲区"><span class="hide-xs hide-sm text-small icon-mr">下一篇</span> <i class="fa fa-angle-right" aria-hidden="true"></i></a></li></ul></nav><ul class="post-actions post-action-share"><li class="post-action hide-lg hide-md hide-sm"><a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Diesen Beitrag teilen"><i class="fa fa-share-alt" aria-hidden="true"></i></a></li><li class="post-action"><a class="post-action-btn btn btn--default" href="#table-of-contents" aria-label="目录"><i class="fa fa-list" aria-hidden="true"></i></a></li></ul></div></div></article><script type="text/x-mathjax-config">MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
  });
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });</script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@2.7.8/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><footer id="footer" class="main-content-wrap"><span class="copyrights">Copyrights &copy; 2023 pineapple-man. All Rights Reserved.</span><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><br>Total <span id="busuanzi_value_site_pv"></span> views. 您是pineapple-man的第<span id="busuanzi_value_site_uv"></span>个小伙伴<br><i class="fas fa-book-open"></i> <span class="post-count">博客字数统计：370.7k</span><script src="https://unpkg.com/mermaid@7.1.2/dist/mermaid.min.js"></script><script>window.mermaid&&mermaid.initialize({theme:"forest"})</script></footer></div><div id="bottom-bar" class="post-bottom-bar" data-behavior="5"><div class="post-actions-wrap"><nav><ul class="post-actions post-action-nav"><li class="post-action"><a class="post-action-btn btn btn--default tooltip--top" href="/hashmap-%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%85%A5%E5%9C%9F/" data-tooltip="HashMap 从入门到入土" aria-label="上一篇: HashMap 从入门到入土"><i class="fa fa-angle-left" aria-hidden="true"></i> <span class="hide-xs hide-sm text-small icon-ml">上一篇</span></a></li><li class="post-action"><a class="post-action-btn btn btn--default tooltip--top" href="/%E7%BC%93%E5%86%B2%E5%8C%BA/" data-tooltip="缓冲区" aria-label="下一篇: 缓冲区"><span class="hide-xs hide-sm text-small icon-mr">下一篇</span> <i class="fa fa-angle-right" aria-hidden="true"></i></a></li></ul></nav><ul class="post-actions post-action-share"><li class="post-action hide-lg hide-md hide-sm"><a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Diesen Beitrag teilen"><i class="fa fa-share-alt" aria-hidden="true"></i></a></li><li class="post-action"><a class="post-action-btn btn btn--default" href="#table-of-contents" aria-label="目录"><i class="fa fa-list" aria-hidden="true"></i></a></li></ul></div></div></div><div id="about"><div id="about-card"><div id="about-btn-close"><i class="fa fa-times"></i></div><img id="about-card-picture" src="/assets/images/logo.png" alt="作者的图片"><h4 id="about-card-name">pineapple-man</h4><div id="about-card-bio"><p>做一个菠萝：站得笔直，头戴王冠，内心甜美</p></div><div id="about-card-job"><i class="fa fa-briefcase"></i><br><p>刚毕业就失业</p></div><div id="about-card-location"><i class="fa fa-map-marker-alt"></i><br>西安</div></div></div><div id="cover" style="background-image:url(/assets/images/cover-v1.2.0.jpg)"></div><script src="/assets/js/script-kcoiyt1nxfue7qgcpkrcixymglcc3cuxeg98fy01hqww4nblnhd2ees6j6yc.min.js"></script></body></html>