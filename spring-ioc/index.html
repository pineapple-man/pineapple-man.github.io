<!DOCTYPE html><html lang="zh-cn"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="pineapple-man"><title>Spring IoC - pineapple-man</title><meta name="author" content="pineapple-man"><meta name="keywords" content="Spring IOC,è‡ªåŠ¨æ³¨å…¥"><link rel="icon" href="https://pineapple-man.github.io/assets/images/logo.svg"><script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"pineapple-man","sameAs":["https://github.com/pineapple-man","mailto://mingchaohu720@gmail.com"],"image":"logo.png"},"articleBody":"\nÂ¶Spring IoC\nSpring æä¾› IoC å®¹å™¨å®ç°ä¸¤ç§æ–¹å¼ï¼ˆä¸¤ä¸ªæ¥å£ï¼‰ï¼š\n\nBeanFactory\nIoC å®¹å™¨åŸºæœ¬å®ç°ï¼Œæ˜¯ Spring å†…éƒ¨ä½¿ç”¨æ¥å£\nä¸æå€¡å¼€å‘äººå‘˜è¿›è¡Œä½¿ç”¨\n. åŠ è½½é…ç½®æ–‡ä»¶æ—¶ä¸ä¼šåˆ›å»ºå¯¹è±¡ï¼Œè·å–ï¼ˆä½¿ç”¨ï¼‰å¯¹è±¡æ—¶æ‰ä¼šåˆ›å»ºå¯¹è±¡\nApplicationContext\nBeanFactoryçš„å­æ¥å£\næ¨èå¼€å‘äººå‘˜ä½¿ç”¨\n. åŠ è½½é…ç½®æ–‡ä»¶æ—¶ï¼Œå°±ä¼šå°†é…ç½®æ–‡ä»¶ä¸­çš„å¯¹è±¡è¿›è¡Œåˆ›å»º\n\nâ“ä¸ºä»€ä¹ˆè¯»å–é…ç½®æ–‡ä»¶æ—¶ï¼Œå°±åˆ›å»ºå¯¹è±¡ï¼Ÿ\n\næœåŠ¡ç«¯ï¼Œä¸ºäº†èƒ½å¤Ÿæ›´å¿«é€Ÿé«˜æ•ˆçš„ä¸ºç”¨æˆ·æä¾›æœåŠ¡ï¼›éœ€è¦ä½¿ç”¨çš„å¯¹è±¡ï¼Œæœ€å¥½å¯åŠ¨æœåŠ¡æ—¶å°±åˆ›å»ºï¼Œä»¥å…å‡ºç°è¯·æ±‚æ—¶ï¼Œå¯¹è±¡æ‰å¼€å§‹åˆ›å»ºçš„ç°è±¡\n\nÂ¶ApplicationContext ä¸»è¦å®ç°ç±»\n\n\n\nå®ç°ç±»\nåŒºåˆ«\n\n\n\n\nClassPathXmlApplicationContext\nè¯»å–ç±»è·¯å¾„ä¸‹çš„ XML æ ¼å¼çš„é…ç½®æ–‡ä»¶\n\n\nFileSystemXmlApplicationContext\næ–‡ä»¶ç³»ç»Ÿä¸­çš„ XML æ ¼å¼çš„é…ç½®æ–‡ä»¶\n\n\n\n\nÂ¶ConfigurableApplicationContext\nâœ¨ConfigurableApplicationContextç±»\n\næ˜¯ApplicationContextçš„å­æ¥å£\nrefresh()å’Œclose()è®©ApplicationContextå…·æœ‰å¯åŠ¨ã€å…³é—­å’Œåˆ·æ–°ä¸Šä¸‹æ–‡çš„èƒ½åŠ›\n\nÂ¶WebApplicationContext\nâœ¨ä¸“é—¨ä¸º WEB åº”ç”¨è€Œå‡†å¤‡ï¼Œå…è®¸ä»ç›¸å¯¹äº WEB æ ¹ç›®å½•çš„è·¯å¾„ä¸­å®Œæˆåˆå§‹åŒ–å·¥ä½œ\nÂ¶Bean ç®¡ç†\nâœ¨IoC ä¸­è¿›è¡Œ Bean ç®¡ç†ï¼Œä¸»è¦æŒ‡çš„æ—¶ä¸¤ä¸ªæ“ä½œï¼š\n\nSpring åˆ›å»º Bean å¯¹è±¡\nSpring æ³¨å…¥å±æ€§\n\nBean ç®¡ç†æ“ä½œå­˜åœ¨ä¸¤ç§æ–¹å¼ï¼š\n\nåŸºäº XML é…ç½®æ–‡ä»¶æ–¹å¼å®ç°ï¼ˆæ–°æ‰‹ï¼‰\nåŸºäºæ³¨è§£æ–¹å¼å®ç°ï¼ˆè€é¸Ÿï¼‰\n\nÂ¶XML æ–¹å¼åˆ›å»º Bean å¯¹è±¡\nSpring é¡¹ç›®çš„æ„å»ºè‡³å°‘éœ€è¦å¦‚ä¸‹å‡ ä¸ªåŒ…\n\nspring-beans\nspring-context\nspring-core\nspring-expression\n\nÂ¶åˆ›å»º Java Bean\n12345678public class User &#123; private String name; private Integer age; public void add() &#123;  System.out.println(&quot;from User&#x27;s add method...&quot;); &#125;&#125;\nÂ¶Spring é…ç½®æ–‡ä»¶\n123456&lt;?xml version=&quot;0&quot; encoding=&quot;UTF-?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;       xmlns:xsi=&quot;http://www..org/0XMLSchema-instance&quot;       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;    &lt;bean id=&quot;user&quot; class=&quot;com.pineapple_man.spring.User&quot;&gt;&lt;/bean&gt;&lt;/beans&gt;\nâœ¨Spring é…ç½®æ–‡ä»¶ç‰¹ç‚¹\n\nä½¿ç”¨&lt;bean&gt;æ ‡ç­¾ï¼Œå®ç°å¯¹è±¡åˆ›å»º\nidå±æ€§ï¼šå”¯ä¸€æ ‡è¯†\nclasså±æ€§ï¼šåˆ›å»ºç±»çš„å…¨è·¯å¾„\n\nğŸ¶Spring åˆ›å»ºå¯¹è±¡æ—¶ï¼Œé»˜è®¤æ‰§è¡Œæ— å‚æ•°æ„é€ æ–¹æ³•å®Œæˆå¯¹è±¡åˆ›å»º\nÂ¶ä»£ç æµ‹è¯•\n123456789public class UserTest &#123; @Test public void add() &#123;  ApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;beanxml&quot;);        //getBean()çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ beanxml ä¸­ bean çš„ id  User user = applicationContext.getBean(&quot;user&quot;, User.class);  user.add(); &#125;&#125;\nÂ¶XML æ–¹å¼æ³¨å…¥å±æ€§\nå¯¹äºå¤§é¡¹ç›®é€šå¸¸ä½¿ç”¨æ³¨è§£æ–¹å¼ï¼ŒXML æ–¹å¼ä½¿å¾—é¡¹ç›®å¤æ‚å¹¶ä¸”éš¾ä»¥ç®¡ç†ï¼Œä½†æ˜¯ä¾¿äºå­¦ä¹ \n\nÂ¶set æ–¹æ³•æ³¨å…¥\nåˆ›å»ºç±»ï¼Œå®šä¹‰å±æ€§\n123456789101112131415161718192021222324public class User &#123; private String name; private Integer age; public void add() &#123;  System.out.println(&quot;from User&#x27;s add method...&quot;); &#125; public void setName(String name) &#123;  this.name = name; &#125; public void setAge(Integer age) &#123;  this.age = age; &#125; @Override public String toString() &#123;  return &quot;User&#123;&quot; +    &quot;name=&#x27;&quot; + name + &#x27;\\&#x27;&#x27; +    &quot;, age=&quot; + age +    &#x27;&#125;&#x27;; &#125;&#125;\nåœ¨ Spring é…ç½®æ–‡ä»¶é…ç½®å¯¹è±¡åˆ›å»ºï¼Œé…ç½®å±æ€§æ³¨å…¥\n1234&lt;bean id=&quot;user&quot; class=&quot;com.pineapple_man.spring.User&quot;&gt; &lt;property name=&quot;age&quot; value=&quot;&quot;&gt;&lt;/property&gt; &lt;property name=&quot;name&quot; value=&quot;å¼ ä¸‰ä¸°&quot;&gt;&lt;/property&gt;&lt;/bean&gt;\nğŸ¶&lt;property&gt;æ ‡ç­¾ä¸­å±æ€§å€¼å«ä¹‰\n\nnameç±»é‡Œé¢å±æ€§åç§°\nvalueå‘å±æ€§æ³¨å…¥çš„å€¼\n\nÂ¶æœ‰å‚æ„é€ è¿›è¡Œæ³¨å…¥\nåˆ›å»ºæœ‰å‚æ•°æ„é€ \n1234567891011121314151617public class User &#123; private String name; private Integer age; public User(String name, Integer age) &#123;  this.name = name;  this.age = age; &#125; @Override public String toString() &#123;  return &quot;User&#123;&quot; +    &quot;name=&#x27;&quot; + name + &#x27;\\&#x27;&#x27; +    &quot;, age=&quot; + age +    &#x27;&#125;&#x27;; &#125;&#125;\nåœ¨ Spring é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®\n1234&lt;bean id=&quot;user&quot; class=&quot;com.pineapple_man.spring.User&quot;&gt; &lt;constructor-arg name=&quot;age&quot; value=&quot;&quot;&gt;&lt;/constructor-arg&gt; &lt;constructor-arg name=&quot;name&quot; value=&quot;è¾¾æ‘©è€ç¥–&quot;&gt;&lt;/constructor-arg&gt;&lt;/bean&gt;\nÂ¶p åç§°ç©ºé—´æ³¨å…¥\næ·»åŠ  p åç§°ç©ºé—´åˆ°é…ç½®æ–‡ä»¶ä¸­\n123456&lt;?xml version=&quot;0&quot; encoding=&quot;UTF-?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;       xmlns:xsi=&quot;http://www.worg/0XMLSchema-instance&quot;       xmlns:p=&quot;http://www.springframework.org/schema/p&quot;       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;&lt;/beans&gt;\nè¿›è¡Œå±æ€§æ³¨å…¥\n1&lt;bean id=&quot;user&quot; class=&quot;com.pineapple_man.spring.User&quot; p:age=&quot; p:name=&quot;è¶…å“¥&quot;&gt;&lt;/bean&gt;\nÂ¶XML æ–¹å¼æ³¨å…¥ç‰¹æ®Šå€¼\nä¸»è¦æ˜¯é€šè¿‡ xml æ³¨å…¥å…¶ä»–ç±»å‹çš„æ•°æ®\nÂ¶æ³¨å…¥ null\n123456&lt;bean id=&quot;user&quot; class=&quot;com.pineapple_man.spring.User&quot;&gt; &lt;property name=&quot;age&quot; value=&quot;&quot;&gt;&lt;/property&gt; &lt;property name=&quot;name&quot;&gt;  &lt;null&gt;&lt;/null&gt; &lt;/property&gt;&lt;/bean&gt;\nÂ¶æ³¨å…¥å±æ€§åŒ…å«ç‰¹æ®Šç¬¦å·\nå­˜åœ¨ä¸¤ç§æ–¹å¼:\n\nä½¿ç”¨è½¬ç§»å­—ç¬¦(&amp;lt,&amp;gt)\nå°†å¸¦ç‰¹æ®Šç¬¦å·å†…å®¹å†™åˆ° CDATA ä¸­\n\n123456&lt;bean id=&quot;user&quot; class=&quot;com.pineapple_man.spring.User&quot;&gt; &lt;property name=&quot;age&quot; value=&quot;&quot;&gt;&lt;/property&gt; &lt;property name=&quot;name&quot;&gt;  &lt;value&gt;&lt;![CDATA[&lt;&lt;å—äº¬&gt;&gt;]]&gt;&lt;/value&gt; &lt;/property&gt;&lt;/bean&gt;\nÂ¶æ³¨å…¥å¤–éƒ¨ bean\nåœ¨Serviceç±»çš„å†…éƒ¨ï¼Œè°ƒç”¨äº†daoç±»æ–¹æ³•\n123456789101112public class UserService &#123; UserDao dao = new UserImpl(); public void setDao(UserDao dao) &#123;  this.dao = dao; &#125; public void update() &#123;  System.out.println(&quot;from service update method.&quot;);  dao.update(); &#125;&#125;\n123456public class UserImpl implements UserDao &#123; @Override public void update() &#123;  System.out.println(&quot;from userimple update method&quot;); &#125;&#125;\né…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®\n1234&lt;bean id=&quot;userService&quot; class=&quot;com.pineapple_man.spring.service.UserService&quot;&gt; &lt;property name=&quot;dao&quot; ref=&quot;userDao&quot;/&gt;&lt;/bean&gt;&lt;bean id=&quot;userDao&quot; class=&quot;com.pineapple_man.spring.dao.impl.UserImpl&quot;&gt;&lt;/bean&gt;\nâœ¨refå±æ€§ï¼šåªæƒ³å¦ä¸€ä¸ªjavaBeançš„id\nÂ¶æ³¨å…¥å†…éƒ¨ bean\nä¹¦å†™å¯¹åº”å®ä½“ç±»\n1234567891011121314151617181920public class Class &#123; private String name; private int stuentsNumber; public void setName(String name) &#123;  this.name = name; &#125; public void setStuentsNumber(int stuentsNumber) &#123;  this.stuentsNumber = stuentsNumber; &#125; @Override public String toString() &#123;  return &quot;Class&#123;&quot; +    &quot;name=&#x27;&quot; + name + &#x27;\\&#x27;&#x27; +    &quot;, stuentsNumber=&quot; + stuentsNumber +    &#x27;&#125;&#x27;; &#125;&#125;\n1234567891011121314151617181920212223242526272829303132333435363738public class Student &#123; private String name; private Integer age; private String gender; //ä¸€ä¸ªå­¦ç”Ÿå±äºä¸€ä¸ªç­çº§ private Class aClass; //å†…éƒ¨æ³¨å…¥ï¼Œä¸éœ€è¦getteræ–¹æ³• public void setaClass(Class aClass) &#123;  this.aClass = aClass; &#125; @Override public String toString() &#123;  return &quot;Student&#123;&quot; +    &quot;name=&#x27;&quot; + name + &#x27;\\&#x27;&#x27; +    &quot;, age=&quot; + age +    &quot;, gender=&#x27;&quot; + gender + &#x27;\\&#x27;&#x27; +    &#x27;&#125;&#x27;; &#125; public void setName(String name) &#123;  this.name = name; &#125; public void setAge(Integer age) &#123;  this.age = age; &#125; public void setGender(String gender) &#123;  this.gender = gender; &#125; public Student(String name, Integer age, String gender) &#123;  this.name = name;  this.age = age;  this.gender = gender; &#125;&#125;\nå†…éƒ¨ bean é…ç½®\n1234567891011&lt;bean id=&quot;student&quot; class=&quot;com.pineapple_man.spring.bean.Student&quot;&gt; &lt;constructor-arg name=&quot;name&quot; value=&quot;Tony&quot;&gt;&lt;/constructor-arg&gt; &lt;constructor-arg name=&quot;age&quot; value=&quot;&quot;&gt;&lt;/constructor-arg&gt; &lt;constructor-arg name=&quot;gender&quot; value=&quot;male&quot;&gt;&lt;/constructor-arg&gt; &lt;property name=&quot;aClass&quot;&gt;  &lt;bean id=&quot;class&quot; class=&quot;com.pineapple_man.spring.bean.Class&quot;&gt;   &lt;property name=&quot;name&quot; value=&quot;S00&quot;&gt;&lt;/property&gt;   &lt;property name=&quot;stuentsNumber&quot; value=&quot;&quot;&gt;&lt;/property&gt;  &lt;/bean&gt; &lt;/property&gt;&lt;/bean&gt;\nÂ¶çº§è”èµ‹å€¼\nçº§è”èµ‹å€¼ï¼Œç”¨äºå‘ä¸€ä¸ªå¯¹è±¡ä¸­æ³¨å…¥å¦ä¸€ä¸ªå¯¹è±¡\nÂ¶æ³¨å…¥å¤–éƒ¨ bean æ–¹å¼\n1234567891011&lt;bean id=&quot;student&quot; class=&quot;com.pineapple_man.spring.bean.Student&quot;&gt; &lt;constructor-arg name=&quot;name&quot; value=&quot;Tony&quot;&gt;&lt;/constructor-arg&gt; &lt;constructor-arg name=&quot;age&quot; value=&quot;&quot;&gt;&lt;/constructor-arg&gt; &lt;constructor-arg name=&quot;gender&quot; value=&quot;male&quot;&gt;&lt;/constructor-arg&gt; &lt;!--çº§è”èµ‹å€¼--&gt;    &lt;property name=&quot;aClass&quot; ref=&quot;class&quot;&gt;&lt;/property&gt;&lt;/bean&gt;&lt;bean id=&quot;class&quot; class=&quot;com.pineapple_man.spring.bean.Class&quot;&gt; &lt;property name=&quot;name&quot; value=&quot;S00&quot;&gt;&lt;/property&gt; &lt;property name=&quot;stuentsNumber&quot; value=&quot;&quot;&gt;&lt;/property&gt;&lt;/bean&gt;\nÂ¶æŒ‡å®šå±æ€§æ³¨å…¥\n12345678910&lt;bean id=&quot;student&quot; class=&quot;com.pineapple_man.spring.bean.Student&quot;&gt; &lt;constructor-arg name=&quot;name&quot; value=&quot;Tony&quot;&gt;&lt;/constructor-arg&gt; &lt;constructor-arg name=&quot;age&quot; value=&quot;&quot;&gt;&lt;/constructor-arg&gt; &lt;constructor-arg name=&quot;gender&quot; value=&quot;male&quot;&gt;&lt;/constructor-arg&gt; &lt;!--çº§è”èµ‹å€¼--&gt;    &lt;property name=&quot;aClass&quot; ref=&quot;class&quot;&gt;&lt;/property&gt; &lt;property name=&quot;aClass.name&quot; value=&quot;S00&quot;/&gt;&lt;/bean&gt;&lt;bean id=&quot;class&quot; class=&quot;com.pineapple_man.spring.bean.Class&quot;&gt;&lt;/bean&gt;\nğŸ¶refæŒ‡å®šçš„ç±»éœ€è¦åœ¨å½“å‰ç±»ä¸­å­˜åœ¨setterå’Œgetteræ–¹æ³•\nÂ¶æ³¨å…¥é›†åˆå±æ€§\nå¯¹é›†åˆç±»å±æ€§æ³¨å…¥\nÂ¶å¸¸è§ç±»å‹æ³¨å…¥\nåˆ›å»ºåŒ…å«é›†åˆå±æ€§çš„ç±»ï¼Œæ‹¥æœ‰æ•°ç»„ã€Listã€Mapã€Setå±æ€§\n123456789101112131415161718192021222324252627public class Student &#123; private String name; private Integer age; private String gender; private String[] courses; private List&lt;String&gt; list; private Map&lt;String, String&gt; map; private Set&lt;String&gt; set; public void setSet(Set&lt;String&gt; set) &#123;  this.set = set; &#125; public void setCourses(String[] courses) &#123;  this.courses = courses; &#125; public void setList(List&lt;String&gt; list) &#123;  this.list = list; &#125; public void setMap(Map&lt;String, String&gt; map) &#123;  this.map = map; &#125; public Student() &#123; &#125;&#125;\né…ç½®æ–‡ä»¶\n12345678910111213141516171819202122232425262728&lt;bean id=&quot;student&quot; class=&quot;com.pineapple_man.spring.bean.Student&quot;&gt;    &lt;property name=&quot;courses&quot;&gt;        &lt;array&gt;            &lt;value&gt;è¯­æ–‡&lt;/value&gt;            &lt;value&gt;æ•°å­¦&lt;/value&gt;            &lt;value&gt;è‹±è¯­&lt;/value&gt;        &lt;/array&gt;    &lt;/property&gt;    &lt;property name=&quot;list&quot;&gt;        &lt;list&gt;            &lt;value&gt;è¯­æ–‡&lt;/value&gt;            &lt;value&gt;æ•°å­¦&lt;/value&gt;            &lt;value&gt;è‹±è¯­&lt;/value&gt;        &lt;/list&gt;    &lt;/property&gt;    &lt;property name=&quot;set&quot;&gt;        &lt;set&gt;            &lt;value&gt;MySQL&lt;/value&gt;            &lt;value&gt;ELK&lt;/value&gt;        &lt;/set&gt;    &lt;/property&gt;    &lt;property name=&quot;score&quot;&gt;        &lt;map&gt;            &lt;entry key=&quot;è¯­æ–‡&quot; value=&quot;&quot;&gt;&lt;/entry&gt;            &lt;entry key=&quot;æ•°å­¦&quot; value=&quot;0&quot;&gt;&lt;/entry&gt;        &lt;/map&gt;    &lt;/property&gt;&lt;/bean&gt;\nÂ¶bean ç±»å‹æ³¨å…¥\n1234567891011121314151617&lt;bean id=&quot;user class=&quot;com.pineapple_man.spring.bean.User&quot;&gt; &lt;property name=&quot;name&quot; value=&quot;è¶…å“¥&quot;&gt;&lt;/property&gt; &lt;property name=&quot;age&quot; value=&quot;&quot;&gt;&lt;/property&gt;&lt;/bean&gt;&lt;bean id=&quot;user class=&quot;com.pineapple_man.spring.bean.User&quot;&gt; &lt;property name=&quot;name&quot; value=&quot;é¾™å“¥&quot;&gt;&lt;/property&gt; &lt;property name=&quot;age&quot; value=&quot;&quot;&gt;&lt;/property&gt;&lt;/bean&gt;&lt;bean id=&quot;student&quot; class=&quot;com.pineapple_man.spring.bean.Student&quot;&gt; &lt;!--æ³¨å…¥listé›†åˆç±»å‹ï¼Œå€¼æ˜¯å¯¹è±¡--&gt;    &lt;property name=&quot;teachers&quot;&gt;     &lt;list&gt;         &lt;ref bean=&quot;user&gt;&lt;/ref&gt;            &lt;ref bean=&quot;user&gt;&lt;/ref&gt;  &lt;/list&gt; &lt;/property&gt;&lt;/bean&gt;\n1234567public class Student &#123;   private List&lt;User&gt; teachers;   public void setTeachers(List&lt;User&gt; teachers) &#123;      this.teachers = teachers;   &#125;&#125;\nÂ¶æå–å…±åŒä»£ç \nåœ¨ Spring é…ç½®æ–‡ä»¶ä¸­å¼•å…¥åç§°ç©ºé—´util\n123456&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;       xmlns:xsi=&quot;http://www.worg/0XMLSchema-instance&quot;       xmlns:util=&quot;http://www.springframework.org/schema/util&quot;       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd       http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd&quot;&gt;&lt;/beans&gt;\nä½¿ç”¨utilsæ ‡ç­¾å®Œæˆ list é›†åˆå…¬å…±éƒ¨åˆ†çš„æå–\n12345678910111213&lt;bean id=&quot;user class=&quot;com.pineapple_man.spring.bean.User&quot;&gt; &lt;property name=&quot;name&quot; value=&quot;é¾™å“¥&quot;&gt;&lt;/property&gt;&lt;/bean&gt;&lt;bean id=&quot;user class=&quot;com.pineapple_man.spring.bean.User&quot;&gt; &lt;property name=&quot;name&quot; value=&quot;è¶…å“¥&quot;&gt;&lt;/property&gt;&lt;/bean&gt;&lt;util:list id=&quot;teacherList&quot;&gt; &lt;ref bean=&quot;user&gt;&lt;/ref&gt;    &lt;ref bean=&quot;user&gt;&lt;/ref&gt;&lt;/util:list&gt;&lt;bean id=&quot;stu class=&quot;com.pineapple_man.spring.bean.Student&quot;&gt; &lt;property name=&quot;teachers&quot; ref=&quot;teacherList&quot;&gt;&lt;/property&gt;&lt;/bean&gt;\nÂ¶FactoryBean\nâœ¨Spring æœ‰ä¸¤ç§ç±»å‹beanï¼šæ™®é€šbeanå’ŒFactoryBean\n\næ™®é€š beanï¼šé…ç½®æ–‡ä»¶ä¸­å®šä¹‰beanç±»å‹å°±æ˜¯è¿”å›ç±»å‹\nå·¥å‚ beanï¼šé…ç½®æ–‡ä»¶å®šä¹‰beanç±»å‹å¯ä»¥å’Œè¿”å›ç±»å‹ä¸åŒ\n\nâ›µFactoryBean ä½¿ç”¨æ­¥éª¤ï¼š\n\nåˆ›å»ºå·¥å‚ bean ç±»ï¼Œå®ç°FactoryBeanæ¥å£\nå®ç°æ¥å£ä¸­çš„æ–¹æ³•ï¼Œåœ¨å®ç°çš„æ–¹æ³•ä¸­è¿”å›å£°æ˜çš„ bean ç±»å‹\n\n1234567891011121314151617public class MyBean implements FactoryBean&lt;User&gt; &#123;    //å®šä¹‰è¿”å›çš„ bean ç±»å‹ @Override public User getObject() throws Exception &#123;  return new User(&quot;é¾™å“¥&quot;, ); &#125; @Override public java.lang.Class&lt;?&gt; getObjectType() &#123;  return null; &#125; @Override public boolean isSingleton() &#123;  return FactoryBean.super.isSingleton(); &#125;&#125;\n\nä¹¦å†™é…ç½®æ–‡ä»¶\n\n1&lt;bean id=&quot;mybean&quot; class=&quot;com.pineapple_man.spring.bean.MyBean&quot;&gt;&lt;/bean&gt;\n\næ£€æŸ¥ç»“æœ\n\n12345678public void beanTest() &#123; ApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;beanxml&quot;); User mybean= applicationContext.getBean(&quot;mybean&quot;, User.class); User mybean= applicationContext.getBean(&quot;mybean&quot;, User.class); System.out.println(mybeangetClass().hashCode()); System.out.println(mybeangetClass().hashCode());    //mybeanä¸ mybeançš„hashå€¼ç›¸åŒ&#125;\nÂ¶Bean ä½œç”¨åŸŸ\né»˜è®¤æƒ…å†µä¸‹ï¼ŒSpring ä¸­ bean æ˜¯å•å®ä¾‹å¯¹è±¡ï¼Œé€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥é€‰æ‹©æ˜¯å•å®ä¾‹è¿˜æ˜¯å¤šå®ä¾‹\nscopeå±æ€§æœ‰ä¸¤ä¸ªå€¼ï¼šsingletonå’Œprototype\n1&lt;bean id=&quot;mybean&quot; class=&quot;com.pineapple_man.spring.bean.MyBean&quot; scope=&quot;prototype&quot;&gt;&lt;/bean&gt;\nâœ¨singletonå’Œprototypeçš„åŒºåˆ«\n\nsingletonæ˜¯å•å®ä¾‹ï¼Œprototypeæ˜¯å¤šå®ä¾‹\nscope ä¸ºsingletonæ—¶ï¼ŒåŠ è½½é…ç½®æ–‡ä»¶å°±ä¼šåˆ›å»ºå•å®ä¾‹å¯¹è±¡\nscope ä¸ºprototypeæ—¶ï¼Œè°ƒç”¨getnBean()æ–¹æ³•æ—¶åˆ›å»ºå¤šå®ä¾‹å¯¹è±¡\n\nÂ¶bean ç”Ÿå‘½å‘¨æœŸ\nâœ¨ bean çš„ç”Ÿå‘½å‘¨æœŸï¼ˆä¸ƒä¸ªé˜¶æ®µï¼‰ï¼š\né€šè¿‡æ„é€ å™¨åˆ›å»ºbeanå®ä¾‹ï¼ˆæ— å‚æ•°æ„é€ ï¼‰\nä¸ºbeançš„å±æ€§æ³¨å…¥ä»¥åŠå¯¹å…¶ä»–beanå¼•ç”¨(è°ƒç”¨set()æ–¹æ³•) 3. å°†beanå®ä¾‹ä¼ é€’ç»™beanåç½®å¤„ç†å™¨çš„æ–¹æ³•postProcessBeforeInitialization 4. è°ƒç”¨beançš„åˆå§‹åŒ–æ–¹æ³•ï¼ˆéœ€è¦è¿›è¡Œé…ç½®åˆå§‹åŒ–çš„æ–¹æ³•ï¼‰ 5. å°†beanå®ä¾‹ä¼ é€’ç»™beanåç½®å¤„ç†å™¨æ–¹æ³•postProcessAfterInitialization\nä½¿ç”¨bean\nåœ¨å®¹å™¨å…³é—­æ—¶ï¼Œè°ƒç”¨beançš„é”€æ¯æ–¹æ³•ï¼ˆéœ€è¦é…ç½®é”€æ¯æ–¹æ³•ï¼‰\nÂ¶Java Bean\n1234567891011121314151617181920public class LifeCycle &#123;   private String step;   public LifeCycle() &#123;      System.out.println(&quot; æ¥è‡ªäºæ— å‚æ„é€ å‡½æ•°&quot;);   &#125;   public void setStep(String step) &#123;      System.out.println(&quot; æ¥è‡ªäºsetæ–¹æ³•&quot;);      this.step = step;   &#125;   public void initMethod() &#123;      System.out.println(. æ¥è‡ªäºinitMethod&quot;);   &#125;   public void destoryMethod() &#123;      System.out.println(&quot;5.æ¥è‡ªdestoryMethod&quot;);   &#125;&#125;\nÂ¶é¢„å¤„ç†å’Œåå¤„ç†ç±»\n12345678910111213public class PostProcess implements BeanPostProcessor &#123; @Override public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException &#123;  System.out.println(&quot;from postProcessBeforeInitialization&quot;);  return BeanPostProcessor.super.postProcessBeforeInitialization(bean, beanName); &#125; @Override public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException &#123;  System.out.println(&quot;from postProcessAfterInitialization&quot;);  return BeanPostProcessor.super.postProcessAfterInitialization(bean, beanName); &#125;&#125;\nÂ¶Spring é…ç½®\n12345678910&lt;?xml version=&quot;0&quot; encoding=&quot;UTF-?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;       xmlns:xsi=&quot;http://www..org/0XMLSchema-instance&quot;       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;    &lt;bean id=&quot;lifecycle&quot; class=&quot;com.pineapple_man.spring.bean.LifeCycle&quot; init-method=&quot;initMethod&quot;          destroy-method=&quot;destoryMethod&quot;&gt;        &lt;property name=&quot;step&quot; value=&quot;start&quot;&gt;&lt;/property&gt;    &lt;/bean&gt;    &lt;bean id=&quot;postprocess&quot; class=&quot;com.pineapple_man.spring.bean.PostProcess&quot;&gt;&lt;/bean&gt;&lt;/beans&gt;\nğŸ¶é¢„å¤„ç†å’Œåå¤„ç†å°†ä¼šä½œç”¨åœ¨æ­¤æ–‡ä»¶çš„æ‰€æœ‰ bean å¯¹è±¡\nÂ¶xml è‡ªåŠ¨è£…é…\nâœ¨è‡ªåŠ¨çŠ¶æ€å°±æ˜¯â€”â€”æ ¹æ®æŒ‡å®šè£…é…è§„åˆ™ï¼ˆå±æ€§åç§°æˆ–è€…å±æ€§ç±»å‹ï¼‰ï¼ŒSpring è‡ªåŠ¨å°†åŒ¹é…çš„å±æ€§å€¼è¿›è¡Œæ³¨å…¥\n123456789101112131415161718192021222324//Java Beanpublic class AutoInject &#123; private User user; private User teacher; public AutoInject() &#123; &#125; @Override public String toString() &#123;  return &quot;AutoInject&#123;&quot; +    &quot;user=&quot; + user +    &quot;, teacher=&quot; + teacher +    &#x27;&#125;&#x27;; &#125; public void setTeacher(User teacher) &#123;  this.teacher = teacher; &#125; public void setUser(User user) &#123;  this.user = user; &#125;&#125;\nÂ¶æ ¹æ®å±æ€§åç§°è‡ªåŠ¨æ³¨å…¥\nğŸ¶æ³¨å…¥å€¼ bean çš„ id å€¼å’Œç±»å±æ€§åç§°ä¸€æ ·\n12345678910&lt;bean class=&quot;com.pineapple_man.spring.bean.AutoInject&quot; id=&quot;autoInject&quot; autowire=&quot;byName&quot;&gt;&lt;/bean&gt;&lt;bean class=&quot;com.pineapple_man.spring.bean.User&quot; id=&quot;user&quot;&gt;    &lt;property name=&quot;name&quot; value=&quot;tony&quot;&gt;&lt;/property&gt;    &lt;property name=&quot;age&quot; value=&quot;&quot;&gt;&lt;/property&gt;&lt;/bean&gt;&lt;bean class=&quot;com.pineapple_man.spring.bean.User&quot; id=&quot;teacher&quot;&gt;    &lt;property name=&quot;age&quot; value=&quot;&quot;&gt;&lt;/property&gt;    &lt;property name=&quot;name&quot; value=&quot;Dany&quot;&gt;&lt;/property&gt;&lt;/bean&gt;\nÂ¶æ ¹æ®å±æ€§ç±»å‹è‡ªåŠ¨æ³¨å…¥\nğŸ¶ç±»å‹è‡ªåŠ¨æ³¨å…¥åªèƒ½åº”ç”¨åœ¨ç±»ä¸­åªæœ‰è¿™æ ·ä¸€ç§ç±»å‹çš„å±æ€§ï¼Œå¦åˆ™å¯èƒ½æ‰¾ä¸åˆ°æ³¨å…¥å±æ€§\n12345678910&lt;bean class=&quot;com.pineapple_man.spring.bean.AutoInject&quot; id=&quot;autoInject&quot; autowire=&quot;byType&quot;&gt;&lt;/bean&gt;&lt;bean class=&quot;com.pineapple_man.spring.bean.User&quot; id=&quot;user&quot;&gt; &lt;property name=&quot;name&quot; value=&quot;tony&quot;&gt;&lt;/property&gt; &lt;property name=&quot;age&quot; value=&quot;&quot;&gt;&lt;/property&gt;&lt;/bean&gt;&lt;bean class=&quot;com.pineapple_man.spring.bean.User&quot; id=&quot;teacher&quot;&gt; &lt;property name=&quot;age&quot; value=&quot;&quot;&gt;&lt;/property&gt; &lt;property name=&quot;name&quot; value=&quot;Dany&quot;&gt;&lt;/property&gt;&lt;/bean&gt;\nÂ¶å¤–éƒ¨å±æ€§æ–‡ä»¶\nå°†å¤–éƒ¨å±æ€§æ–‡ä»¶å†…çš„æ•°æ®ï¼Œå¯¼å…¥åˆ° Spring é…ç½®æ–‡ä»¶ä¸­\nÂ¶ç›´æ¥é…ç½®æ•°æ®åº“ä¿¡æ¯\n123456&lt;bean class=&quot;com.alibaba.druid.pool.DruidDataSource&quot; id=&quot;dataSource&quot;&gt; &lt;property name=&quot;name&quot; value=&quot;com.mysql.jdbc.Driver&quot;&gt;&lt;/property&gt;    &lt;property name=&quot;url&quot; value=&quot;jdbc:///t_user&quot;&gt;&lt;/property&gt;    &lt;property name=&quot;username&quot; value=&quot;root&quot;&gt;&lt;/property&gt;    &lt;property name=&quot;password&quot; value=45&gt;&lt;/property&gt;&lt;/bean&gt;\n123456public void druidTest) &#123; ApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;bean.xml&quot;); DruidDataSource dataSource = applicationContext.getBean(&quot;dataSource&quot;, DruidDataSource.class); System.out.println(dataSource.getPassword()); System.out.println(dataSource.getUsername());&#125;\nÂ¶å¤–éƒ¨å±æ€§æ–‡ä»¶é…ç½®æ•°æ®åº“è¿æ¥æ± \nÂ¶å¢åŠ  jdbc.properties æ–‡ä»¶ï¼Œä¿å­˜æ•°æ®åº“ä¿¡æ¯\n1234prop.driverClass=com.mysql.jdbc.Driverprop.url=jdbc:mysql:///prop.userName=rootprop.password456\nÂ¶Spring é…ç½®æ–‡ä»¶\n123456789101112131415&lt;?xml version=&quot;0&quot; encoding=&quot;UTF-?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;       xmlns:xsi=&quot;http://www..org/0XMLSchema-instance&quot;       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsdhttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;    &lt;!--å¼•å…¥å¤–éƒ¨æ–‡ä»¶--&gt;    &lt;context:property-placeholder location=&quot;classpath:jdbc.properties&quot;&gt;&lt;/context:property-placeholder&gt;    &lt;bean class=&quot;com.alibaba.druid.pool.DruidDataSource&quot; id=&quot;dataSource&quot;&gt;        &lt;property name=&quot;name&quot; value=&quot;$&#123;prop.driverClass&#125;&quot;&gt;&lt;/property&gt;        &lt;property name=&quot;url&quot; value=&quot;$&#123;prop.url&#125;&quot;&gt;&lt;/property&gt;        &lt;property name=&quot;username&quot; value=&quot;$&#123;prop.userName&#125;&quot;&gt;&lt;/property&gt;        &lt;property name=&quot;password&quot; value=&quot;$&#123;prop.password&#125;&quot;&gt;&lt;/property&gt;    &lt;/bean&gt;&lt;/beans&gt;\nÂ¶æ³¨è§£æ–¹å¼ç®¡ç† Bean\nâœ¨æ³¨è§£ç‰¹ç‚¹\n\næ³¨è§£æ˜¯ç‰¹æ®Šæ ‡è®°ï¼Œæ ¼å¼@æ³¨è§£åç§°(å±æ€§åç§°=å±æ€§å€¼,...)\næ³¨è§£ä½œç”¨åœ¨ç±»ä¸Šé¢ï¼Œæ–¹æ³•ä¸Šé¢ï¼Œå±æ€§ä¸Šé¢\n\n:+ä½¿ç”¨æ³¨è§£æ–¹å¼ç®¡ç† bean çš„ä¼˜ç‚¹\n\nç®€åŒ– xml é…ç½®\nä¾¿äºç¨‹åºé˜…è¯»\n\nÂ¶å¯ç”¨æ³¨è§£\n\nğŸ¶Sping åˆ›å»ºå¯¹è±¡çš„å››ä¸ªæ³¨è§£ï¼š\n@Component &gt; @Service\n. @Controller 4. @Repository\n\nğŸ¶ä¸Šé¢å››ä¸ªæ³¨è§£åŠŸèƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯å¯ä»¥ç”¨æ¥åˆ›å»º bean å®ä¾‹\nÂ¶.åŸºäºæ³¨è§£æ–¹å¼å®ç°å¯¹è±¡åˆ›å»º\nä¸»è¦å…±åˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤\nÂ¶å¼•å…¥ä¾èµ–\nåœ¨é¡¹ç›®ä¸­å¼•å…¥spring-aop-5.RELEASE.jaråŒ…\nÂ¶ç»„ä»¶æ‰«æé…ç½®\nåœ¨ Spring é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œç»„ä»¶æ‰«æé…ç½®\n12345678&lt;?xml version=&quot;0&quot; encoding=&quot;UTF-?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;       xmlns:xsi=&quot;http://www..org/0XMLSchema-instance&quot;       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsdhttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;    &lt;context:component-scan base-package=&quot;com.pineapple_man.spring.aop&quot;&gt;&lt;/context:component-scan&gt;&lt;/beans&gt;\nğŸ¶ç»„ä»¶æ‰«ææ³¨æ„ç‚¹\n\nå¦‚æœæ‰«æå¤šä¸ªåŒ…ï¼Œå¤šä¸ªåŒ…ä¹‹é—´ä½¿ç”¨é€—å·éš”å¼€\nå¦‚æœä¸€ä¸ªç›®å½•ä¸­æœ‰å¤šä¸ªç±»è¿›è¡Œæ‰«æï¼Œåˆ™é…ç½®è‡ªåŠ¨æ‰«æä¸Šå±‚ç›®å½•\n\nÂ¶Spring æ‰˜ç®¡åˆ›å»ºå®ä¾‹\nä¹¦å†™ Java Beanï¼Œåœ¨ç±»ä¸Šæ·»åŠ åˆ›å»ºå¯¹è±¡æ³¨è§£\n123456@Component(value = &quot;aopUserService&quot;)public class AopUserService &#123; public void method() &#123;  System.out.println(&quot;from AopUserService method&quot;); &#125;&#125;\nğŸ¶@Component(value)ä¸­çš„valueå±æ€§æ˜¯å¯ä»¥çœç•¥ä¸å†™çš„ï¼Œé»˜è®¤å€¼æ˜¯ï¼šé¦–å­—æ¯å°å†™çš„ç±»åï¼Œå¦‚æœä¹¦å†™äº†ï¼Œvalue ç­‰ä»·ä¸&lt;bean&gt;ä¸­çš„ id å±æ€§\nÂ¶ç»„ä»¶æ‰«æè¯¦ç»†é…ç½®\nå®ç°æ‰«æè¿‡æ»¤å™¨é…ç½®ï¼Œå¯ä»¥é€‰æ‹©åœ¨åŒ…ä¸­ï¼Œé»˜è®¤æ‰«æé‚£äº›ç±»ï¼Œä¸æ‰«æé‚£äº›ç±»\n12345678910111213&lt;?xml version=&quot;0&quot; encoding=&quot;UTF-?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;       xmlns:xsi=&quot;http://www..org/0XMLSchema-instance&quot;       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsdhttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;    &lt;context:component-scan base-package=&quot;com.pineapple_man.spring.aop&quot;                            use-default-filters=&quot;false&quot;&gt;  &lt;!--é»˜è®¤ä»…æ‰«ææ‹¥æœ‰ @Component æ³¨è§£çš„ç±»--&gt;        &lt;context:include-filter type=&quot;annotation&quot; expression=&quot;org.springframework.stereotype.Component&quot;/&gt;        &lt;context:exclude-filter type=&quot;annotation&quot; expression=&quot;org.springframework.stereotype.Component&quot;/&gt;    &lt;/context:component-scan&gt;&lt;/beans&gt;\nâœ¨æ‰«æè¿‡æ»¤å™¨ç‰¹ç‚¹\nuse-default-filters=&quot;false&quot;ï¼šè¡¨ç¤ºä¸é€‚ç”¨é»˜è®¤è¿‡æ»¤å™¨ï¼Œç”¨æˆ·è‡ªå·±é…ç½®è¿‡æ»¤å™¨\n&lt;context:include-filter type=&quot;&quot; expression=&quot;&quot;&gt;ï¼šè®¾ç½®é‚£äº›å†…å®¹è¿›è¡Œæ‰«æ\n&lt;context:exclude-filter type=&quot;&quot; expression=&quot;&quot;&gt;ï¼šè®¾ç½®é‚£äº›å†…å®¹ä¸è¿›è¡Œæ‰«æ\nÂ¶æ³¨è§£æ–¹å¼å®ç°å±æ€§æ³¨å…¥\n\n\n\næ³¨è§£\nå«ä¹‰\n\n\n\n\n@Autowired\næ ¹æ®å±æ€§ç±»å‹è¿›è¡Œè‡ªåŠ¨è£…é…\n\n\n@Qualifier\næ ¹æ®åç§°è¿›è¡Œæ³¨å…¥ï¼Œéœ€è¦å’Œ@Autowiredä¸€èµ·ä½¿ç”¨\n\n\n@Resource\nå¯ä»¥æ ¹æ®ç±»å‹æ³¨å…¥ä¹Ÿå¯ä»¥æ ¹æ®åç§°æ³¨å…¥\n\n\n@Value\næ³¨å…¥æ™®é€šç±»å‹å±æ€§\n\n\n\n1234567@Repository(value = &quot;aopDao&quot;)public class AopDao &#123; public void method() &#123;  System.out.println(&quot;From aopDao method&quot;); &#125;&#125;\nÂ¶@Autowired\n12345678910@Component(value = &quot;aopUserService&quot;)public class AopUserService &#123; @Autowired private AopDao aopDao; public void method() &#123;  System.out.println(&quot;from AopUserService method&quot;);  aopDao.method(); &#125;&#125;\nğŸ¶@Autowiredæ³¨è§£ä¸éœ€è¦å±æ€§å…·æœ‰setXxx()æ–¹æ³•\nÂ¶@Qualifier\n1234567891011@Component(value = &quot;aopUserService&quot;)public class AopUserService &#123; @Autowired @Qualifier(value = &quot;aopDao&quot;) private AopDao aopDao; public void method() &#123;  System.out.println(&quot;from AopUserService method&quot;);  aopDao.method(); &#125;&#125;\nğŸ¶æ ¹æ®åç§°( id )æ³¨å…¥ï¼Œéœ€è¦å’Œ@Autowiredä¸€èµ·ä½¿ç”¨\nÂ¶@Resource\n12345678910@Component(value = &quot;aopUserService&quot;)public class AopUserService &#123; @Resource(name = &quot;aopDao&quot;) private AopDao aopDao; public void method() &#123;  System.out.println(&quot;from AopUserService method&quot;);  aopDao.method(); &#125;&#125;\nğŸ¶@Resourceå¯ä»¥æ ¹æ®ç±»å‹æ³¨å…¥ï¼Œä¹Ÿå¯ä»¥æ ¹æ®åç§°æ³¨å…¥\n\n@Resourceï¼šæ ¹æ®ç±»å‹è¿›è¡Œæ³¨å…¥\n@Resource(name = &quot;aopDao&quot;)ï¼šæ ¹æ®åç§°è¿›è¡Œæ³¨å…¥\næ­¤æ³¨è§£æ‰€åœ¨çš„åŒ…æ˜¯javax.annotation.Resource\n\nÂ¶@Value\n123456789101112131415@Component(value = &quot;aopUserService&quot;)public class AopUserService &#123; @Resource(name = &quot;aopDao&quot;) private AopDao aopDao; @Value(&quot;pineapple-man&quot;) private String name; public void method() &#123;  System.out.println(&quot;from AopUserService method&quot;);  aopDao.method();  System.out.println(name); &#125;&#125;\nğŸ¶å¯¹æ™®é€šç±»å‹å±æ€§è¿›è¡Œæ³¨å…¥\nÂ¶å®Œå…¨æ³¨è§£å¼€å‘\nä¸å†éœ€è¦å†—é•¿çš„é…ç½®æ–‡ä»¶ï¼Œä½¿ç”¨ä¸€ä¸ªé…ç½®ç±»ä»£æ›¿æ‰€æœ‰çš„é…ç½®æ–‡ä»¶\nÂ¶æ³¨è§£é…ç½®ç±»\n1234@Configuration@ComponentScan(basePackages = &#123;&quot;com.pineapple_man.spring.aop&quot;&#125;)public class SpringConfig &#123;&#125;\nâœ¨æ³¨è§£ç±»ç‰¹ç‚¹\n\n@Configurationé…ç½®ç±»æ³¨è§£ï¼Œå£°æ˜å½“å‰ç±»æ˜¯é…ç½®ç±»\n@ComponentScan(basePackages = &#123;&quot;com&quot;&#125;)è‡ªåŠ¨æ‰«æåŒ…æ³¨è§£\n\nÂ¶æµ‹è¯•æ–¹æ³•\n12345public void annotationConfigTest() &#123; ApplicationContext applicationContext = new AnnotationConfigApplicationContext(SpringConfig.class); AopUserService aopUserService = applicationContext.getBean(&quot;aopUserService&quot;, AopUserService.class);  aopUserService.method();&#125;\n","dateCreated":"2021-10-23T15:55:39+00:00","dateModified":"2023-06-07T02:13:34+00:00","datePublished":"2021-10-23T15:55:39+00:00","description":"æœ¬æ–‡ä¸»è¦ä»‹ç» Spring ä¸­çš„IoCå®¹å™¨ä½¿ç”¨æ–¹æ³•ï¼ˆXMLé…ç½®æ–¹å¼ä»¥åŠæ³¨è§£æ–¹å¼ï¼‰","headline":"Spring IoC","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://pineapple-man.github.io/spring-ioc/"},"publisher":{"@type":"Organization","name":"pineapple-man","sameAs":["https://github.com/pineapple-man","mailto://mingchaohu720@gmail.com"],"image":"logo.png","logo":{"@type":"ImageObject","url":"logo.png"}},"url":"https://pineapple-man.github.io/spring-ioc/","keywords":"Spring"}</script><meta name="description" content="æœ¬æ–‡ä¸»è¦ä»‹ç» Spring ä¸­çš„IoCå®¹å™¨ä½¿ç”¨æ–¹æ³•ï¼ˆXMLé…ç½®æ–¹å¼ä»¥åŠæ³¨è§£æ–¹å¼ï¼‰"><meta property="og:type" content="blog"><meta property="og:title" content="Spring IoC"><meta property="og:url" content="https://pineapple-man.github.io/spring-ioc/"><meta property="og:site_name" content="pineapple-man"><meta property="og:description" content="æœ¬æ–‡ä¸»è¦ä»‹ç» Spring ä¸­çš„IoCå®¹å™¨ä½¿ç”¨æ–¹æ³•ï¼ˆXMLé…ç½®æ–¹å¼ä»¥åŠæ³¨è§£æ–¹å¼ï¼‰"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/pineapple-man/blogImage@main/image/image-20210607182210091.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/pineapple-man/blogImage@main/image/XML%E6%96%B9%E5%BC%8F%E6%B3%A8%E5%85%A5%E5%B1%9E%E6%80%A7.png"><meta property="article:published_time" content="2021-10-23T15:55:39.000Z"><meta property="article:modified_time" content="2023-06-07T02:13:34.011Z"><meta property="article:author" content="pineapple-man"><meta property="article:tag" content="Spring"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/pineapple-man/blogImage@main/image/image-20210607182210091.png"><meta property="og:image" content="https://pineapple-man.github.io/assets/images/logo.png"><link rel="stylesheet" href="/assets/css/style-oth3meuzcjopbgwqbdvoxqknhcm0sy9wkullcc94zhkkop3pmfrpl5t4fzzz.min.css"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-210516333-1"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-210516333-1")</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css"></head><body><div id="blog"><header id="header" data-behavior="5"><i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i><div class="header-title"><a class="header-title-link" href="/" aria-label="">pineapple-man</a></div><a class="header-right-picture" href="#about" aria-label="æ‰“å¼€é“¾æ¥: /#about"><img class="header-picture" src="/assets/images/logo.png" alt="ä½œè€…çš„å›¾ç‰‡"></a></header><nav id="sidebar" data-behavior="5"><div class="sidebar-container"><div class="sidebar-profile"><a href="/#about" aria-label="é˜…è¯»æœ‰å…³ä½œè€…çš„æ›´å¤šä¿¡æ¯"><img class="sidebar-profile-picture" src="/assets/images/logo.png" alt="ä½œè€…çš„å›¾ç‰‡"></a><h4 class="sidebar-profile-name">pineapple-man</h4><h5 class="sidebar-profile-bio"><p>åšä¸€ä¸ªè èï¼šç«™å¾—ç¬”ç›´ï¼Œå¤´æˆ´ç‹å† ï¼Œå†…å¿ƒç”œç¾</p></h5></div><ul class="sidebar-buttons"><li class="sidebar-button"><a class="sidebar-button-link" href="/" rel="noopener" title="é¦–é¡µ"><i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i> <span class="sidebar-button-desc">é¦–é¡µ</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="/all-categories" rel="noopener" title="åˆ†ç±»"><i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i> <span class="sidebar-button-desc">åˆ†ç±»</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="/all-tags" rel="noopener" title="æ ‡ç­¾"><i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i> <span class="sidebar-button-desc">æ ‡ç­¾</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="/all-archives" rel="noopener" title="å½’æ¡£"><i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i> <span class="sidebar-button-desc">å½’æ¡£</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="#about" rel="noopener" title="å…³äº"><i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i> <span class="sidebar-button-desc">å…³äº</span></a></li></ul><ul class="sidebar-buttons"><li class="sidebar-button"><a class="sidebar-button-link" href="https://github.com/pineapple-man" target="_blank" rel="noopener" title="GitHub"><i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i> <span class="sidebar-button-desc">GitHub</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="mailto://mingchaohu720@gmail.com" target="_blank" rel="noopener" title="é‚®ç®±"><i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i> <span class="sidebar-button-desc">é‚®ç®±</span></a></li></ul></div></nav><div id="main" data-behavior="5" class="hasCoverMetaIn"><article class="post"><div class="post-header main-content-wrap text-center"><h1 class="post-title">Spring IoC</h1><div class="post-meta"><time datetime="2021-10-23T15:55:39+00:00">10æœˆ 23, 2021 </time><span>å‘å¸ƒåœ¨ </span><a class="category-link" href="/categories/Java/">Java</a> <i class="fas fa-book-open"></i> æœ¬æ–‡å…±<span class="post-count"> 5.4k </span>å­— <i class="far fa-clock"></i> é˜…è¯»é¢„è®¡<span class="post-count"> 66 </span>åˆ†é’Ÿ</div></div><div class="post-content markdown"><div class="main-content-wrap"><h1 id="table-of-contents">ç›®å½•</h1><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring-IoC"><span class="toc-text">Spring IoC</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ApplicationContext-%E4%B8%BB%E8%A6%81%E5%AE%9E%E7%8E%B0%E7%B1%BB"><span class="toc-text">ApplicationContext ä¸»è¦å®ç°ç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ConfigurableApplicationContext"><span class="toc-text">ConfigurableApplicationContext</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#WebApplicationContext"><span class="toc-text">WebApplicationContext</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Bean-%E7%AE%A1%E7%90%86"><span class="toc-text">Bean ç®¡ç†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XML-%E6%96%B9%E5%BC%8F%E5%88%9B%E5%BB%BA-Bean-%E5%AF%B9%E8%B1%A1"><span class="toc-text">XML æ–¹å¼åˆ›å»º Bean å¯¹è±¡</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA-Java-Bean"><span class="toc-text">åˆ›å»º Java Bean</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text">Spring é…ç½®æ–‡ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%B5%8B%E8%AF%95"><span class="toc-text">ä»£ç æµ‹è¯•</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XML-%E6%96%B9%E5%BC%8F%E6%B3%A8%E5%85%A5%E5%B1%9E%E6%80%A7"><span class="toc-text">XML æ–¹å¼æ³¨å…¥å±æ€§</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#set-%E6%96%B9%E6%B3%95%E6%B3%A8%E5%85%A5"><span class="toc-text">set æ–¹æ³•æ³¨å…¥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%89%E5%8F%82%E6%9E%84%E9%80%A0%E8%BF%9B%E8%A1%8C%E6%B3%A8%E5%85%A5"><span class="toc-text">æœ‰å‚æ„é€ è¿›è¡Œæ³¨å…¥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#p-%E5%90%8D%E7%A7%B0%E7%A9%BA%E9%97%B4%E6%B3%A8%E5%85%A5"><span class="toc-text">p åç§°ç©ºé—´æ³¨å…¥</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XML-%E6%96%B9%E5%BC%8F%E6%B3%A8%E5%85%A5%E7%89%B9%E6%AE%8A%E5%80%BC"><span class="toc-text">XML æ–¹å¼æ³¨å…¥ç‰¹æ®Šå€¼</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E5%85%A5-null"><span class="toc-text">æ³¨å…¥ null</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E5%85%A5%E5%B1%9E%E6%80%A7%E5%8C%85%E5%90%AB%E7%89%B9%E6%AE%8A%E7%AC%A6%E5%8F%B7"><span class="toc-text">æ³¨å…¥å±æ€§åŒ…å«ç‰¹æ®Šç¬¦å·</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E5%85%A5%E5%A4%96%E9%83%A8-bean"><span class="toc-text">æ³¨å…¥å¤–éƒ¨ bean</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E5%85%A5%E5%86%85%E9%83%A8-bean"><span class="toc-text">æ³¨å…¥å†…éƒ¨ bean</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%A7%E8%81%94%E8%B5%8B%E5%80%BC"><span class="toc-text">çº§è”èµ‹å€¼</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E5%85%A5%E5%A4%96%E9%83%A8-bean-%E6%96%B9%E5%BC%8F"><span class="toc-text">æ³¨å…¥å¤–éƒ¨ bean æ–¹å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%87%E5%AE%9A%E5%B1%9E%E6%80%A7%E6%B3%A8%E5%85%A5"><span class="toc-text">æŒ‡å®šå±æ€§æ³¨å…¥</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E5%85%A5%E9%9B%86%E5%90%88%E5%B1%9E%E6%80%A7"><span class="toc-text">æ³¨å…¥é›†åˆå±æ€§</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%B1%BB%E5%9E%8B%E6%B3%A8%E5%85%A5"><span class="toc-text">å¸¸è§ç±»å‹æ³¨å…¥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#bean-%E7%B1%BB%E5%9E%8B%E6%B3%A8%E5%85%A5"><span class="toc-text">bean ç±»å‹æ³¨å…¥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8F%90%E5%8F%96%E5%85%B1%E5%90%8C%E4%BB%A3%E7%A0%81"><span class="toc-text">æå–å…±åŒä»£ç </span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#FactoryBean"><span class="toc-text">FactoryBean</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Bean-%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-text">Bean ä½œç”¨åŸŸ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#bean-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-text">bean ç”Ÿå‘½å‘¨æœŸ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Java-Bean"><span class="toc-text">Java Bean</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%84%E5%A4%84%E7%90%86%E5%92%8C%E5%90%8E%E5%A4%84%E7%90%86%E7%B1%BB"><span class="toc-text">é¢„å¤„ç†å’Œåå¤„ç†ç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring-%E9%85%8D%E7%BD%AE"><span class="toc-text">Spring é…ç½®</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#xml-%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D"><span class="toc-text">xml è‡ªåŠ¨è£…é…</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AE%E5%B1%9E%E6%80%A7%E5%90%8D%E7%A7%B0%E8%87%AA%E5%8A%A8%E6%B3%A8%E5%85%A5"><span class="toc-text">æ ¹æ®å±æ€§åç§°è‡ªåŠ¨æ³¨å…¥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AE%E5%B1%9E%E6%80%A7%E7%B1%BB%E5%9E%8B%E8%87%AA%E5%8A%A8%E6%B3%A8%E5%85%A5"><span class="toc-text">æ ¹æ®å±æ€§ç±»å‹è‡ªåŠ¨æ³¨å…¥</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%96%E9%83%A8%E5%B1%9E%E6%80%A7%E6%96%87%E4%BB%B6"><span class="toc-text">å¤–éƒ¨å±æ€§æ–‡ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%B4%E6%8E%A5%E9%85%8D%E7%BD%AE%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BF%A1%E6%81%AF"><span class="toc-text">ç›´æ¥é…ç½®æ•°æ®åº“ä¿¡æ¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%96%E9%83%A8%E5%B1%9E%E6%80%A7%E6%96%87%E4%BB%B6%E9%85%8D%E7%BD%AE%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0"><span class="toc-text">å¤–éƒ¨å±æ€§æ–‡ä»¶é…ç½®æ•°æ®åº“è¿æ¥æ± </span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A2%9E%E5%8A%A0-jdbc-properties-%E6%96%87%E4%BB%B6%EF%BC%8C%E4%BF%9D%E5%AD%98%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BF%A1%E6%81%AF"><span class="toc-text">å¢åŠ  jdbc.properties æ–‡ä»¶ï¼Œä¿å­˜æ•°æ®åº“ä¿¡æ¯</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Spring-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-v2"><span class="toc-text">Spring é…ç½®æ–‡ä»¶</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E8%A7%A3%E6%96%B9%E5%BC%8F%E7%AE%A1%E7%90%86-Bean"><span class="toc-text">æ³¨è§£æ–¹å¼ç®¡ç† Bean</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E7%94%A8%E6%B3%A8%E8%A7%A3"><span class="toc-text">å¯ç”¨æ³¨è§£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E6%B3%A8%E8%A7%A3%E6%96%B9%E5%BC%8F%E5%AE%9E%E7%8E%B0%E5%AF%B9%E8%B1%A1%E5%88%9B%E5%BB%BA"><span class="toc-text">.åŸºäºæ³¨è§£æ–¹å¼å®ç°å¯¹è±¡åˆ›å»º</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%95%E5%85%A5%E4%BE%9D%E8%B5%96"><span class="toc-text">å¼•å…¥ä¾èµ–</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E6%89%AB%E6%8F%8F%E9%85%8D%E7%BD%AE"><span class="toc-text">ç»„ä»¶æ‰«æé…ç½®</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Spring-%E6%89%98%E7%AE%A1%E5%88%9B%E5%BB%BA%E5%AE%9E%E4%BE%8B"><span class="toc-text">Spring æ‰˜ç®¡åˆ›å»ºå®ä¾‹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E6%89%AB%E6%8F%8F%E8%AF%A6%E7%BB%86%E9%85%8D%E7%BD%AE"><span class="toc-text">ç»„ä»¶æ‰«æè¯¦ç»†é…ç½®</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E8%A7%A3%E6%96%B9%E5%BC%8F%E5%AE%9E%E7%8E%B0%E5%B1%9E%E6%80%A7%E6%B3%A8%E5%85%A5"><span class="toc-text">æ³¨è§£æ–¹å¼å®ç°å±æ€§æ³¨å…¥</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Autowired"><span class="toc-text">@Autowired</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Qualifier"><span class="toc-text">@Qualifier</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Resource"><span class="toc-text">@Resource</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Value"><span class="toc-text">@Value</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%8C%E5%85%A8%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91"><span class="toc-text">å®Œå…¨æ³¨è§£å¼€å‘</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E8%A7%A3%E9%85%8D%E7%BD%AE%E7%B1%BB"><span class="toc-text">æ³¨è§£é…ç½®ç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E6%96%B9%E6%B3%95"><span class="toc-text">æµ‹è¯•æ–¹æ³•</span></a></li></ol></li></ol><h2 id="Spring-IoC"><a class="header-anchor" href="#Spring-IoC">Â¶</a>Spring IoC</h2><p>Spring æä¾› IoC å®¹å™¨å®ç°ä¸¤ç§æ–¹å¼ï¼ˆä¸¤ä¸ªæ¥å£ï¼‰ï¼š</p><ul><li><code>BeanFactory</code><br>IoC å®¹å™¨åŸºæœ¬å®ç°ï¼Œæ˜¯ Spring <strong>å†…éƒ¨ä½¿ç”¨æ¥å£</strong><br>ä¸æå€¡å¼€å‘äººå‘˜è¿›è¡Œä½¿ç”¨<br>. åŠ è½½é…ç½®æ–‡ä»¶æ—¶ä¸ä¼šåˆ›å»ºå¯¹è±¡ï¼Œè·å–ï¼ˆä½¿ç”¨ï¼‰å¯¹è±¡æ—¶æ‰ä¼šåˆ›å»ºå¯¹è±¡</li><li><code>ApplicationContext</code><br><code>BeanFactory</code>çš„å­æ¥å£<br>æ¨èå¼€å‘äººå‘˜ä½¿ç”¨<br>. åŠ è½½é…ç½®æ–‡ä»¶æ—¶ï¼Œå°±ä¼šå°†é…ç½®æ–‡ä»¶ä¸­çš„å¯¹è±¡è¿›è¡Œåˆ›å»º</li></ul><p>â“ä¸ºä»€ä¹ˆè¯»å–é…ç½®æ–‡ä»¶æ—¶ï¼Œå°±åˆ›å»ºå¯¹è±¡ï¼Ÿ</p><ul><li>æœåŠ¡ç«¯ï¼Œä¸ºäº†èƒ½å¤Ÿæ›´å¿«é€Ÿé«˜æ•ˆçš„ä¸ºç”¨æˆ·æä¾›æœåŠ¡ï¼›éœ€è¦ä½¿ç”¨çš„å¯¹è±¡ï¼Œæœ€å¥½å¯åŠ¨æœåŠ¡æ—¶å°±åˆ›å»ºï¼Œä»¥å…å‡ºç°è¯·æ±‚æ—¶ï¼Œå¯¹è±¡æ‰å¼€å§‹åˆ›å»ºçš„ç°è±¡</li></ul><h3 id="ApplicationContext-ä¸»è¦å®ç°ç±»"><a class="header-anchor" href="#ApplicationContext-ä¸»è¦å®ç°ç±»">Â¶</a>ApplicationContext ä¸»è¦å®ç°ç±»</h3><table><thead><tr><th style="text-align:center">å®ç°ç±»</th><th style="text-align:center">åŒºåˆ«</th></tr></thead><tbody><tr><td style="text-align:center">ClassPathXmlApplicationContext</td><td style="text-align:center">è¯»å–ç±»è·¯å¾„ä¸‹çš„ XML æ ¼å¼çš„é…ç½®æ–‡ä»¶</td></tr><tr><td style="text-align:center">FileSystemXmlApplicationContext</td><td style="text-align:center">æ–‡ä»¶ç³»ç»Ÿä¸­çš„ XML æ ¼å¼çš„é…ç½®æ–‡ä»¶</td></tr></tbody></table><p><img src="https://cdn.jsdelivr.net/gh/pineapple-man/blogImage@main/image/image-20210607182210091.png" alt="ApplicationContextç»§æ‰¿ä½“ç³»"></p><h3 id="ConfigurableApplicationContext"><a class="header-anchor" href="#ConfigurableApplicationContext">Â¶</a>ConfigurableApplicationContext</h3><p>âœ¨<code>ConfigurableApplicationContext</code>ç±»</p><ul><li>æ˜¯<code>ApplicationContext</code>çš„å­æ¥å£</li><li><code>refresh()</code>å’Œ<code>close()</code>è®©<code>ApplicationContext</code>å…·æœ‰å¯åŠ¨ã€å…³é—­å’Œåˆ·æ–°ä¸Šä¸‹æ–‡çš„èƒ½åŠ›</li></ul><h3 id="WebApplicationContext"><a class="header-anchor" href="#WebApplicationContext">Â¶</a>WebApplicationContext</h3><p>âœ¨ä¸“é—¨ä¸º WEB åº”ç”¨è€Œå‡†å¤‡ï¼Œå…è®¸ä»ç›¸å¯¹äº WEB æ ¹ç›®å½•çš„è·¯å¾„ä¸­å®Œæˆåˆå§‹åŒ–å·¥ä½œ</p><h2 id="Bean-ç®¡ç†"><a class="header-anchor" href="#Bean-ç®¡ç†">Â¶</a>Bean ç®¡ç†</h2><p>âœ¨IoC ä¸­è¿›è¡Œ Bean ç®¡ç†ï¼Œä¸»è¦æŒ‡çš„æ—¶ä¸¤ä¸ªæ“ä½œï¼š</p><ul><li>Spring <font style="color:red;font-weight:700">åˆ›å»º Bean å¯¹è±¡</font></li><li>Spring <font style="color:red;font-weight:700">æ³¨å…¥å±æ€§</font></li></ul><p>Bean ç®¡ç†æ“ä½œå­˜åœ¨ä¸¤ç§æ–¹å¼ï¼š</p><ul><li>åŸºäº XML é…ç½®æ–‡ä»¶æ–¹å¼å®ç°ï¼ˆæ–°æ‰‹ï¼‰</li><li>åŸºäºæ³¨è§£æ–¹å¼å®ç°ï¼ˆè€é¸Ÿï¼‰</li></ul><h2 id="XML-æ–¹å¼åˆ›å»º-Bean-å¯¹è±¡"><a class="header-anchor" href="#XML-æ–¹å¼åˆ›å»º-Bean-å¯¹è±¡">Â¶</a>XML æ–¹å¼åˆ›å»º Bean å¯¹è±¡</h2><p>Spring é¡¹ç›®çš„æ„å»ºè‡³å°‘éœ€è¦å¦‚ä¸‹å‡ ä¸ªåŒ…</p><ul><li>spring-beans</li><li>spring-context</li><li>spring-core</li><li>spring-expression</li></ul><h3 id="åˆ›å»º-Java-Bean"><a class="header-anchor" href="#åˆ›å»º-Java-Bean">Â¶</a>åˆ›å»º Java Bean</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line"> <span class="keyword">private</span> String name;</span><br><span class="line"> <span class="keyword">private</span> Integer age;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">()</span> &#123;</span><br><span class="line">  System.out.println(<span class="string">&quot;from User&#x27;s add method...&quot;</span>);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Spring-é…ç½®æ–‡ä»¶"><a class="header-anchor" href="#Spring-é…ç½®æ–‡ä»¶">Â¶</a>Spring é…ç½®æ–‡ä»¶</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;0&quot;</span> encoding=<span class="string">&quot;UTF-?&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">&lt;beans xmlns=&quot;</span>http://www.springframework.org/schema/beans<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="meta">       xmlns:xsi=&quot;</span>http://www..org/0XMLSchema-instance<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="meta">       xsi:schemaLocation=&quot;</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class="string">&quot;&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">    &lt;bean id=&quot;</span>user<span class="string">&quot; class=&quot;</span>com.pineapple_man.spring.User<span class="string">&quot;&gt;&lt;/bean&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">&lt;/beans&gt;</span></span></span><br></pre></td></tr></table></figure><p>âœ¨Spring é…ç½®æ–‡ä»¶ç‰¹ç‚¹</p><ul><li>ä½¿ç”¨<code>&lt;bean&gt;</code>æ ‡ç­¾ï¼Œå®ç°å¯¹è±¡åˆ›å»º</li><li><code>id</code>å±æ€§ï¼šå”¯ä¸€æ ‡è¯†</li><li><code>class</code>å±æ€§ï¼šåˆ›å»ºç±»çš„å…¨è·¯å¾„</li></ul><p>ğŸ¶Spring åˆ›å»ºå¯¹è±¡æ—¶ï¼Œé»˜è®¤æ‰§è¡Œæ— å‚æ•°æ„é€ æ–¹æ³•å®Œæˆå¯¹è±¡åˆ›å»º</p><h3 id="ä»£ç æµ‹è¯•"><a class="header-anchor" href="#ä»£ç æµ‹è¯•">Â¶</a>ä»£ç æµ‹è¯•</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserTest</span> &#123;</span><br><span class="line"> <span class="meta">@Test</span></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="type">ApplicationContext</span> <span class="variable">applicationContext</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;beanxml&quot;</span>);</span><br><span class="line">        <span class="comment">//getBean()çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ beanxml ä¸­ bean çš„ id</span></span><br><span class="line">  <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> applicationContext.getBean(<span class="string">&quot;user&quot;</span>, User.class);</span><br><span class="line">  user.add();</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="XML-æ–¹å¼æ³¨å…¥å±æ€§"><a class="header-anchor" href="#XML-æ–¹å¼æ³¨å…¥å±æ€§">Â¶</a>XML æ–¹å¼æ³¨å…¥å±æ€§</h2><p>å¯¹äºå¤§é¡¹ç›®é€šå¸¸ä½¿ç”¨æ³¨è§£æ–¹å¼ï¼ŒXML æ–¹å¼ä½¿å¾—é¡¹ç›®å¤æ‚å¹¶ä¸”éš¾ä»¥ç®¡ç†ï¼Œä½†æ˜¯ä¾¿äºå­¦ä¹ </p><p><img src="https://cdn.jsdelivr.net/gh/pineapple-man/blogImage@main/image/XML%E6%96%B9%E5%BC%8F%E6%B3%A8%E5%85%A5%E5%B1%9E%E6%80%A7.png" alt="XMLæ–¹å¼æ³¨å…¥å±æ€§"></p><h3 id="set-æ–¹æ³•æ³¨å…¥"><a class="header-anchor" href="#set-æ–¹æ³•æ³¨å…¥">Â¶</a>set æ–¹æ³•æ³¨å…¥</h3><p>åˆ›å»ºç±»ï¼Œå®šä¹‰å±æ€§</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line"> <span class="keyword">private</span> String name;</span><br><span class="line"> <span class="keyword">private</span> Integer age;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">()</span> &#123;</span><br><span class="line">  System.out.println(<span class="string">&quot;from User&#x27;s add method...&quot;</span>);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(Integer age)</span> &#123;</span><br><span class="line">  <span class="built_in">this</span>.age = age;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Override</span></span><br><span class="line"> <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;User&#123;&quot;</span> +</span><br><span class="line">    <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">    <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">    <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ Spring é…ç½®æ–‡ä»¶é…ç½®å¯¹è±¡åˆ›å»ºï¼Œé…ç½®å±æ€§æ³¨å…¥</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.pineapple_man.spring.User&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;å¼ ä¸‰ä¸°&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ğŸ¶<code>&lt;property&gt;</code>æ ‡ç­¾ä¸­å±æ€§å€¼å«ä¹‰</p><ul><li><code>name</code>ç±»é‡Œé¢å±æ€§åç§°</li><li><code>value</code>å‘å±æ€§æ³¨å…¥çš„å€¼</li></ul><h3 id="æœ‰å‚æ„é€ è¿›è¡Œæ³¨å…¥"><a class="header-anchor" href="#æœ‰å‚æ„é€ è¿›è¡Œæ³¨å…¥">Â¶</a>æœ‰å‚æ„é€ è¿›è¡Œæ³¨å…¥</h3><p>åˆ›å»ºæœ‰å‚æ•°æ„é€ </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line"> <span class="keyword">private</span> String name;</span><br><span class="line"> <span class="keyword">private</span> Integer age;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="title function_">User</span><span class="params">(String name, Integer age)</span> &#123;</span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line">  <span class="built_in">this</span>.age = age;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Override</span></span><br><span class="line"> <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;User&#123;&quot;</span> +</span><br><span class="line">    <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">    <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">    <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ Spring é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.pineapple_man.spring.User&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;è¾¾æ‘©è€ç¥–&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="p-åç§°ç©ºé—´æ³¨å…¥"><a class="header-anchor" href="#p-åç§°ç©ºé—´æ³¨å…¥">Â¶</a>p åç§°ç©ºé—´æ³¨å…¥</h3><p>æ·»åŠ  p åç§°ç©ºé—´åˆ°é…ç½®æ–‡ä»¶ä¸­</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;0&quot;</span> encoding=<span class="string">&quot;UTF-?&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">&lt;beans xmlns=&quot;</span>http://www.springframework.org/schema/beans<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="meta">       xmlns:xsi=&quot;</span>http://www.worg/0XMLSchema-instance<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="meta">       xmlns:p=&quot;</span>http://www.springframework.org/schema/p<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="meta">       xsi:schemaLocation=&quot;</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class="string">&quot;&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">&lt;/beans&gt;</span></span></span><br></pre></td></tr></table></figure><p>è¿›è¡Œå±æ€§æ³¨å…¥</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.pineapple_man.spring.User&quot;</span> <span class="attr">p:age</span>=<span class="string">&quot; p:name=&quot;</span><span class="attr">è¶…å“¥</span>&quot;&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="XML-æ–¹å¼æ³¨å…¥ç‰¹æ®Šå€¼"><a class="header-anchor" href="#XML-æ–¹å¼æ³¨å…¥ç‰¹æ®Šå€¼">Â¶</a>XML æ–¹å¼æ³¨å…¥ç‰¹æ®Šå€¼</h2><p>ä¸»è¦æ˜¯é€šè¿‡ xml æ³¨å…¥å…¶ä»–ç±»å‹çš„æ•°æ®</p><h3 id="æ³¨å…¥-null"><a class="header-anchor" href="#æ³¨å…¥-null">Â¶</a>æ³¨å…¥ null</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.pineapple_man.spring.User&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">null</span>&gt;</span><span class="tag">&lt;/<span class="name">null</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="æ³¨å…¥å±æ€§åŒ…å«ç‰¹æ®Šç¬¦å·"><a class="header-anchor" href="#æ³¨å…¥å±æ€§åŒ…å«ç‰¹æ®Šç¬¦å·">Â¶</a>æ³¨å…¥å±æ€§åŒ…å«ç‰¹æ®Šç¬¦å·</h3><p>å­˜åœ¨ä¸¤ç§æ–¹å¼:</p><ul><li>ä½¿ç”¨è½¬ç§»å­—ç¬¦(<code>&amp;lt</code>,<code>&amp;gt</code>)</li><li>å°†å¸¦ç‰¹æ®Šç¬¦å·å†…å®¹å†™åˆ° CDATA ä¸­</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.pineapple_man.spring.User&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">value</span>&gt;</span>&lt;![CDATA[&lt;&lt;å—äº¬&gt;&gt;]]&gt;<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="æ³¨å…¥å¤–éƒ¨-bean"><a class="header-anchor" href="#æ³¨å…¥å¤–éƒ¨-bean">Â¶</a>æ³¨å…¥å¤–éƒ¨ bean</h3><p>åœ¨<code>Service</code>ç±»çš„å†…éƒ¨ï¼Œè°ƒç”¨äº†<code>dao</code>ç±»æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line"> <span class="type">UserDao</span> <span class="variable">dao</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UserImpl</span>();</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setDao</span><span class="params">(UserDao dao)</span> &#123;</span><br><span class="line">  <span class="built_in">this</span>.dao = dao;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">()</span> &#123;</span><br><span class="line">  System.out.println(<span class="string">&quot;from service update method.&quot;</span>);</span><br><span class="line">  dao.update();</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserImpl</span> <span class="keyword">implements</span> <span class="title class_">UserDao</span> &#123;</span><br><span class="line"> <span class="meta">@Override</span></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">()</span> &#123;</span><br><span class="line">  System.out.println(<span class="string">&quot;from userimple update method&quot;</span>);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userService&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.pineapple_man.spring.service.UserService&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dao&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;userDao&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userDao&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.pineapple_man.spring.dao.impl.UserImpl&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p>âœ¨<code>ref</code>å±æ€§ï¼šåªæƒ³å¦ä¸€ä¸ª<code>javaBean</code>çš„<code>id</code></p><h3 id="æ³¨å…¥å†…éƒ¨-bean"><a class="header-anchor" href="#æ³¨å…¥å†…éƒ¨-bean">Â¶</a>æ³¨å…¥å†…éƒ¨ bean</h3><p>ä¹¦å†™å¯¹åº”å®ä½“ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Class</span> &#123;</span><br><span class="line"> <span class="keyword">private</span> String name;</span><br><span class="line"> <span class="keyword">private</span> <span class="type">int</span> stuentsNumber;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setStuentsNumber</span><span class="params">(<span class="type">int</span> stuentsNumber)</span> &#123;</span><br><span class="line">  <span class="built_in">this</span>.stuentsNumber = stuentsNumber;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Override</span></span><br><span class="line"> <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;Class&#123;&quot;</span> +</span><br><span class="line">    <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">    <span class="string">&quot;, stuentsNumber=&quot;</span> + stuentsNumber +</span><br><span class="line">    <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line"> <span class="keyword">private</span> String name;</span><br><span class="line"> <span class="keyword">private</span> Integer age;</span><br><span class="line"> <span class="keyword">private</span> String gender;</span><br><span class="line"> <span class="comment">//ä¸€ä¸ªå­¦ç”Ÿå±äºä¸€ä¸ªç­çº§</span></span><br><span class="line"> <span class="keyword">private</span> Class aClass;</span><br><span class="line"> <span class="comment">//å†…éƒ¨æ³¨å…¥ï¼Œä¸éœ€è¦getteræ–¹æ³•</span></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setaClass</span><span class="params">(Class aClass)</span> &#123;</span><br><span class="line">  <span class="built_in">this</span>.aClass = aClass;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Override</span></span><br><span class="line"> <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;Student&#123;&quot;</span> +</span><br><span class="line">    <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">    <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">    <span class="string">&quot;, gender=&#x27;&quot;</span> + gender + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">    <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(Integer age)</span> &#123;</span><br><span class="line">  <span class="built_in">this</span>.age = age;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setGender</span><span class="params">(String gender)</span> &#123;</span><br><span class="line">  <span class="built_in">this</span>.gender = gender;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name, Integer age, String gender)</span> &#123;</span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line">  <span class="built_in">this</span>.age = age;</span><br><span class="line">  <span class="built_in">this</span>.gender = gender;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å†…éƒ¨ bean é…ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;student&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.pineapple_man.spring.bean.Student&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Tony&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">value</span>=<span class="string">&quot;male&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;aClass&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;class&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.pineapple_man.spring.bean.Class&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;S00&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;stuentsNumber&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="çº§è”èµ‹å€¼"><a class="header-anchor" href="#çº§è”èµ‹å€¼">Â¶</a>çº§è”èµ‹å€¼</h3><p>çº§è”èµ‹å€¼ï¼Œç”¨äºå‘ä¸€ä¸ªå¯¹è±¡ä¸­æ³¨å…¥å¦ä¸€ä¸ªå¯¹è±¡</p><h4 id="æ³¨å…¥å¤–éƒ¨-bean-æ–¹å¼"><a class="header-anchor" href="#æ³¨å…¥å¤–éƒ¨-bean-æ–¹å¼">Â¶</a>æ³¨å…¥å¤–éƒ¨ bean æ–¹å¼</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;student&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.pineapple_man.spring.bean.Student&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Tony&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">value</span>=<span class="string">&quot;male&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line"> <span class="comment">&lt;!--çº§è”èµ‹å€¼--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;aClass&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;class&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;class&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.pineapple_man.spring.bean.Class&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;S00&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;stuentsNumber&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="æŒ‡å®šå±æ€§æ³¨å…¥"><a class="header-anchor" href="#æŒ‡å®šå±æ€§æ³¨å…¥">Â¶</a>æŒ‡å®šå±æ€§æ³¨å…¥</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;student&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.pineapple_man.spring.bean.Student&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Tony&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">value</span>=<span class="string">&quot;male&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line"> <span class="comment">&lt;!--çº§è”èµ‹å€¼--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;aClass&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;class&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;aClass.name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;S00&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;class&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.pineapple_man.spring.bean.Class&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ğŸ¶<code>ref</code>æŒ‡å®šçš„ç±»éœ€è¦åœ¨å½“å‰ç±»ä¸­å­˜åœ¨<code>setter</code>å’Œ<code>getter</code>æ–¹æ³•</p><h3 id="æ³¨å…¥é›†åˆå±æ€§"><a class="header-anchor" href="#æ³¨å…¥é›†åˆå±æ€§">Â¶</a>æ³¨å…¥é›†åˆå±æ€§</h3><p>å¯¹é›†åˆç±»å±æ€§æ³¨å…¥</p><h4 id="å¸¸è§ç±»å‹æ³¨å…¥"><a class="header-anchor" href="#å¸¸è§ç±»å‹æ³¨å…¥">Â¶</a>å¸¸è§ç±»å‹æ³¨å…¥</h4><p>åˆ›å»ºåŒ…å«é›†åˆå±æ€§çš„ç±»ï¼Œæ‹¥æœ‰æ•°ç»„ã€<code>List</code>ã€<code>Map</code>ã€<code>Set</code>å±æ€§</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line"> <span class="keyword">private</span> String name;</span><br><span class="line"> <span class="keyword">private</span> Integer age;</span><br><span class="line"> <span class="keyword">private</span> String gender;</span><br><span class="line"> <span class="keyword">private</span> String[] courses;</span><br><span class="line"> <span class="keyword">private</span> List&lt;String&gt; list;</span><br><span class="line"> <span class="keyword">private</span> Map&lt;String, String&gt; map;</span><br><span class="line"> <span class="keyword">private</span> Set&lt;String&gt; set;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setSet</span><span class="params">(Set&lt;String&gt; set)</span> &#123;</span><br><span class="line">  <span class="built_in">this</span>.set = set;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCourses</span><span class="params">(String[] courses)</span> &#123;</span><br><span class="line">  <span class="built_in">this</span>.courses = courses;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setList</span><span class="params">(List&lt;String&gt; list)</span> &#123;</span><br><span class="line">  <span class="built_in">this</span>.list = list;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setMap</span><span class="params">(Map&lt;String, String&gt; map)</span> &#123;</span><br><span class="line">  <span class="built_in">this</span>.map = map;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">()</span> &#123;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é…ç½®æ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;student&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.pineapple_man.spring.bean.Student&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;courses&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>è¯­æ–‡<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>æ•°å­¦<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>è‹±è¯­<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;list&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>è¯­æ–‡<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>æ•°å­¦<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>è‹±è¯­<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;set&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>MySQL<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>ELK<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;score&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">map</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;è¯­æ–‡&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;æ•°å­¦&quot;</span> <span class="attr">value</span>=<span class="string">&quot;0&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="bean-ç±»å‹æ³¨å…¥"><a class="header-anchor" href="#bean-ç±»å‹æ³¨å…¥">Â¶</a>bean ç±»å‹æ³¨å…¥</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user class=&quot;</span><span class="attr">com.pineapple_man.spring.bean.User</span>&quot;&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;è¶…å“¥&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user class=&quot;</span><span class="attr">com.pineapple_man.spring.bean.User</span>&quot;&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;é¾™å“¥&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;student&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.pineapple_man.spring.bean.Student&quot;</span>&gt;</span></span><br><span class="line"> <span class="comment">&lt;!--æ³¨å…¥listé›†åˆç±»å‹ï¼Œå€¼æ˜¯å¯¹è±¡--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;teachers&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;user&gt;&lt;/ref&gt;</span></span></span><br><span class="line"><span class="string"><span class="tag">            &lt;ref bean=&quot;</span><span class="attr">user</span>&gt;</span><span class="tag">&lt;/<span class="name">ref</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">   <span class="keyword">private</span> List&lt;User&gt; teachers;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setTeachers</span><span class="params">(List&lt;User&gt; teachers)</span> &#123;</span><br><span class="line">      <span class="built_in">this</span>.teachers = teachers;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æå–å…±åŒä»£ç "><a class="header-anchor" href="#æå–å…±åŒä»£ç ">Â¶</a>æå–å…±åŒä»£ç </h4><p>åœ¨ Spring é…ç½®æ–‡ä»¶ä¸­å¼•å…¥åç§°ç©ºé—´<code>util</code></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.worg/0XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:util</span>=<span class="string">&quot;http://www.springframework.org/schema/util&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨<code>utils</code>æ ‡ç­¾å®Œæˆ list é›†åˆå…¬å…±éƒ¨åˆ†çš„æå–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user class=&quot;</span><span class="attr">com.pineapple_man.spring.bean.User</span>&quot;&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;é¾™å“¥&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user class=&quot;</span><span class="attr">com.pineapple_man.spring.bean.User</span>&quot;&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;è¶…å“¥&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">util:list</span> <span class="attr">id</span>=<span class="string">&quot;teacherList&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;user&gt;&lt;/ref&gt;</span></span></span><br><span class="line"><span class="string"><span class="tag">    &lt;ref bean=&quot;</span><span class="attr">user</span>&gt;</span><span class="tag">&lt;/<span class="name">ref</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">util:list</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;stu class=&quot;</span><span class="attr">com.pineapple_man.spring.bean.Student</span>&quot;&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;teachers&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;teacherList&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="FactoryBean"><a class="header-anchor" href="#FactoryBean">Â¶</a>FactoryBean</h2><p>âœ¨Spring æœ‰ä¸¤ç§ç±»å‹<code>bean</code>ï¼šæ™®é€š<code>bean</code>å’Œ<code>FactoryBean</code></p><ul><li>æ™®é€š beanï¼šé…ç½®æ–‡ä»¶ä¸­å®šä¹‰<code>bean</code>ç±»å‹å°±æ˜¯è¿”å›ç±»å‹</li><li>å·¥å‚ beanï¼šé…ç½®æ–‡ä»¶å®šä¹‰<code>bean</code>ç±»å‹å¯ä»¥å’Œè¿”å›ç±»å‹ä¸åŒ</li></ul><p>â›µFactoryBean ä½¿ç”¨æ­¥éª¤ï¼š</p><ol><li>åˆ›å»ºå·¥å‚ bean ç±»ï¼Œå®ç°<code>FactoryBean</code>æ¥å£</li><li>å®ç°æ¥å£ä¸­çš„æ–¹æ³•ï¼Œåœ¨å®ç°çš„æ–¹æ³•ä¸­è¿”å›å£°æ˜çš„ bean ç±»å‹</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyBean</span> <span class="keyword">implements</span> <span class="title class_">FactoryBean</span>&lt;User&gt; &#123;</span><br><span class="line">    <span class="comment">//å®šä¹‰è¿”å›çš„ bean ç±»å‹</span></span><br><span class="line"> <span class="meta">@Override</span></span><br><span class="line"> <span class="keyword">public</span> User <span class="title function_">getObject</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;é¾™å“¥&quot;</span>, );</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Override</span></span><br><span class="line"> <span class="keyword">public</span> java.lang.Class&lt;?&gt; getObjectType() &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Override</span></span><br><span class="line"> <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isSingleton</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> FactoryBean.<span class="built_in">super</span>.isSingleton();</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li>ä¹¦å†™é…ç½®æ–‡ä»¶</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;mybean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.pineapple_man.spring.bean.MyBean&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="4"><li>æ£€æŸ¥ç»“æœ</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">beanTest</span><span class="params">()</span> &#123;</span><br><span class="line"> <span class="type">ApplicationContext</span> <span class="variable">applicationContext</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;beanxml&quot;</span>);</span><br><span class="line"> User mybean= applicationContext.getBean(<span class="string">&quot;mybean&quot;</span>, User.class);</span><br><span class="line"> User mybean= applicationContext.getBean(<span class="string">&quot;mybean&quot;</span>, User.class);</span><br><span class="line"> System.out.println(mybeangetClass().hashCode());</span><br><span class="line"> System.out.println(mybeangetClass().hashCode());</span><br><span class="line">    <span class="comment">//mybeanä¸ mybeançš„hashå€¼ç›¸åŒ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Bean-ä½œç”¨åŸŸ"><a class="header-anchor" href="#Bean-ä½œç”¨åŸŸ">Â¶</a>Bean ä½œç”¨åŸŸ</h2><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpring ä¸­ bean æ˜¯å•å®ä¾‹å¯¹è±¡ï¼Œé€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥é€‰æ‹©æ˜¯å•å®ä¾‹è¿˜æ˜¯å¤šå®ä¾‹</p><p><code>scope</code>å±æ€§æœ‰ä¸¤ä¸ªå€¼ï¼š<code>singleton</code>å’Œ<code>prototype</code></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;mybean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.pineapple_man.spring.bean.MyBean&quot;</span> <span class="attr">scope</span>=<span class="string">&quot;prototype&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p>âœ¨<code>singleton</code>å’Œ<code>prototype</code>çš„åŒºåˆ«</p><ul><li><code>singleton</code>æ˜¯å•å®ä¾‹ï¼Œ<code>prototype</code>æ˜¯å¤šå®ä¾‹</li><li>scope ä¸º<code>singleton</code>æ—¶ï¼Œ<strong>åŠ è½½é…ç½®æ–‡ä»¶å°±ä¼šåˆ›å»ºå•å®ä¾‹å¯¹è±¡</strong></li><li>scope ä¸º<code>prototype</code>æ—¶ï¼Œè°ƒç”¨<code>getnBean()</code>æ–¹æ³•æ—¶<strong>åˆ›å»ºå¤šå®ä¾‹å¯¹è±¡</strong></li></ul><h2 id="bean-ç”Ÿå‘½å‘¨æœŸ"><a class="header-anchor" href="#bean-ç”Ÿå‘½å‘¨æœŸ">Â¶</a>bean ç”Ÿå‘½å‘¨æœŸ</h2><p>âœ¨ bean çš„ç”Ÿå‘½å‘¨æœŸï¼ˆä¸ƒä¸ªé˜¶æ®µï¼‰ï¼š</p><p>é€šè¿‡æ„é€ å™¨åˆ›å»º<code>bean</code>å®ä¾‹ï¼ˆæ— å‚æ•°æ„é€ ï¼‰<br>ä¸º<code>bean</code>çš„å±æ€§æ³¨å…¥ä»¥åŠå¯¹å…¶ä»–<code>bean</code>å¼•ç”¨(è°ƒç”¨<code>set()</code>æ–¹æ³•) 3. å°†<code>bean</code>å®ä¾‹ä¼ é€’ç»™<code>bean</code>åç½®å¤„ç†å™¨çš„æ–¹æ³•<code>postProcessBeforeInitialization</code> 4. è°ƒç”¨<code>bean</code>çš„åˆå§‹åŒ–æ–¹æ³•ï¼ˆéœ€è¦è¿›è¡Œé…ç½®åˆå§‹åŒ–çš„æ–¹æ³•ï¼‰ 5. å°†<code>bean</code>å®ä¾‹ä¼ é€’ç»™<code>bean</code>åç½®å¤„ç†å™¨æ–¹æ³•<code>postProcessAfterInitialization</code><br>ä½¿ç”¨<code>bean</code><br>åœ¨å®¹å™¨å…³é—­æ—¶ï¼Œè°ƒç”¨<code>bean</code>çš„é”€æ¯æ–¹æ³•ï¼ˆéœ€è¦é…ç½®é”€æ¯æ–¹æ³•ï¼‰</p><h3 id="Java-Bean"><a class="header-anchor" href="#Java-Bean">Â¶</a>Java Bean</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LifeCycle</span> &#123;</span><br><span class="line">   <span class="keyword">private</span> String step;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">LifeCycle</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot; æ¥è‡ªäºæ— å‚æ„é€ å‡½æ•°&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setStep</span><span class="params">(String step)</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot; æ¥è‡ªäºsetæ–¹æ³•&quot;</span>);</span><br><span class="line">      <span class="built_in">this</span>.step = step;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">initMethod</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(. æ¥è‡ªäºinitMethod<span class="string">&quot;);</span></span><br><span class="line"><span class="string">   &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">   public void destoryMethod() &#123;</span></span><br><span class="line"><span class="string">      System.out.println(&quot;</span><span class="number">5.</span>æ¥è‡ªdestoryMethod<span class="string">&quot;);</span></span><br><span class="line"><span class="string">   &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="é¢„å¤„ç†å’Œåå¤„ç†ç±»"><a class="header-anchor" href="#é¢„å¤„ç†å’Œåå¤„ç†ç±»">Â¶</a>é¢„å¤„ç†å’Œåå¤„ç†ç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PostProcess</span> <span class="keyword">implements</span> <span class="title class_">BeanPostProcessor</span> &#123;</span><br><span class="line"> <span class="meta">@Override</span></span><br><span class="line"> <span class="keyword">public</span> Object <span class="title function_">postProcessBeforeInitialization</span><span class="params">(Object bean, String beanName)</span> <span class="keyword">throws</span> BeansException &#123;</span><br><span class="line">  System.out.println(<span class="string">&quot;from postProcessBeforeInitialization&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> BeanPostProcessor.<span class="built_in">super</span>.postProcessBeforeInitialization(bean, beanName);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Override</span></span><br><span class="line"> <span class="keyword">public</span> Object <span class="title function_">postProcessAfterInitialization</span><span class="params">(Object bean, String beanName)</span> <span class="keyword">throws</span> BeansException &#123;</span><br><span class="line">  System.out.println(<span class="string">&quot;from postProcessAfterInitialization&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> BeanPostProcessor.<span class="built_in">super</span>.postProcessAfterInitialization(bean, beanName);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Spring-é…ç½®"><a class="header-anchor" href="#Spring-é…ç½®">Â¶</a>Spring é…ç½®</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;0&quot;</span> encoding=<span class="string">&quot;UTF-?&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">&lt;beans xmlns=&quot;</span>http://www.springframework.org/schema/beans<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="meta">       xmlns:xsi=&quot;</span>http://www..org/0XMLSchema-instance<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="meta">       xsi:schemaLocation=&quot;</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class="string">&quot;&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">    &lt;bean id=&quot;</span>lifecycle<span class="string">&quot; class=&quot;</span>com.pineapple_man.spring.bean.LifeCycle<span class="string">&quot; init-method=&quot;</span>initMethod<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="meta">          destroy-method=&quot;</span>destoryMethod<span class="string">&quot;&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">        &lt;property name=&quot;</span>step<span class="string">&quot; value=&quot;</span>start<span class="string">&quot;&gt;&lt;/property&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">    &lt;/bean&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">    &lt;bean id=&quot;</span>postprocess<span class="string">&quot; class=&quot;</span>com.pineapple_man.spring.bean.PostProcess<span class="string">&quot;&gt;&lt;/bean&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">&lt;/beans&gt;</span></span></span><br></pre></td></tr></table></figure><p>ğŸ¶é¢„å¤„ç†å’Œåå¤„ç†å°†ä¼šä½œç”¨åœ¨æ­¤æ–‡ä»¶çš„æ‰€æœ‰ bean å¯¹è±¡</p><h2 id="xml-è‡ªåŠ¨è£…é…"><a class="header-anchor" href="#xml-è‡ªåŠ¨è£…é…">Â¶</a>xml è‡ªåŠ¨è£…é…</h2><p>âœ¨è‡ªåŠ¨çŠ¶æ€å°±æ˜¯â€”â€”æ ¹æ®æŒ‡å®šè£…é…è§„åˆ™ï¼ˆå±æ€§åç§°æˆ–è€…å±æ€§ç±»å‹ï¼‰ï¼ŒSpring è‡ªåŠ¨å°†åŒ¹é…çš„å±æ€§å€¼è¿›è¡Œæ³¨å…¥</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Java Bean</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AutoInject</span> &#123;</span><br><span class="line"> <span class="keyword">private</span> User user;</span><br><span class="line"> <span class="keyword">private</span> User teacher;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="title function_">AutoInject</span><span class="params">()</span> &#123;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Override</span></span><br><span class="line"> <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;AutoInject&#123;&quot;</span> +</span><br><span class="line">    <span class="string">&quot;user=&quot;</span> + user +</span><br><span class="line">    <span class="string">&quot;, teacher=&quot;</span> + teacher +</span><br><span class="line">    <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setTeacher</span><span class="params">(User teacher)</span> &#123;</span><br><span class="line">  <span class="built_in">this</span>.teacher = teacher;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUser</span><span class="params">(User user)</span> &#123;</span><br><span class="line">  <span class="built_in">this</span>.user = user;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ ¹æ®å±æ€§åç§°è‡ªåŠ¨æ³¨å…¥"><a class="header-anchor" href="#æ ¹æ®å±æ€§åç§°è‡ªåŠ¨æ³¨å…¥">Â¶</a>æ ¹æ®å±æ€§åç§°è‡ªåŠ¨æ³¨å…¥</h3><p>ğŸ¶æ³¨å…¥å€¼ bean çš„ id å€¼å’Œç±»å±æ€§åç§°ä¸€æ ·</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;com.pineapple_man.spring.bean.AutoInject&quot;</span> <span class="attr">id</span>=<span class="string">&quot;autoInject&quot;</span> <span class="attr">autowire</span>=<span class="string">&quot;byName&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;com.pineapple_man.spring.bean.User&quot;</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;tony&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;com.pineapple_man.spring.bean.User&quot;</span> <span class="attr">id</span>=<span class="string">&quot;teacher&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Dany&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="æ ¹æ®å±æ€§ç±»å‹è‡ªåŠ¨æ³¨å…¥"><a class="header-anchor" href="#æ ¹æ®å±æ€§ç±»å‹è‡ªåŠ¨æ³¨å…¥">Â¶</a>æ ¹æ®å±æ€§ç±»å‹è‡ªåŠ¨æ³¨å…¥</h3><p>ğŸ¶ç±»å‹è‡ªåŠ¨æ³¨å…¥åªèƒ½åº”ç”¨åœ¨ç±»ä¸­åªæœ‰è¿™æ ·ä¸€ç§ç±»å‹çš„å±æ€§ï¼Œå¦åˆ™å¯èƒ½æ‰¾ä¸åˆ°æ³¨å…¥å±æ€§</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;com.pineapple_man.spring.bean.AutoInject&quot;</span> <span class="attr">id</span>=<span class="string">&quot;autoInject&quot;</span> <span class="attr">autowire</span>=<span class="string">&quot;byType&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;com.pineapple_man.spring.bean.User&quot;</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;tony&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;com.pineapple_man.spring.bean.User&quot;</span> <span class="attr">id</span>=<span class="string">&quot;teacher&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Dany&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="å¤–éƒ¨å±æ€§æ–‡ä»¶"><a class="header-anchor" href="#å¤–éƒ¨å±æ€§æ–‡ä»¶">Â¶</a>å¤–éƒ¨å±æ€§æ–‡ä»¶</h2><p>å°†å¤–éƒ¨å±æ€§æ–‡ä»¶å†…çš„æ•°æ®ï¼Œå¯¼å…¥åˆ° Spring é…ç½®æ–‡ä»¶ä¸­</p><h3 id="ç›´æ¥é…ç½®æ•°æ®åº“ä¿¡æ¯"><a class="header-anchor" href="#ç›´æ¥é…ç½®æ•°æ®åº“ä¿¡æ¯">Â¶</a>ç›´æ¥é…ç½®æ•°æ®åº“ä¿¡æ¯</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:///t_user&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">45</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> druidTest) &#123;</span><br><span class="line"> <span class="type">ApplicationContext</span> <span class="variable">applicationContext</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;bean.xml&quot;</span>);</span><br><span class="line"> <span class="type">DruidDataSource</span> <span class="variable">dataSource</span> <span class="operator">=</span> applicationContext.getBean(<span class="string">&quot;dataSource&quot;</span>, DruidDataSource.class);</span><br><span class="line"> System.out.println(dataSource.getPassword());</span><br><span class="line"> System.out.println(dataSource.getUsername());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¤–éƒ¨å±æ€§æ–‡ä»¶é…ç½®æ•°æ®åº“è¿æ¥æ± "><a class="header-anchor" href="#å¤–éƒ¨å±æ€§æ–‡ä»¶é…ç½®æ•°æ®åº“è¿æ¥æ± ">Â¶</a>å¤–éƒ¨å±æ€§æ–‡ä»¶é…ç½®æ•°æ®åº“è¿æ¥æ± </h3><h4 id="å¢åŠ -jdbc-properties-æ–‡ä»¶ï¼Œä¿å­˜æ•°æ®åº“ä¿¡æ¯"><a class="header-anchor" href="#å¢åŠ -jdbc-properties-æ–‡ä»¶ï¼Œä¿å­˜æ•°æ®åº“ä¿¡æ¯">Â¶</a>å¢åŠ  jdbc.properties æ–‡ä»¶ï¼Œä¿å­˜æ•°æ®åº“ä¿¡æ¯</h4><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">prop.driverClass</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="attr">prop.url</span>=<span class="string">jdbc:mysql:///</span></span><br><span class="line"><span class="attr">prop.userName</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">prop.password456</span></span><br></pre></td></tr></table></figure><h4 id="Spring-é…ç½®æ–‡ä»¶-v2"><a class="header-anchor" href="#Spring-é…ç½®æ–‡ä»¶-v2">Â¶</a>Spring é…ç½®æ–‡ä»¶</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;0&quot;</span> encoding=<span class="string">&quot;UTF-?&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">&lt;beans xmlns=&quot;</span>http://www.springframework.org/schema/beans<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="meta">       xmlns:xsi=&quot;</span>http://www..org/0XMLSchema-instance<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="meta">       xmlns:context=&quot;</span>http://www.springframework.org/schema/context<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="meta">       xsi:schemaLocation=&quot;</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="line"><span class="meta">http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd<span class="string">&quot;&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">    &lt;!--å¼•å…¥å¤–éƒ¨æ–‡ä»¶--&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">    &lt;context:property-placeholder location=&quot;</span>classpath:jdbc.properties<span class="string">&quot;&gt;&lt;/context:property-placeholder&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">    &lt;bean class=&quot;</span>com.alibaba.druid.pool.DruidDataSource<span class="string">&quot; id=&quot;</span>dataSource<span class="string">&quot;&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">        &lt;property name=&quot;</span>name<span class="string">&quot; value=&quot;</span>$&#123;prop.driverClass&#125;<span class="string">&quot;&gt;&lt;/property&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">        &lt;property name=&quot;</span>url<span class="string">&quot; value=&quot;</span>$&#123;prop.url&#125;<span class="string">&quot;&gt;&lt;/property&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">        &lt;property name=&quot;</span>username<span class="string">&quot; value=&quot;</span>$&#123;prop.userName&#125;<span class="string">&quot;&gt;&lt;/property&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">        &lt;property name=&quot;</span>password<span class="string">&quot; value=&quot;</span>$&#123;prop.password&#125;<span class="string">&quot;&gt;&lt;/property&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">    &lt;/bean&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">&lt;/beans&gt;</span></span></span><br></pre></td></tr></table></figure><h2 id="æ³¨è§£æ–¹å¼ç®¡ç†-Bean"><a class="header-anchor" href="#æ³¨è§£æ–¹å¼ç®¡ç†-Bean">Â¶</a>æ³¨è§£æ–¹å¼ç®¡ç† Bean</h2><p>âœ¨æ³¨è§£ç‰¹ç‚¹</p><ul><li>æ³¨è§£æ˜¯ç‰¹æ®Šæ ‡è®°ï¼Œæ ¼å¼<code>@æ³¨è§£åç§°(å±æ€§åç§°=å±æ€§å€¼,...)</code></li><li>æ³¨è§£ä½œç”¨åœ¨ç±»ä¸Šé¢ï¼Œæ–¹æ³•ä¸Šé¢ï¼Œå±æ€§ä¸Šé¢</li></ul><p>:+ä½¿ç”¨æ³¨è§£æ–¹å¼ç®¡ç† bean çš„ä¼˜ç‚¹</p><ul><li>ç®€åŒ– xml é…ç½®</li><li>ä¾¿äºç¨‹åºé˜…è¯»</li></ul><h3 id="å¯ç”¨æ³¨è§£"><a class="header-anchor" href="#å¯ç”¨æ³¨è§£">Â¶</a>å¯ç”¨æ³¨è§£</h3><blockquote><p>ğŸ¶Sping åˆ›å»ºå¯¹è±¡çš„å››ä¸ªæ³¨è§£ï¼š</p><p><code>@Component</code> &gt; <code>@Service</code><br>. <code>@Controller</code> 4. <code>@Repository</code></p></blockquote><p>ğŸ¶ä¸Šé¢å››ä¸ªæ³¨è§£åŠŸèƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯å¯ä»¥ç”¨æ¥åˆ›å»º bean å®ä¾‹</p><h3 id="åŸºäºæ³¨è§£æ–¹å¼å®ç°å¯¹è±¡åˆ›å»º"><a class="header-anchor" href="#åŸºäºæ³¨è§£æ–¹å¼å®ç°å¯¹è±¡åˆ›å»º">Â¶</a>.åŸºäºæ³¨è§£æ–¹å¼å®ç°å¯¹è±¡åˆ›å»º</h3><p>ä¸»è¦å…±åˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤</p><h4 id="å¼•å…¥ä¾èµ–"><a class="header-anchor" href="#å¼•å…¥ä¾èµ–">Â¶</a>å¼•å…¥ä¾èµ–</h4><p>åœ¨é¡¹ç›®ä¸­å¼•å…¥<code>spring-aop-5.RELEASE.jar</code>åŒ…</p><h4 id="ç»„ä»¶æ‰«æé…ç½®"><a class="header-anchor" href="#ç»„ä»¶æ‰«æé…ç½®">Â¶</a>ç»„ä»¶æ‰«æé…ç½®</h4><p>åœ¨ Spring é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œç»„ä»¶æ‰«æé…ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;0&quot;</span> encoding=<span class="string">&quot;UTF-?&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">&lt;beans xmlns=&quot;</span>http://www.springframework.org/schema/beans<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="meta">       xmlns:xsi=&quot;</span>http://www..org/0XMLSchema-instance<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="meta">       xmlns:context=&quot;</span>http://www.springframework.org/schema/context<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="meta">       xsi:schemaLocation=&quot;</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="line"><span class="meta">http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd<span class="string">&quot;&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">    &lt;context:component-scan base-package=&quot;</span>com.pineapple_man.spring.aop<span class="string">&quot;&gt;&lt;/context:component-scan&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">&lt;/beans&gt;</span></span></span><br></pre></td></tr></table></figure><p>ğŸ¶ç»„ä»¶æ‰«ææ³¨æ„ç‚¹</p><ul><li>å¦‚æœæ‰«æå¤šä¸ªåŒ…ï¼Œå¤šä¸ªåŒ…ä¹‹é—´ä½¿ç”¨é€—å·éš”å¼€</li><li>å¦‚æœä¸€ä¸ªç›®å½•ä¸­æœ‰å¤šä¸ªç±»è¿›è¡Œæ‰«æï¼Œåˆ™é…ç½®è‡ªåŠ¨æ‰«æä¸Šå±‚ç›®å½•</li></ul><h4 id="Spring-æ‰˜ç®¡åˆ›å»ºå®ä¾‹"><a class="header-anchor" href="#Spring-æ‰˜ç®¡åˆ›å»ºå®ä¾‹">Â¶</a>Spring æ‰˜ç®¡åˆ›å»ºå®ä¾‹</h4><p>ä¹¦å†™ Java Beanï¼Œåœ¨ç±»ä¸Šæ·»åŠ åˆ›å»ºå¯¹è±¡æ³¨è§£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component(value = &quot;aopUserService&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AopUserService</span> &#123;</span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">  System.out.println(<span class="string">&quot;from AopUserService method&quot;</span>);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ğŸ¶<code>@Component(value)</code>ä¸­çš„<code>value</code>å±æ€§æ˜¯å¯ä»¥çœç•¥ä¸å†™çš„ï¼Œé»˜è®¤å€¼æ˜¯ï¼š<strong>é¦–å­—æ¯å°å†™çš„ç±»å</strong>ï¼Œå¦‚æœä¹¦å†™äº†ï¼Œvalue ç­‰ä»·ä¸<code>&lt;bean&gt;</code>ä¸­çš„ id å±æ€§</p><h3 id="ç»„ä»¶æ‰«æè¯¦ç»†é…ç½®"><a class="header-anchor" href="#ç»„ä»¶æ‰«æè¯¦ç»†é…ç½®">Â¶</a>ç»„ä»¶æ‰«æè¯¦ç»†é…ç½®</h3><p>å®ç°æ‰«æè¿‡æ»¤å™¨é…ç½®ï¼Œå¯ä»¥é€‰æ‹©åœ¨åŒ…ä¸­ï¼Œé»˜è®¤æ‰«æé‚£äº›ç±»ï¼Œä¸æ‰«æé‚£äº›ç±»</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;0&quot;</span> encoding=<span class="string">&quot;UTF-?&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">&lt;beans xmlns=&quot;</span>http://www.springframework.org/schema/beans<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="meta">       xmlns:xsi=&quot;</span>http://www..org/0XMLSchema-instance<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="meta">       xmlns:context=&quot;</span>http://www.springframework.org/schema/context<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="meta">       xsi:schemaLocation=&quot;</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="line"><span class="meta">http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd<span class="string">&quot;&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">    &lt;context:component-scan base-package=&quot;</span>com.pineapple_man.spring.aop<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="meta">                            use-default-filters=&quot;</span>false<span class="string">&quot;&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">  &lt;!--é»˜è®¤ä»…æ‰«ææ‹¥æœ‰ @Component æ³¨è§£çš„ç±»--&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">        &lt;context:include-filter type=&quot;</span>annotation<span class="string">&quot; expression=&quot;</span>org.springframework.stereotype.Component<span class="string">&quot;/&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">        &lt;context:exclude-filter type=&quot;</span>annotation<span class="string">&quot; expression=&quot;</span>org.springframework.stereotype.Component<span class="string">&quot;/&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">    &lt;/context:component-scan&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">&lt;/beans&gt;</span></span></span><br></pre></td></tr></table></figure><p>âœ¨æ‰«æè¿‡æ»¤å™¨ç‰¹ç‚¹</p><p><code>use-default-filters=&quot;false&quot;</code>ï¼šè¡¨ç¤ºä¸é€‚ç”¨é»˜è®¤è¿‡æ»¤å™¨ï¼Œç”¨æˆ·è‡ªå·±é…ç½®è¿‡æ»¤å™¨<br><code>&lt;context:include-filter type=&quot;&quot; expression=&quot;&quot;&gt;</code>ï¼šè®¾ç½®é‚£äº›å†…å®¹è¿›è¡Œæ‰«æ<br><code>&lt;context:exclude-filter type=&quot;&quot; expression=&quot;&quot;&gt;</code>ï¼šè®¾ç½®é‚£äº›å†…å®¹ä¸è¿›è¡Œæ‰«æ</p><h2 id="æ³¨è§£æ–¹å¼å®ç°å±æ€§æ³¨å…¥"><a class="header-anchor" href="#æ³¨è§£æ–¹å¼å®ç°å±æ€§æ³¨å…¥">Â¶</a>æ³¨è§£æ–¹å¼å®ç°å±æ€§æ³¨å…¥</h2><table><thead><tr><th style="text-align:center">æ³¨è§£</th><th style="text-align:center">å«ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center"><code>@Autowired</code></td><td style="text-align:center">æ ¹æ®å±æ€§ç±»å‹è¿›è¡Œè‡ªåŠ¨è£…é…</td></tr><tr><td style="text-align:center"><code>@Qualifier</code></td><td style="text-align:center">æ ¹æ®åç§°è¿›è¡Œæ³¨å…¥ï¼Œéœ€è¦å’Œ<code>@Autowired</code>ä¸€èµ·ä½¿ç”¨</td></tr><tr><td style="text-align:center"><code>@Resource</code></td><td style="text-align:center">å¯ä»¥æ ¹æ®ç±»å‹æ³¨å…¥ä¹Ÿå¯ä»¥æ ¹æ®åç§°æ³¨å…¥</td></tr><tr><td style="text-align:center"><code>@Value</code></td><td style="text-align:center">æ³¨å…¥æ™®é€šç±»å‹å±æ€§</td></tr></tbody></table><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Repository(value = &quot;aopDao&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AopDao</span> &#123;</span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">  System.out.println(<span class="string">&quot;From aopDao method&quot;</span>);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="Autowired"><a class="header-anchor" href="#Autowired">Â¶</a>@Autowired</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component(value = &quot;aopUserService&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AopUserService</span> &#123;</span><br><span class="line"> <span class="meta">@Autowired</span></span><br><span class="line"> <span class="keyword">private</span> AopDao aopDao;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">  System.out.println(<span class="string">&quot;from AopUserService method&quot;</span>);</span><br><span class="line">  aopDao.method();</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ğŸ¶<code>@Autowired</code>æ³¨è§£ä¸éœ€è¦å±æ€§å…·æœ‰<code>setXxx()</code>æ–¹æ³•</p><h3 id="Qualifier"><a class="header-anchor" href="#Qualifier">Â¶</a>@Qualifier</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component(value = &quot;aopUserService&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AopUserService</span> &#123;</span><br><span class="line"> <span class="meta">@Autowired</span></span><br><span class="line"> <span class="meta">@Qualifier(value = &quot;aopDao&quot;)</span></span><br><span class="line"> <span class="keyword">private</span> AopDao aopDao;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">  System.out.println(<span class="string">&quot;from AopUserService method&quot;</span>);</span><br><span class="line">  aopDao.method();</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ğŸ¶æ ¹æ®åç§°( id )æ³¨å…¥ï¼Œéœ€è¦å’Œ<code>@Autowired</code>ä¸€èµ·ä½¿ç”¨</p><h3 id="Resource"><a class="header-anchor" href="#Resource">Â¶</a>@Resource</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component(value = &quot;aopUserService&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AopUserService</span> &#123;</span><br><span class="line"> <span class="meta">@Resource(name = &quot;aopDao&quot;)</span></span><br><span class="line"> <span class="keyword">private</span> AopDao aopDao;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">  System.out.println(<span class="string">&quot;from AopUserService method&quot;</span>);</span><br><span class="line">  aopDao.method();</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ğŸ¶<code>@Resource</code>å¯ä»¥æ ¹æ®ç±»å‹æ³¨å…¥ï¼Œä¹Ÿå¯ä»¥æ ¹æ®åç§°æ³¨å…¥</p><ul><li><code>@Resource</code>ï¼šæ ¹æ®ç±»å‹è¿›è¡Œæ³¨å…¥</li><li><code>@Resource(name = &quot;aopDao&quot;)</code>ï¼šæ ¹æ®åç§°è¿›è¡Œæ³¨å…¥</li><li>æ­¤æ³¨è§£æ‰€åœ¨çš„åŒ…æ˜¯<code>javax.annotation.Resource</code></li></ul><h3 id="Value"><a class="header-anchor" href="#Value">Â¶</a>@Value</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component(value = &quot;aopUserService&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AopUserService</span> &#123;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Resource(name = &quot;aopDao&quot;)</span></span><br><span class="line"> <span class="keyword">private</span> AopDao aopDao;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Value(&quot;pineapple-man&quot;)</span></span><br><span class="line"> <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">  System.out.println(<span class="string">&quot;from AopUserService method&quot;</span>);</span><br><span class="line">  aopDao.method();</span><br><span class="line">  System.out.println(name);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ğŸ¶å¯¹æ™®é€šç±»å‹å±æ€§è¿›è¡Œæ³¨å…¥</p><h2 id="å®Œå…¨æ³¨è§£å¼€å‘"><a class="header-anchor" href="#å®Œå…¨æ³¨è§£å¼€å‘">Â¶</a>å®Œå…¨æ³¨è§£å¼€å‘</h2><p>ä¸å†éœ€è¦å†—é•¿çš„é…ç½®æ–‡ä»¶ï¼Œä½¿ç”¨ä¸€ä¸ªé…ç½®ç±»ä»£æ›¿æ‰€æœ‰çš„é…ç½®æ–‡ä»¶</p><h3 id="æ³¨è§£é…ç½®ç±»"><a class="header-anchor" href="#æ³¨è§£é…ç½®ç±»">Â¶</a>æ³¨è§£é…ç½®ç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(basePackages = &#123;&quot;com.pineapple_man.spring.aop&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>âœ¨æ³¨è§£ç±»ç‰¹ç‚¹</p><ul><li><code>@Configuration</code>é…ç½®ç±»æ³¨è§£ï¼Œå£°æ˜å½“å‰ç±»æ˜¯é…ç½®ç±»</li><li><code>@ComponentScan(basePackages = &#123;&quot;com&quot;&#125;)</code>è‡ªåŠ¨æ‰«æåŒ…æ³¨è§£</li></ul><h3 id="æµ‹è¯•æ–¹æ³•"><a class="header-anchor" href="#æµ‹è¯•æ–¹æ³•">Â¶</a>æµ‹è¯•æ–¹æ³•</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">annotationConfigTest</span><span class="params">()</span> &#123;</span><br><span class="line"> <span class="type">ApplicationContext</span> <span class="variable">applicationContext</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigApplicationContext</span>(SpringConfig.class);</span><br><span class="line"> <span class="type">AopUserService</span> <span class="variable">aopUserService</span> <span class="operator">=</span> applicationContext.getBean(<span class="string">&quot;aopUserService&quot;</span>, AopUserService.class);</span><br><span class="line">  aopUserService.method();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><div id="post-footer" class="post-footer main-content-wrap"><div class="post-footer-tags"><span class="text-color-light text-small">æ ‡ç­¾</span><br><a class="tag tag--primary tag--small t-none-link" href="/tags/Spring/" rel="tag">Spring</a></div><div class="post-actions-wrap"><nav><ul class="post-actions post-action-nav"><li class="post-action"><a class="post-action-btn btn btn--default tooltip--top" href="/mybatis-%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B/" data-tooltip="MyBatis é€†å‘å·¥ç¨‹" aria-label="ä¸Šä¸€ç¯‡: MyBatis é€†å‘å·¥ç¨‹"><i class="fa fa-angle-left" aria-hidden="true"></i> <span class="hide-xs hide-sm text-small icon-ml">ä¸Šä¸€ç¯‡</span></a></li><li class="post-action"><a class="post-action-btn btn btn--default tooltip--top" href="/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E6%8C%91%E6%88%98/" data-tooltip="å¹¶å‘ç¼–ç¨‹æŒ‘æˆ˜" aria-label="ä¸‹ä¸€ç¯‡: å¹¶å‘ç¼–ç¨‹æŒ‘æˆ˜"><span class="hide-xs hide-sm text-small icon-mr">ä¸‹ä¸€ç¯‡</span> <i class="fa fa-angle-right" aria-hidden="true"></i></a></li></ul></nav><ul class="post-actions post-action-share"><li class="post-action hide-lg hide-md hide-sm"><a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Diesen Beitrag teilen"><i class="fa fa-share-alt" aria-hidden="true"></i></a></li><li class="post-action"><a class="post-action-btn btn btn--default" href="#table-of-contents" aria-label="ç›®å½•"><i class="fa fa-list" aria-hidden="true"></i></a></li></ul></div></div></article><script type="text/x-mathjax-config">MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
  });
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });</script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@2.7.8/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><footer id="footer" class="main-content-wrap"><span class="copyrights">Copyrights &copy; 2023 pineapple-man. All Rights Reserved.</span><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><br>Total <span id="busuanzi_value_site_pv"></span> views. æ‚¨æ˜¯pineapple-mançš„ç¬¬<span id="busuanzi_value_site_uv"></span>ä¸ªå°ä¼™ä¼´<br><i class="fas fa-book-open"></i> <span class="post-count">åšå®¢å­—æ•°ç»Ÿè®¡ï¼š370.7k</span><script src="https://unpkg.com/mermaid@7.1.2/dist/mermaid.min.js"></script><script>window.mermaid&&mermaid.initialize({theme:"forest"})</script></footer></div><div id="bottom-bar" class="post-bottom-bar" data-behavior="5"><div class="post-actions-wrap"><nav><ul class="post-actions post-action-nav"><li class="post-action"><a class="post-action-btn btn btn--default tooltip--top" href="/mybatis-%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B/" data-tooltip="MyBatis é€†å‘å·¥ç¨‹" aria-label="ä¸Šä¸€ç¯‡: MyBatis é€†å‘å·¥ç¨‹"><i class="fa fa-angle-left" aria-hidden="true"></i> <span class="hide-xs hide-sm text-small icon-ml">ä¸Šä¸€ç¯‡</span></a></li><li class="post-action"><a class="post-action-btn btn btn--default tooltip--top" href="/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E6%8C%91%E6%88%98/" data-tooltip="å¹¶å‘ç¼–ç¨‹æŒ‘æˆ˜" aria-label="ä¸‹ä¸€ç¯‡: å¹¶å‘ç¼–ç¨‹æŒ‘æˆ˜"><span class="hide-xs hide-sm text-small icon-mr">ä¸‹ä¸€ç¯‡</span> <i class="fa fa-angle-right" aria-hidden="true"></i></a></li></ul></nav><ul class="post-actions post-action-share"><li class="post-action hide-lg hide-md hide-sm"><a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Diesen Beitrag teilen"><i class="fa fa-share-alt" aria-hidden="true"></i></a></li><li class="post-action"><a class="post-action-btn btn btn--default" href="#table-of-contents" aria-label="ç›®å½•"><i class="fa fa-list" aria-hidden="true"></i></a></li></ul></div></div></div><div id="about"><div id="about-card"><div id="about-btn-close"><i class="fa fa-times"></i></div><img id="about-card-picture" src="/assets/images/logo.png" alt="ä½œè€…çš„å›¾ç‰‡"><h4 id="about-card-name">pineapple-man</h4><div id="about-card-bio"><p>åšä¸€ä¸ªè èï¼šç«™å¾—ç¬”ç›´ï¼Œå¤´æˆ´ç‹å† ï¼Œå†…å¿ƒç”œç¾</p></div><div id="about-card-job"><i class="fa fa-briefcase"></i><br><p>åˆšæ¯•ä¸šå°±å¤±ä¸š</p></div><div id="about-card-location"><i class="fa fa-map-marker-alt"></i><br>è¥¿å®‰</div></div></div><div id="cover" style="background-image:url(/assets/images/cover-v1.2.0.jpg)"></div><script src="/assets/js/script-kcoiyt1nxfue7qgcpkrcixymglcc3cuxeg98fy01hqww4nblnhd2ees6j6yc.min.js"></script></body></html>