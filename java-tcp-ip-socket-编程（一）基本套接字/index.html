<!DOCTYPE html><html lang="zh-cn"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="pineapple-man"><title>Java TCP/IP Socket ç¼–ç¨‹ï¼ˆä¸€ï¼‰åŸºæœ¬å¥—æ¥å­— - pineapple-man</title><meta name="author" content="pineapple-man"><meta name="keywords" content="ç½‘ç»œ"><link rel="icon" href="https://pineapple-man.github.io/assets/images/logo.svg"><script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"pineapple-man","sameAs":["https://github.com/pineapple-man","mailto://mingchaohu720@gmail.com"],"image":"logo.png"},"articleBody":"\nÂ¶ç½‘ç»œåŸºç¡€\nâœ¨ UDP(ç”¨æˆ·æ•°æ®åŒ…åè®®)ï¼Œæ˜æ˜¾çš„ç‰¹ç‚¹å¦‚ä¸‹ï¼š\n\nå°†æ•°æ®æ‰“åŒ…(æœ€å¤§ä¸è¶…è¿‡ 64K)\nä¸å»ºç«‹è¿æ¥\né€Ÿåº¦å¿«\nä¸å¯é \n\n\nâœ¨ TCP åè®®ï¼Œå…·æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š\n\nå»ºç«‹è¿æ¥é€šé“\næ•°æ®æ— é™åˆ¶\né€Ÿåº¦æ…¢\nå¯é \n\n\nsocketï¼ˆå¥—æ¥å­—ï¼‰æ˜¯ä¸€ç§æŠ½è±¡å±‚ï¼Œåº”ç”¨ç¨‹åºé€šè¿‡å®ƒæ¥å‘é€å’Œæ¥å—æ•°æ®ï¼Œå°±åƒåº”ç”¨ç¨‹åºæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶å¥æŸ„ï¼Œå°†æ•°æ®è¯»å†™åˆ°ç¨³å®šçš„å­˜å‚¨å™¨ä¸Šä¸€æ ·ã€‚ä½¿ç”¨ socket å¯ä»¥å°†åº”ç”¨ç¨‹åºæ·»åŠ åˆ°ç½‘ç»œä¸­ï¼Œå¹¶ä¸å¤„äºåŒä¸€ä¸ªç½‘ç»œä¸­çš„å…¶ä»–åº”ç”¨ç¨‹åºè¿›è¡Œé€šä¿¡ã€‚ä¸€å°è®¡ç®—æœºä¸Šçš„åº”ç”¨ç¨‹åºå‘ socket å†™å…¥çš„ä¿¡æ¯èƒ½å¤Ÿè¢«å¦ä¸€å°è®¡ç®—æœºä¸Šçš„å¦ä¸€ä¸ªåº”ç”¨ç¨‹åºè¯»å–ï¼Œåä¹‹äº¦ç„¶ã€‚\nä¸åŒç±»å‹çš„ socket ä¸ä¸åŒç±»å‹çš„åº•å±‚åè®®æ—ä»¥åŠåŒä¸€åè®®æ—ä¸­çš„ä¸åŒåè®®æ ˆç›¸å…³è”ï¼Œç›®å‰ TCP/IP åè®®æ—ä¸­çš„ä¸»è¦ socket ç±»å‹ä¸º æµå¥—æ¥å­—ï¼ˆstream socketï¼‰å’Œæ•°æ®åŒ…å¥—æ¥å­—ï¼ˆdatagram socketï¼‰\n\næµå¥—æ¥å­—å°† TCP ä½œä¸ºå…¶ç«¯å¯¹ç«¯åè®®ï¼ˆåº•å±‚ä½¿ç”¨ IP åè®®ï¼‰ï¼Œæä¾›äº†ä¸€ä¸ªå¯ä¿¡èµ–çš„å­—èŠ‚æµæœåŠ¡ã€‚ä¸€ä¸ª TCP/IP æµå¥—æ¥å­—ä»£è¡¨äº† TCP è¿æ¥çš„ä¸€ç«¯\næ•°æ®æŠ¥å¥—æ¥å­—ä½¿ç”¨ UDP åè®®ï¼ˆåº•å±‚åŒæ ·é€‚ç”¨ IP åè®®ï¼‰ï¼Œæä¾›äº†ä¸€ä¸ª best-effort çš„æ•°æ®æŠ¥æœåŠ¡ï¼Œåº”ç”¨ç¨‹åºå¯ä»¥é€šè¿‡å®ƒå‘é€æœ€é•¿ 65500 å­—èŠ‚çš„ä¿¡æ¯ã€‚\n\n\nä¸€ä¸ª TCP/IP å¥—æ¥å­—ç”±ä¸€ä¸ªäº’è”ç½‘åœ°å€ï¼Œä¸€ä¸ªç«¯å¯¹ç«¯åè®®ï¼ˆTCP åè®®æˆ– UDP åè®®ï¼‰ä»¥åŠä¸€ä¸ªç«¯å£å·å”¯ä¸€ç¡®å®šï¼Œä¸‹å›¾æè¿°äº†ä¸€ä¸ªä¸»æœºä¸­ï¼Œåº”ç”¨ç¨‹åºã€å¥—æ¥å­—æŠ½è±¡å±‚ã€åè®®ã€ç«¯å£å·ä¹‹é—´çš„é€»è¾‘å…³ç³»ã€‚ä¸€ä¸ªå¥—æ¥å­—æŠ½è±¡å±‚å¯ä»¥è¢«å¤šä¸ªåº”ç”¨ç¨‹åºå¼•ç”¨ã€‚\n\nSocket å…·æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š\n\né€šä¿¡çš„ä¸¤ç«¯éƒ½æœ‰socket\nç½‘ç»œé€šä¿¡å…¶å®å°±æ˜¯ Socket é—´çš„é€šä¿¡\næ•°æ®åœ¨ä¸¤ä¸ª Socket é—´é€šè¿‡ IO æµä¼ è¾“æ•°æ®\n\n\nJava Socket å¸¸è§æ“ä½œ\n\nÂ¶InetAddress ç±»\nInetAddress ç±»ä»£è¡¨äº†ä¸€ä¸ªç½‘ç»œç›®æ ‡åœ°å€ï¼ŒåŒ…æ‹¬ä¸»æœºåå’Œæ•°å­—ç±»å‹çš„åœ°å€ä¿¡æ¯ã€‚è¯¥ç±»æœ‰ä¸¤ä¸ªå­ç±»ï¼šInet4Addresså’ŒInet6Address\næ­¤ç±»ä¸»è¦è¿›è¡Œ IP åœ°å€ç›¸å…³æ“ä½œï¼Œæ­¤ç±»æ²¡æœ‰å¯ä»¥è®¿é—®çš„æ„é€ æ–¹æ³•\nä¸€ä¸ªç±»æ²¡æœ‰å¯ä»¥è®¿é—®çš„æ„é€ æ–¹æ³•,å¯èƒ½æ˜¯å¦‚ä¸‹ä¸‰ç§æƒ…å†µ:\n\næˆå‘˜å…¨éƒ¨éƒ½æ˜¯é™æ€çš„(Math,Arrays,Collections)\nå•ä¾‹æ¨¡å¼(Runtime ç±»)\nç±»ä¸­æœ‰é™æ€æ–¹æ³•è¿”å›è¯¥ç±»çš„å¯¹è±¡(InetAddress)\n\n\nÂ¶æˆå‘˜æ–¹æ³•\n12345678//æ ¹æ®ä¸»æœºåæˆ–è€…IPåœ°å€çš„å­—ç¬¦ä¸²å¾—åˆ°IPåœ°å€å¯¹è±¡,æ­¤å¯¹è±¡åŒ…å«ä¸»æœºåä»¥åŠIPåœ°å€çš„ä¿¡æ¯public static InetAddress getByName(String host)throws UnknownHostException;//è·å–æœ¬æœºHostnameä»¥åŠIPpublic static InetAddress getLocalHost()throws UnknownHostException;//è·å–æœ¬æœºä¸»æœºåpublic String getHostName();//è·å–æœ¬æœºIPpublic String getHostAddress();\nä¸çŸ¥é“ä»»ä½•ä¿¡æ¯æ—¶ï¼Œå¾—åˆ°å½“å‰ä¸»æœºçš„ä¸»æœºåä»¥åŠ IP åœ°å€\n123456789101112131415public static void main(String[] args) &#123;  try &#123;    InetAddress inetAddress = InetAddress.getLocalHost();    //å°†æ˜¾ç¤ºè¿è¡Œå½“å‰ç¨‹åºçš„â€ä¸»æœºå/IPåœ°å€â€œ    System.out.println(inetAddress);    //è·å–ä¸»æœºåœ°å€    String IP = InetAddress.getLocalHost().getHostAddress();    System.out.println(IP);    //è·å–ä¸»æœºå    String name = InetAddress.getLocalHost().getHostName();    System.out.println(name);  &#125; catch (UnknownHostException e) &#123;    e.printStackTrace();  &#125;&#125;\nçŸ¥é“ä¸»æœºåæˆ–è€… IP åœ°å€å¾—åˆ°å¦ä¸€ä¸ªä¿¡æ¯\n1234//ç”±ä¸»æœºåæˆ–è€…IPè·å¾—å½“å‰InetAddresså¯¹è±¡InetAddress address = InetAddress.getByName(&quot;Hostname&quot;);System.out.println(address.getHostName());System.out.println(address.getHostAddress());\nÂ¶UDP ç›¸å…³ API\næœ¬å°èŠ‚ä¸»è¦è®°å½•ä¸ UDP ç›¸å…³çš„ APIï¼Œä¸æ¶‰åŠæ•°æ®è´¨é‡è¦æ±‚æ—¶ï¼ŒUDP ä½¿ç”¨çš„è¿˜æ˜¯éå¸¸å¤šçš„ã€‚Java ä¸­ä¸ UDP ç›¸å…³çš„ä¸»è¦æ˜¯å¦‚ä¸‹ä¸¤ä¸ªç±»ï¼šDatagramSocketå’ŒDatagramPacket\nÂ¶DatagramSocket\næ˜¯ UDPSocket çš„ä¸»è¦ç±»\nÂ¶æ„é€ æ–¹æ³•\n1234//å¸¸ç”¨æ— å‚æ„é€ æ–¹æ³•DatagramSocket();DatagramSocket(int port);DatagramSocket(int port, InetAddress laddr);\nÂ¶æˆå‘˜æ–¹æ³•\n12345678910//å°† UDPSocket ç»‘å®šåˆ°æ˜ç¡®çš„ socket å¯¹è±¡ä¸Špublic void bind(SocketAddress addr)throws SocketException;public void disconnect();public boolean isBound();public boolean isConnected();public boolean isClosed();//é‡‡ç”¨ UDP åè®®å‘é€æ•°æ®public void send(DatagramPacket p)throws IOException;//æ¥å— UDP åè®®å‘é€æ¥çš„æ•°æ®ï¼Œé˜»å¡å¼public void receive(DatagramPacket p)throws IOException;\nÂ¶DatagramPacket\nUDP æ•°æ®åŒ…å¯¹è±¡ï¼Œåœ¨ UDP é€šä¿¡æ—¶ï¼Œæ‰“åŒ… UDP å‘é€çš„æ•°æ®\nÂ¶æ„é€ æ–¹æ³•\n1234//æ¥æ”¶æ–¹åˆå§‹åŒ–DatagramPacket(byte[] buf,int length);//å‘é€æ–¹åˆå§‹åŒ–æ–¹å¼ï¼ŒæŒ‡æ˜æ¥æ”¶æ–¹ Socket(IP,port),æ•°æ®åŒ…ä»¥åŠæ•°æ®é•¿åº¦DatagramPacket(byte[] buf, int length, InetAddress address, int port);\nÂ¶æˆå‘˜æ–¹æ³•\n123456//è¿”å›æ­¤æ•°æ®åŒ…çš„IPåœ°å€æ¥æºpublic InetAddress getAddress();//æ¥æ”¶æ–¹è°ƒç”¨è¿”å›æ¥å—ç«¯æ¥å—æ•°æ®çš„ç«¯å£å·ï¼›å‘é€æ–¹è°ƒç”¨è¿”å›å‘é€æ–¹çš„å‘é€ç«¯å£public int getPort();//è¿”å›å‘ç”Ÿæ•°æ®çš„é•¿åº¦æˆ–è€…æ¥å—åˆ°çš„æ•°æ®çš„é•¿åº¦public int getLength();\nÂ¶å‘é€æ•°æ®æ­¥éª¤\nä¸»è¦æ­¥éª¤å¦‚ä¸‹:\n\nåˆ›å»ºå‘é€ç«¯ Socket å¯¹è±¡\nåˆ›å»ºæ•°æ®,å¹¶æŠŠæ•°æ®æ‰“åŒ…\nè°ƒç”¨ Socket å¯¹è±¡çš„å‘é€æ–¹æ³•å‘é€æ•°æ®åŒ…\né‡Šæ”¾èµ„æº\n\n\n1234567891011//åˆ›å»ºä¸€ä¸ªUDPSocketå¯¹è±¡DatagramSocket datagramSocket = new DatagramSocket();byte[] bytes = &quot;hello,udp,java&quot;.getBytes();//æ•°æ®æ‰“åŒ…DatagramPacket datagramPacket =  //æŒ‡å®š localhost:10086 å‘é€ udp æ•°æ®åŒ…\tnew DatagramPacket(bytes, bytes.length, InetAddress.getLocalHost(), 10086);//å‘é€æ•°æ®datagramSocket.send(datagramPacket);//å…³é—­Socketå¯¹è±¡ï¼Œé‡Šæ”¾èµ„æºdatagramSocket.close();\nÂ¶æ¥å—æ•°æ®æ­¥éª¤\nUDP æ¥å—æ•°æ®æ­¥éª¤ï¼š\n\nåˆ›å»ºæ¥æ”¶ç«¯ Socket å¯¹è±¡\nåˆ›å»ºä¸€ä¸ªæ•°æ®åŒ…(æ¥å—å®¹å™¨)\nè°ƒç”¨ Socket å¯¹è±¡çš„æ¥æ”¶æ–¹æ³•æ¥å—æ•°æ®\nè§£ææ•°æ®åŒ…ï¼Œå¹¶æ˜¾ç¤ºåœ¨æ§åˆ¶å°\né‡Šæ”¾èµ„æº\n\n\n123456789101112131415public static void main(String[] args) throws IOException &#123;  // åˆ›å»ºæ¥å—ç«¯ Socket å¯¹è±¡  DatagramSocket datagramSocket = new DatagramSocket(10086);  // åˆ›å»ºæ¥å—ç«¯æ•°æ®åŒ…  byte[] bytes = new byte[1024];  DatagramPacket datagramPacket = new DatagramPacket(bytes, bytes.length);  // è°ƒç”¨Socketå¯¹è±¡çš„æ¥å—æ–¹æ³•  datagramSocket.receive(datagramPacket);  // è§£ææ•°æ®  String address = datagramPacket.getAddress().getHostAddress();  String data = new String(datagramPacket.getData(), 0, datagramPacket.getLength());  System.out.println(address + &quot;data is :&quot; + data);  // é‡Šæ”¾èµ„æº  datagramSocket.close();&#125;\nÂ¶TCP ç›¸å…³ API\nTCP åè®®ä¸­çš„å‘é€æ•°æ®æ–¹ç§°ä¸ºå®¢æˆ·ç«¯(Client)ï¼Œæ¥æ”¶æ•°æ®æ–¹ç§°ä¸ºæœåŠ¡ç«¯(Server)\nÂ¶Client æ–¹ API\nTCP åè®® Client ç«¯çš„ Socket å¯¹è±¡\nÂ¶æ„é€ æ–¹æ³•\n123Socket();//åˆ›å»ºä¸€ä¸ªæœªå»ºç«‹è¿æ¥çš„SocketSocket(InetAddress address, int port);//åˆ›å»ºä¸€ä¸ª&lt;address,port&gt;å»ºç«‹è¿æ¥çš„socketå¯¹è±¡Socket(String host, int port);//hostå¯ä»¥æ˜¯ipåœ°å€çš„æ ¼å¼\nÂ¶æˆå‘˜æ–¹æ³•\n123456//è·å–å½“å‰TCPæ•°æ®æµ,è€Œåä½¿ç”¨I/Oæµå†™æ•°æ®public OutputStream getOutputStream()throws IOException;public InputStream getInputStream()throws IOException;public InetAddress getInetAddress();public void shutdownInput()throws IOException;public void shutdownOutput()throws IOException;\nÂ¶TCP æŠ¥æ–‡æ¥å—æ•°æ®æ­¥éª¤\n\nåˆ›å»ºæ¥å—ç«¯çš„ Socket å¯¹è±¡\nç›‘å¬å®¢æˆ·ç«¯,è¿”å›ä¸€ä¸ªå¯¹åº”çš„ Socket å¯¹è±¡\nè·å–è¾“å…¥æµï¼Œè¯»å–æ•°æ®æ˜¾ç¤ºåœ¨æ§åˆ¶å°\né‡Šæ”¾èµ„æº\n\n\n123456789101112131415public static void main(String[] args) throws IOException &#123;  //åˆ›å»ºæ¥å—ç«¯çš„Socketå¯¹è±¡  ServerSocket serverSocket = new ServerSocket(10086);  //ä¾¦å¬å¹¶æ¥å—æ­¤å¥—æ¥å­—ï¼Œæ­¤æ–¹æ³•åœ¨è¿æ¥å»ºç«‹ä¹‹å‰ä¸€ç›´é˜»å¡\tSocket accept = serverSocket.accept();  //è·å–è¾“å…¥æµ  InputStream inputStream = accept.getInputStream();  byte[] bytes = new byte[1024];  //é˜»å¡å¼æ–¹æ³•  int len = inputStream.read(bytes);  System.out.println(\taccept.getInetAddress().getHostAddress() + &quot;-----&quot; + new String(bytes, 0, len));  //é‡Šæ”¾èµ„æº  accept.close();&#125;\nÂ¶Server æ–¹ API\nTCP åè®® Server ç«¯ Socket å¯¹è±¡\nÂ¶æ„é€ æ–¹æ³•\n12345//åˆ›å»ºä¸€ä¸ªæ²¡æœ‰ç»‘å®šçš„æœåŠ¡ç«¯SocketServerSocket();//åˆ›å»ºä¸€ä¸ªæœ¬æœºç›‘å¬ç‰¹å®šç«¯å£çš„æœåŠ¡å™¨ç«¯SocketServerSocket(int port);\nÂ¶æˆå‘˜æ–¹æ³•\n1234//ç›‘å¬å®¢æˆ·ç«¯ï¼Œè¿”å›ä¸€ä¸ªå¯¹åº”çš„Socketå¯¹è±¡public Socket accept()throws IOException;//è·å–å½“å‰Socketå¯¹è±¡çš„è¾“å…¥æµæ•°æ®public InputStream getInputStream()throws IOException;\nÂ¶TCP æŠ¥æ–‡å‘é€æµç¨‹\n\nåˆ›å»ºå‘é€ç«¯çš„ Socket å¯¹è±¡ï¼Œè¿™ä¸€æ­¥å¦‚æœæˆåŠŸï¼Œè¯´æ˜è¿æ¥å·²ç»å»ºç«‹æˆåŠŸ\nè·å–æ•°æ®æµï¼Œå†™æ•°æ®\né‡Šæ”¾èµ„æº\n\n\nğŸ¶java.net.ConnectExceptionï¼šè¿æ¥è¢«æ‹’ç»ï¼ŒTCP åè®®ä¸€å®šè¦å…ˆæ‰“å¼€æœåŠ¡å™¨ï¼Œè€Œåå‘é€æ•°æ®ï¼Œå¦åˆ™è¿æ¥å»ºç«‹å¤±è´¥\n12345678public static void main(String[] args) throws IOException &#123;  // åˆ›å»º TCPsocket å¯¹è±¡  Socket socket = new Socket(InetAddress.getLocalHost(), 10086);  // è·å–è¾“å‡ºæ•°æ®æµ  OutputStream outputStream = socket.getOutputStream();  outputStream.write(&quot;hello tcp !&quot;.getBytes());  socket.close();&#125;\n","dateCreated":"2021-12-31T14:44:02+00:00","dateModified":"2023-06-07T02:13:34+00:00","datePublished":"2021-12-31T14:44:02+00:00","description":"Java ä½œä¸ºåº”ç”¨å±‚ç¨‹åºï¼Œå¹¶ä¸ä¼šä¸ C ä¸€æ ·ï¼Œä¸åè®®æ¥è§¦çš„éå¸¸ç´§å‡‘ï¼Œå¹¶ä¸”æœ¬ç« ä¸»è¦æ˜¯å¯¹ Java ä¸­åŸºæœ¬å¥—æ¥å­—çš„å­¦ä¹ ","headline":"Java TCP/IP Socket ç¼–ç¨‹ï¼ˆä¸€ï¼‰åŸºæœ¬å¥—æ¥å­—","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://pineapple-man.github.io/java-tcp-ip-socket-%E7%BC%96%E7%A8%8B%EF%BC%88%E4%B8%80%EF%BC%89%E5%9F%BA%E6%9C%AC%E5%A5%97%E6%8E%A5%E5%AD%97/"},"publisher":{"@type":"Organization","name":"pineapple-man","sameAs":["https://github.com/pineapple-man","mailto://mingchaohu720@gmail.com"],"image":"logo.png","logo":{"@type":"ImageObject","url":"logo.png"}},"url":"https://pineapple-man.github.io/java-tcp-ip-socket-%E7%BC%96%E7%A8%8B%EF%BC%88%E4%B8%80%EF%BC%89%E5%9F%BA%E6%9C%AC%E5%A5%97%E6%8E%A5%E5%AD%97/","keywords":"JDK"}</script><meta name="description" content="Java ä½œä¸ºåº”ç”¨å±‚ç¨‹åºï¼Œå¹¶ä¸ä¼šä¸ C ä¸€æ ·ï¼Œä¸åè®®æ¥è§¦çš„éå¸¸ç´§å‡‘ï¼Œå¹¶ä¸”æœ¬ç« ä¸»è¦æ˜¯å¯¹ Java ä¸­åŸºæœ¬å¥—æ¥å­—çš„å­¦ä¹ "><meta property="og:type" content="blog"><meta property="og:title" content="Java TCP&#x2F;IP Socket ç¼–ç¨‹ï¼ˆä¸€ï¼‰åŸºæœ¬å¥—æ¥å­—"><meta property="og:url" content="https://pineapple-man.github.io/java-tcp-ip-socket-%E7%BC%96%E7%A8%8B%EF%BC%88%E4%B8%80%EF%BC%89%E5%9F%BA%E6%9C%AC%E5%A5%97%E6%8E%A5%E5%AD%97/"><meta property="og:site_name" content="pineapple-man"><meta property="og:description" content="Java ä½œä¸ºåº”ç”¨å±‚ç¨‹åºï¼Œå¹¶ä¸ä¼šä¸ C ä¸€æ ·ï¼Œä¸åè®®æ¥è§¦çš„éå¸¸ç´§å‡‘ï¼Œå¹¶ä¸”æœ¬ç« ä¸»è¦æ˜¯å¯¹ Java ä¸­åŸºæœ¬å¥—æ¥å­—çš„å­¦ä¹ "><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/pineapple-man/blogImage@main/image/java/20220109001727.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/pineapple-man/blogImage@main/image/Java-io-socket.jpeg"><meta property="article:published_time" content="2021-12-31T14:44:02.000Z"><meta property="article:modified_time" content="2023-06-07T02:13:34.015Z"><meta property="article:author" content="pineapple-man"><meta property="article:tag" content="JDK"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/pineapple-man/blogImage@main/image/java/20220109001727.png"><meta property="og:image" content="https://pineapple-man.github.io/assets/images/logo.png"><link rel="stylesheet" href="/assets/css/style-oth3meuzcjopbgwqbdvoxqknhcm0sy9wkullcc94zhkkop3pmfrpl5t4fzzz.min.css"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-210516333-1"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-210516333-1")</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css"></head><body><div id="blog"><header id="header" data-behavior="5"><i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i><div class="header-title"><a class="header-title-link" href="/" aria-label="">pineapple-man</a></div><a class="header-right-picture" href="#about" aria-label="æ‰“å¼€é“¾æ¥: /#about"><img class="header-picture" src="/assets/images/logo.png" alt="ä½œè€…çš„å›¾ç‰‡"></a></header><nav id="sidebar" data-behavior="5"><div class="sidebar-container"><div class="sidebar-profile"><a href="/#about" aria-label="é˜…è¯»æœ‰å…³ä½œè€…çš„æ›´å¤šä¿¡æ¯"><img class="sidebar-profile-picture" src="/assets/images/logo.png" alt="ä½œè€…çš„å›¾ç‰‡"></a><h4 class="sidebar-profile-name">pineapple-man</h4><h5 class="sidebar-profile-bio"><p>åšä¸€ä¸ªè èï¼šç«™å¾—ç¬”ç›´ï¼Œå¤´æˆ´ç‹å† ï¼Œå†…å¿ƒç”œç¾</p></h5></div><ul class="sidebar-buttons"><li class="sidebar-button"><a class="sidebar-button-link" href="/" rel="noopener" title="é¦–é¡µ"><i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i> <span class="sidebar-button-desc">é¦–é¡µ</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="/all-categories" rel="noopener" title="åˆ†ç±»"><i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i> <span class="sidebar-button-desc">åˆ†ç±»</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="/all-tags" rel="noopener" title="æ ‡ç­¾"><i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i> <span class="sidebar-button-desc">æ ‡ç­¾</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="/all-archives" rel="noopener" title="å½’æ¡£"><i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i> <span class="sidebar-button-desc">å½’æ¡£</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="#about" rel="noopener" title="å…³äº"><i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i> <span class="sidebar-button-desc">å…³äº</span></a></li></ul><ul class="sidebar-buttons"><li class="sidebar-button"><a class="sidebar-button-link" href="https://github.com/pineapple-man" target="_blank" rel="noopener" title="GitHub"><i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i> <span class="sidebar-button-desc">GitHub</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="mailto://mingchaohu720@gmail.com" target="_blank" rel="noopener" title="é‚®ç®±"><i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i> <span class="sidebar-button-desc">é‚®ç®±</span></a></li></ul></div></nav><div id="main" data-behavior="5" class="hasCoverMetaIn"><article class="post"><div class="post-header main-content-wrap text-center"><h1 class="post-title">Java TCP/IP Socket ç¼–ç¨‹ï¼ˆä¸€ï¼‰åŸºæœ¬å¥—æ¥å­—</h1><div class="post-meta"><time datetime="2021-12-31T14:44:02+00:00">12æœˆ 31, 2021 </time><span>å‘å¸ƒåœ¨ </span><a class="category-link" href="/categories/Java/">Java</a> <i class="fas fa-book-open"></i> æœ¬æ–‡å…±<span class="post-count"> 1.9k </span>å­— <i class="far fa-clock"></i> é˜…è¯»é¢„è®¡<span class="post-count"> 19 </span>åˆ†é’Ÿ</div></div><div class="post-content markdown"><div class="main-content-wrap"><h1 id="table-of-contents">ç›®å½•</h1><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80"><span class="toc-text">ç½‘ç»œåŸºç¡€</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#InetAddress-%E7%B1%BB"><span class="toc-text">InetAddress ç±»</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%88%90%E5%91%98%E6%96%B9%E6%B3%95"><span class="toc-text">æˆå‘˜æ–¹æ³•</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UDP-%E7%9B%B8%E5%85%B3-API"><span class="toc-text">UDP ç›¸å…³ API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#DatagramSocket"><span class="toc-text">DatagramSocket</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95"><span class="toc-text">æ„é€ æ–¹æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%88%90%E5%91%98%E6%96%B9%E6%B3%95-v2"><span class="toc-text">æˆå‘˜æ–¹æ³•</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DatagramPacket"><span class="toc-text">DatagramPacket</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95-v2"><span class="toc-text">æ„é€ æ–¹æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%88%90%E5%91%98%E6%96%B9%E6%B3%95-v3"><span class="toc-text">æˆå‘˜æ–¹æ³•</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%91%E9%80%81%E6%95%B0%E6%8D%AE%E6%AD%A5%E9%AA%A4"><span class="toc-text">å‘é€æ•°æ®æ­¥éª¤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A5%E5%8F%97%E6%95%B0%E6%8D%AE%E6%AD%A5%E9%AA%A4"><span class="toc-text">æ¥å—æ•°æ®æ­¥éª¤</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TCP-%E7%9B%B8%E5%85%B3-API"><span class="toc-text">TCP ç›¸å…³ API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Client-%E6%96%B9-API"><span class="toc-text">Client æ–¹ API</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95-v3"><span class="toc-text">æ„é€ æ–¹æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%88%90%E5%91%98%E6%96%B9%E6%B3%95-v4"><span class="toc-text">æˆå‘˜æ–¹æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TCP-%E6%8A%A5%E6%96%87%E6%8E%A5%E5%8F%97%E6%95%B0%E6%8D%AE%E6%AD%A5%E9%AA%A4"><span class="toc-text">TCP æŠ¥æ–‡æ¥å—æ•°æ®æ­¥éª¤</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Server-%E6%96%B9-API"><span class="toc-text">Server æ–¹ API</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95-v4"><span class="toc-text">æ„é€ æ–¹æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%88%90%E5%91%98%E6%96%B9%E6%B3%95-v5"><span class="toc-text">æˆå‘˜æ–¹æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TCP-%E6%8A%A5%E6%96%87%E5%8F%91%E9%80%81%E6%B5%81%E7%A8%8B"><span class="toc-text">TCP æŠ¥æ–‡å‘é€æµç¨‹</span></a></li></ol></li></ol></li></ol><h2 id="ç½‘ç»œåŸºç¡€"><a class="header-anchor" href="#ç½‘ç»œåŸºç¡€">Â¶</a>ç½‘ç»œåŸºç¡€</h2><p>âœ¨ UDP(ç”¨æˆ·æ•°æ®åŒ…åè®®)ï¼Œæ˜æ˜¾çš„ç‰¹ç‚¹å¦‚ä¸‹ï¼š</p><div class="alert success no-icon"><ul><li>å°†æ•°æ®æ‰“åŒ…(æœ€å¤§ä¸è¶…è¿‡ 64K)</li><li>ä¸å»ºç«‹è¿æ¥</li><li>é€Ÿåº¦å¿«</li><li>ä¸å¯é </li></ul></div><p>âœ¨ TCP åè®®ï¼Œå…·æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š</p><div class="alert success no-icon"><ul><li>å»ºç«‹è¿æ¥é€šé“</li><li>æ•°æ®æ— é™åˆ¶</li><li>é€Ÿåº¦æ…¢</li><li>å¯é </li></ul></div><p>socketï¼ˆå¥—æ¥å­—ï¼‰æ˜¯ä¸€ç§æŠ½è±¡å±‚ï¼Œåº”ç”¨ç¨‹åºé€šè¿‡å®ƒæ¥å‘é€å’Œæ¥å—æ•°æ®ï¼Œå°±åƒåº”ç”¨ç¨‹åºæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶å¥æŸ„ï¼Œå°†æ•°æ®è¯»å†™åˆ°ç¨³å®šçš„å­˜å‚¨å™¨ä¸Šä¸€æ ·ã€‚ä½¿ç”¨ socket å¯ä»¥å°†åº”ç”¨ç¨‹åºæ·»åŠ åˆ°ç½‘ç»œä¸­ï¼Œå¹¶ä¸å¤„äºåŒä¸€ä¸ªç½‘ç»œä¸­çš„å…¶ä»–åº”ç”¨ç¨‹åºè¿›è¡Œé€šä¿¡ã€‚ä¸€å°è®¡ç®—æœºä¸Šçš„åº”ç”¨ç¨‹åºå‘ socket å†™å…¥çš„ä¿¡æ¯èƒ½å¤Ÿè¢«å¦ä¸€å°è®¡ç®—æœºä¸Šçš„å¦ä¸€ä¸ªåº”ç”¨ç¨‹åºè¯»å–ï¼Œåä¹‹äº¦ç„¶ã€‚</p><p>ä¸åŒç±»å‹çš„ socket ä¸ä¸åŒç±»å‹çš„åº•å±‚åè®®æ—ä»¥åŠåŒä¸€åè®®æ—ä¸­çš„ä¸åŒåè®®æ ˆç›¸å…³è”ï¼Œç›®å‰ TCP/IP åè®®æ—ä¸­çš„ä¸»è¦ socket ç±»å‹ä¸º æµå¥—æ¥å­—ï¼ˆstream socketï¼‰å’Œæ•°æ®åŒ…å¥—æ¥å­—ï¼ˆdatagram socketï¼‰</p><div class="alert info no-icon"><ul><li>æµå¥—æ¥å­—å°† TCP ä½œä¸ºå…¶ç«¯å¯¹ç«¯åè®®ï¼ˆåº•å±‚ä½¿ç”¨ IP åè®®ï¼‰ï¼Œæä¾›äº†ä¸€ä¸ªå¯ä¿¡èµ–çš„å­—èŠ‚æµæœåŠ¡ã€‚ä¸€ä¸ª TCP/IP æµå¥—æ¥å­—ä»£è¡¨äº† TCP è¿æ¥çš„ä¸€ç«¯</li><li>æ•°æ®æŠ¥å¥—æ¥å­—ä½¿ç”¨ UDP åè®®ï¼ˆåº•å±‚åŒæ ·é€‚ç”¨ IP åè®®ï¼‰ï¼Œæä¾›äº†ä¸€ä¸ª best-effort çš„æ•°æ®æŠ¥æœåŠ¡ï¼Œåº”ç”¨ç¨‹åºå¯ä»¥é€šè¿‡å®ƒå‘é€æœ€é•¿ 65500 å­—èŠ‚çš„ä¿¡æ¯ã€‚</li></ul></div><p>ä¸€ä¸ª TCP/IP å¥—æ¥å­—ç”±ä¸€ä¸ªäº’è”ç½‘åœ°å€ï¼Œä¸€ä¸ªç«¯å¯¹ç«¯åè®®ï¼ˆTCP åè®®æˆ– UDP åè®®ï¼‰ä»¥åŠä¸€ä¸ªç«¯å£å·å”¯ä¸€ç¡®å®šï¼Œä¸‹å›¾æè¿°äº†ä¸€ä¸ªä¸»æœºä¸­ï¼Œåº”ç”¨ç¨‹åºã€å¥—æ¥å­—æŠ½è±¡å±‚ã€åè®®ã€ç«¯å£å·ä¹‹é—´çš„é€»è¾‘å…³ç³»ã€‚<span class="highlight-text red">ä¸€ä¸ªå¥—æ¥å­—æŠ½è±¡å±‚å¯ä»¥è¢«å¤šä¸ªåº”ç”¨ç¨‹åºå¼•ç”¨ã€‚</span></p><div class="figure fig-100 center"><a class="fancybox" target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/pineapple-man/blogImage@main/image/java/20220109001727.png" data-caption="" data-fancybox="default"><img class="fig-img" src="https://cdn.jsdelivr.net/gh/pineapple-man/blogImage@main/image/java/20220109001727.png" alt=""></a></div><p>Socket å…·æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š</p><div class="alert success no-icon"><ul><li>é€šä¿¡çš„ä¸¤ç«¯éƒ½æœ‰<code>socket</code></li><li>ç½‘ç»œé€šä¿¡å…¶å®å°±æ˜¯ Socket é—´çš„é€šä¿¡</li><li>æ•°æ®åœ¨ä¸¤ä¸ª Socket é—´é€šè¿‡ IO æµä¼ è¾“æ•°æ®</li></ul></div><p>Java Socket å¸¸è§æ“ä½œ</p><div class="figure fig-100 center"><a class="fancybox" target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/pineapple-man/blogImage@main/image/Java-io-socket.jpeg" data-caption="" data-fancybox="default"><img class="fig-img" src="https://cdn.jsdelivr.net/gh/pineapple-man/blogImage@main/image/Java-io-socket.jpeg" alt=""></a></div><h2 id="InetAddress-ç±»"><a class="header-anchor" href="#InetAddress-ç±»">Â¶</a>InetAddress ç±»</h2><p>InetAddress ç±»ä»£è¡¨äº†ä¸€ä¸ªç½‘ç»œç›®æ ‡åœ°å€ï¼ŒåŒ…æ‹¬ä¸»æœºåå’Œæ•°å­—ç±»å‹çš„åœ°å€ä¿¡æ¯ã€‚è¯¥ç±»æœ‰ä¸¤ä¸ªå­ç±»ï¼š<code>Inet4Address</code>å’Œ<code>Inet6Address</code><br>æ­¤ç±»ä¸»è¦è¿›è¡Œ IP åœ°å€ç›¸å…³æ“ä½œï¼Œ<span class="highlight-text red">æ­¤ç±»æ²¡æœ‰å¯ä»¥è®¿é—®çš„æ„é€ æ–¹æ³•</span></p><p>ä¸€ä¸ªç±»æ²¡æœ‰å¯ä»¥è®¿é—®çš„æ„é€ æ–¹æ³•,å¯èƒ½æ˜¯å¦‚ä¸‹ä¸‰ç§æƒ…å†µ:</p><div class="alert info no-icon"><ul><li>æˆå‘˜å…¨éƒ¨éƒ½æ˜¯é™æ€çš„(Math,Arrays,Collections)</li><li>å•ä¾‹æ¨¡å¼(Runtime ç±»)</li><li>ç±»ä¸­æœ‰é™æ€æ–¹æ³•è¿”å›è¯¥ç±»çš„å¯¹è±¡(InetAddress)</li></ul></div><h3 id="æˆå‘˜æ–¹æ³•"><a class="header-anchor" href="#æˆå‘˜æ–¹æ³•">Â¶</a>æˆå‘˜æ–¹æ³•</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ ¹æ®ä¸»æœºåæˆ–è€…IPåœ°å€çš„å­—ç¬¦ä¸²å¾—åˆ°IPåœ°å€å¯¹è±¡,æ­¤å¯¹è±¡åŒ…å«ä¸»æœºåä»¥åŠIPåœ°å€çš„ä¿¡æ¯</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> InetAddress <span class="title function_">getByName</span><span class="params">(String host)</span><span class="keyword">throws</span> UnknownHostException;</span><br><span class="line"><span class="comment">//è·å–æœ¬æœºHostnameä»¥åŠIP</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> InetAddress <span class="title function_">getLocalHost</span><span class="params">()</span><span class="keyword">throws</span> UnknownHostException;</span><br><span class="line"><span class="comment">//è·å–æœ¬æœºä¸»æœºå</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">getHostName</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">//è·å–æœ¬æœºIP</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">getHostAddress</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure><p>ä¸çŸ¥é“ä»»ä½•ä¿¡æ¯æ—¶ï¼Œå¾—åˆ°å½“å‰ä¸»æœºçš„ä¸»æœºåä»¥åŠ IP åœ°å€</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="type">InetAddress</span> <span class="variable">inetAddress</span> <span class="operator">=</span> InetAddress.getLocalHost();</span><br><span class="line">    <span class="comment">//å°†æ˜¾ç¤ºè¿è¡Œå½“å‰ç¨‹åºçš„â€ä¸»æœºå/IPåœ°å€â€œ</span></span><br><span class="line">    System.out.println(inetAddress);</span><br><span class="line">    <span class="comment">//è·å–ä¸»æœºåœ°å€</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">IP</span> <span class="operator">=</span> InetAddress.getLocalHost().getHostAddress();</span><br><span class="line">    System.out.println(IP);</span><br><span class="line">    <span class="comment">//è·å–ä¸»æœºå</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> InetAddress.getLocalHost().getHostName();</span><br><span class="line">    System.out.println(name);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (UnknownHostException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>çŸ¥é“ä¸»æœºåæˆ–è€… IP åœ°å€å¾—åˆ°å¦ä¸€ä¸ªä¿¡æ¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç”±ä¸»æœºåæˆ–è€…IPè·å¾—å½“å‰InetAddresså¯¹è±¡</span></span><br><span class="line"><span class="type">InetAddress</span> <span class="variable">address</span> <span class="operator">=</span> InetAddress.getByName(<span class="string">&quot;Hostname&quot;</span>);</span><br><span class="line">System.out.println(address.getHostName());</span><br><span class="line">System.out.println(address.getHostAddress());</span><br></pre></td></tr></table></figure><h2 id="UDP-ç›¸å…³-API"><a class="header-anchor" href="#UDP-ç›¸å…³-API">Â¶</a>UDP ç›¸å…³ API</h2><p>æœ¬å°èŠ‚ä¸»è¦è®°å½•ä¸ UDP ç›¸å…³çš„ APIï¼Œä¸æ¶‰åŠæ•°æ®è´¨é‡è¦æ±‚æ—¶ï¼ŒUDP ä½¿ç”¨çš„è¿˜æ˜¯éå¸¸å¤šçš„ã€‚Java ä¸­ä¸ UDP ç›¸å…³çš„ä¸»è¦æ˜¯å¦‚ä¸‹ä¸¤ä¸ªç±»ï¼š<code>DatagramSocket</code>å’Œ<code>DatagramPacket</code></p><h3 id="DatagramSocket"><a class="header-anchor" href="#DatagramSocket">Â¶</a>DatagramSocket</h3><p>æ˜¯ UDPSocket çš„ä¸»è¦ç±»</p><h4 id="æ„é€ æ–¹æ³•"><a class="header-anchor" href="#æ„é€ æ–¹æ³•">Â¶</a>æ„é€ æ–¹æ³•</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¸¸ç”¨æ— å‚æ„é€ æ–¹æ³•</span></span><br><span class="line">DatagramSocket();</span><br><span class="line">DatagramSocket(<span class="type">int</span> port);</span><br><span class="line">DatagramSocket(<span class="type">int</span> port, InetAddress laddr);</span><br></pre></td></tr></table></figure><h4 id="æˆå‘˜æ–¹æ³•-v2"><a class="header-anchor" href="#æˆå‘˜æ–¹æ³•-v2">Â¶</a>æˆå‘˜æ–¹æ³•</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å°† UDPSocket ç»‘å®šåˆ°æ˜ç¡®çš„ socket å¯¹è±¡ä¸Š</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">bind</span><span class="params">(SocketAddress addr)</span><span class="keyword">throws</span> SocketException;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">disconnect</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isBound</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isConnected</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isClosed</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">//é‡‡ç”¨ UDP åè®®å‘é€æ•°æ®</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">send</span><span class="params">(DatagramPacket p)</span><span class="keyword">throws</span> IOException;</span><br><span class="line"><span class="comment">//æ¥å— UDP åè®®å‘é€æ¥çš„æ•°æ®ï¼Œé˜»å¡å¼</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">receive</span><span class="params">(DatagramPacket p)</span><span class="keyword">throws</span> IOException;</span><br></pre></td></tr></table></figure><h3 id="DatagramPacket"><a class="header-anchor" href="#DatagramPacket">Â¶</a>DatagramPacket</h3><p>UDP æ•°æ®åŒ…å¯¹è±¡ï¼Œåœ¨ UDP é€šä¿¡æ—¶ï¼Œæ‰“åŒ… UDP å‘é€çš„æ•°æ®</p><h4 id="æ„é€ æ–¹æ³•-v2"><a class="header-anchor" href="#æ„é€ æ–¹æ³•-v2">Â¶</a>æ„é€ æ–¹æ³•</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ¥æ”¶æ–¹åˆå§‹åŒ–</span></span><br><span class="line">DatagramPacket(<span class="type">byte</span>[] buf,<span class="type">int</span> length);</span><br><span class="line"><span class="comment">//å‘é€æ–¹åˆå§‹åŒ–æ–¹å¼ï¼ŒæŒ‡æ˜æ¥æ”¶æ–¹ Socket(IP,port),æ•°æ®åŒ…ä»¥åŠæ•°æ®é•¿åº¦</span></span><br><span class="line">DatagramPacket(<span class="type">byte</span>[] buf, <span class="type">int</span> length, InetAddress address, <span class="type">int</span> port);</span><br></pre></td></tr></table></figure><h4 id="æˆå‘˜æ–¹æ³•-v3"><a class="header-anchor" href="#æˆå‘˜æ–¹æ³•-v3">Â¶</a>æˆå‘˜æ–¹æ³•</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¿”å›æ­¤æ•°æ®åŒ…çš„IPåœ°å€æ¥æº</span></span><br><span class="line"><span class="keyword">public</span> InetAddress <span class="title function_">getAddress</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">//æ¥æ”¶æ–¹è°ƒç”¨è¿”å›æ¥å—ç«¯æ¥å—æ•°æ®çš„ç«¯å£å·ï¼›å‘é€æ–¹è°ƒç”¨è¿”å›å‘é€æ–¹çš„å‘é€ç«¯å£</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getPort</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">//è¿”å›å‘ç”Ÿæ•°æ®çš„é•¿åº¦æˆ–è€…æ¥å—åˆ°çš„æ•°æ®çš„é•¿åº¦</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getLength</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure><h3 id="å‘é€æ•°æ®æ­¥éª¤"><a class="header-anchor" href="#å‘é€æ•°æ®æ­¥éª¤">Â¶</a>å‘é€æ•°æ®æ­¥éª¤</h3><p>ä¸»è¦æ­¥éª¤å¦‚ä¸‹:</p><div class="alert warning no-icon"><ol><li>åˆ›å»ºå‘é€ç«¯ Socket å¯¹è±¡</li><li>åˆ›å»ºæ•°æ®,å¹¶æŠŠæ•°æ®æ‰“åŒ…</li><li>è°ƒç”¨ Socket å¯¹è±¡çš„å‘é€æ–¹æ³•å‘é€æ•°æ®åŒ…</li><li>é‡Šæ”¾èµ„æº</li></ol></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ›å»ºä¸€ä¸ªUDPSocketå¯¹è±¡</span></span><br><span class="line"><span class="type">DatagramSocket</span> <span class="variable">datagramSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramSocket</span>();</span><br><span class="line"><span class="type">byte</span>[] bytes = <span class="string">&quot;hello,udp,java&quot;</span>.getBytes();</span><br><span class="line"><span class="comment">//æ•°æ®æ‰“åŒ…</span></span><br><span class="line"><span class="type">DatagramPacket</span> <span class="variable">datagramPacket</span> <span class="operator">=</span></span><br><span class="line">  <span class="comment">//æŒ‡å®š localhost:10086 å‘é€ udp æ•°æ®åŒ…</span></span><br><span class="line">	<span class="keyword">new</span> <span class="title class_">DatagramPacket</span>(bytes, bytes.length, InetAddress.getLocalHost(), <span class="number">10086</span>);</span><br><span class="line"><span class="comment">//å‘é€æ•°æ®</span></span><br><span class="line">datagramSocket.send(datagramPacket);</span><br><span class="line"><span class="comment">//å…³é—­Socketå¯¹è±¡ï¼Œé‡Šæ”¾èµ„æº</span></span><br><span class="line">datagramSocket.close();</span><br></pre></td></tr></table></figure><h3 id="æ¥å—æ•°æ®æ­¥éª¤"><a class="header-anchor" href="#æ¥å—æ•°æ®æ­¥éª¤">Â¶</a>æ¥å—æ•°æ®æ­¥éª¤</h3><p>UDP æ¥å—æ•°æ®æ­¥éª¤ï¼š</p><div class="alert warning no-icon"><ol><li>åˆ›å»ºæ¥æ”¶ç«¯ Socket å¯¹è±¡</li><li>åˆ›å»ºä¸€ä¸ªæ•°æ®åŒ…(æ¥å—å®¹å™¨)</li><li>è°ƒç”¨ Socket å¯¹è±¡çš„æ¥æ”¶æ–¹æ³•æ¥å—æ•°æ®</li><li>è§£ææ•°æ®åŒ…ï¼Œå¹¶æ˜¾ç¤ºåœ¨æ§åˆ¶å°</li><li>é‡Šæ”¾èµ„æº</li></ol></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">  <span class="comment">// åˆ›å»ºæ¥å—ç«¯ Socket å¯¹è±¡</span></span><br><span class="line">  <span class="type">DatagramSocket</span> <span class="variable">datagramSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramSocket</span>(<span class="number">10086</span>);</span><br><span class="line">  <span class="comment">// åˆ›å»ºæ¥å—ç«¯æ•°æ®åŒ…</span></span><br><span class="line">  <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">  <span class="type">DatagramPacket</span> <span class="variable">datagramPacket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramPacket</span>(bytes, bytes.length);</span><br><span class="line">  <span class="comment">// è°ƒç”¨Socketå¯¹è±¡çš„æ¥å—æ–¹æ³•</span></span><br><span class="line">  datagramSocket.receive(datagramPacket);</span><br><span class="line">  <span class="comment">// è§£ææ•°æ®</span></span><br><span class="line">  <span class="type">String</span> <span class="variable">address</span> <span class="operator">=</span> datagramPacket.getAddress().getHostAddress();</span><br><span class="line">  <span class="type">String</span> <span class="variable">data</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(datagramPacket.getData(), <span class="number">0</span>, datagramPacket.getLength());</span><br><span class="line">  System.out.println(address + <span class="string">&quot;data is :&quot;</span> + data);</span><br><span class="line">  <span class="comment">// é‡Šæ”¾èµ„æº</span></span><br><span class="line">  datagramSocket.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="TCP-ç›¸å…³-API"><a class="header-anchor" href="#TCP-ç›¸å…³-API">Â¶</a>TCP ç›¸å…³ API</h2><p>TCP åè®®ä¸­çš„å‘é€æ•°æ®æ–¹ç§°ä¸ºå®¢æˆ·ç«¯(Client)ï¼Œæ¥æ”¶æ•°æ®æ–¹ç§°ä¸ºæœåŠ¡ç«¯(Server)</p><h3 id="Client-æ–¹-API"><a class="header-anchor" href="#Client-æ–¹-API">Â¶</a>Client æ–¹ API</h3><p>TCP åè®® Client ç«¯çš„ Socket å¯¹è±¡</p><h4 id="æ„é€ æ–¹æ³•-v3"><a class="header-anchor" href="#æ„é€ æ–¹æ³•-v3">Â¶</a>æ„é€ æ–¹æ³•</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Socket();<span class="comment">//åˆ›å»ºä¸€ä¸ªæœªå»ºç«‹è¿æ¥çš„Socket</span></span><br><span class="line">Socket(InetAddress address, <span class="type">int</span> port);<span class="comment">//åˆ›å»ºä¸€ä¸ª&lt;address,port&gt;å»ºç«‹è¿æ¥çš„socketå¯¹è±¡</span></span><br><span class="line">Socket(String host, <span class="type">int</span> port);<span class="comment">//hostå¯ä»¥æ˜¯ipåœ°å€çš„æ ¼å¼</span></span><br></pre></td></tr></table></figure><h4 id="æˆå‘˜æ–¹æ³•-v4"><a class="header-anchor" href="#æˆå‘˜æ–¹æ³•-v4">Â¶</a>æˆå‘˜æ–¹æ³•</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è·å–å½“å‰TCPæ•°æ®æµ,è€Œåä½¿ç”¨I/Oæµå†™æ•°æ®</span></span><br><span class="line"><span class="keyword">public</span> OutputStream <span class="title function_">getOutputStream</span><span class="params">()</span><span class="keyword">throws</span> IOException;</span><br><span class="line"><span class="keyword">public</span> InputStream <span class="title function_">getInputStream</span><span class="params">()</span><span class="keyword">throws</span> IOException;</span><br><span class="line"><span class="keyword">public</span> InetAddress <span class="title function_">getInetAddress</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">shutdownInput</span><span class="params">()</span><span class="keyword">throws</span> IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">shutdownOutput</span><span class="params">()</span><span class="keyword">throws</span> IOException;</span><br></pre></td></tr></table></figure><h4 id="TCP-æŠ¥æ–‡æ¥å—æ•°æ®æ­¥éª¤"><a class="header-anchor" href="#TCP-æŠ¥æ–‡æ¥å—æ•°æ®æ­¥éª¤">Â¶</a>TCP æŠ¥æ–‡æ¥å—æ•°æ®æ­¥éª¤</h4><div class="alert warning no-icon"><ol><li>åˆ›å»ºæ¥å—ç«¯çš„ Socket å¯¹è±¡</li><li>ç›‘å¬å®¢æˆ·ç«¯,è¿”å›ä¸€ä¸ªå¯¹åº”çš„ Socket å¯¹è±¡</li><li>è·å–è¾“å…¥æµï¼Œè¯»å–æ•°æ®æ˜¾ç¤ºåœ¨æ§åˆ¶å°</li><li>é‡Šæ”¾èµ„æº</li></ol></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">  <span class="comment">//åˆ›å»ºæ¥å—ç«¯çš„Socketå¯¹è±¡</span></span><br><span class="line">  <span class="type">ServerSocket</span> <span class="variable">serverSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">10086</span>);</span><br><span class="line">  <span class="comment">//ä¾¦å¬å¹¶æ¥å—æ­¤å¥—æ¥å­—ï¼Œæ­¤æ–¹æ³•åœ¨è¿æ¥å»ºç«‹ä¹‹å‰ä¸€ç›´é˜»å¡</span></span><br><span class="line">	<span class="type">Socket</span> <span class="variable">accept</span> <span class="operator">=</span> serverSocket.accept();</span><br><span class="line">  <span class="comment">//è·å–è¾“å…¥æµ</span></span><br><span class="line">  <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> accept.getInputStream();</span><br><span class="line">  <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">  <span class="comment">//é˜»å¡å¼æ–¹æ³•</span></span><br><span class="line">  <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> inputStream.read(bytes);</span><br><span class="line">  System.out.println(</span><br><span class="line">	accept.getInetAddress().getHostAddress() + <span class="string">&quot;-----&quot;</span> + <span class="keyword">new</span> <span class="title class_">String</span>(bytes, <span class="number">0</span>, len));</span><br><span class="line">  <span class="comment">//é‡Šæ”¾èµ„æº</span></span><br><span class="line">  accept.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Server-æ–¹-API"><a class="header-anchor" href="#Server-æ–¹-API">Â¶</a>Server æ–¹ API</h3><p>TCP åè®® Server ç«¯ Socket å¯¹è±¡</p><h4 id="æ„é€ æ–¹æ³•-v4"><a class="header-anchor" href="#æ„é€ æ–¹æ³•-v4">Â¶</a>æ„é€ æ–¹æ³•</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ›å»ºä¸€ä¸ªæ²¡æœ‰ç»‘å®šçš„æœåŠ¡ç«¯Socket</span></span><br><span class="line">ServerSocket();</span><br><span class="line"><span class="comment">//åˆ›å»ºä¸€ä¸ªæœ¬æœºç›‘å¬ç‰¹å®šç«¯å£çš„æœåŠ¡å™¨ç«¯Socket</span></span><br><span class="line">ServerSocket(<span class="type">int</span> port);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="æˆå‘˜æ–¹æ³•-v5"><a class="header-anchor" href="#æˆå‘˜æ–¹æ³•-v5">Â¶</a>æˆå‘˜æ–¹æ³•</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç›‘å¬å®¢æˆ·ç«¯ï¼Œè¿”å›ä¸€ä¸ªå¯¹åº”çš„Socketå¯¹è±¡</span></span><br><span class="line"><span class="keyword">public</span> Socket <span class="title function_">accept</span><span class="params">()</span><span class="keyword">throws</span> IOException;</span><br><span class="line"><span class="comment">//è·å–å½“å‰Socketå¯¹è±¡çš„è¾“å…¥æµæ•°æ®</span></span><br><span class="line"><span class="keyword">public</span> InputStream <span class="title function_">getInputStream</span><span class="params">()</span><span class="keyword">throws</span> IOException;</span><br></pre></td></tr></table></figure><h4 id="TCP-æŠ¥æ–‡å‘é€æµç¨‹"><a class="header-anchor" href="#TCP-æŠ¥æ–‡å‘é€æµç¨‹">Â¶</a>TCP æŠ¥æ–‡å‘é€æµç¨‹</h4><div class="alert success no-icon"><ol><li>åˆ›å»ºå‘é€ç«¯çš„ Socket å¯¹è±¡ï¼Œè¿™ä¸€æ­¥å¦‚æœæˆåŠŸï¼Œè¯´æ˜è¿æ¥å·²ç»å»ºç«‹æˆåŠŸ</li><li>è·å–æ•°æ®æµï¼Œå†™æ•°æ®</li><li>é‡Šæ”¾èµ„æº</li></ol></div><p>ğŸ¶<code>java.net.ConnectExceptionï¼šè¿æ¥è¢«æ‹’ç»</code>ï¼ŒTCP åè®®ä¸€å®šè¦å…ˆæ‰“å¼€æœåŠ¡å™¨ï¼Œè€Œåå‘é€æ•°æ®ï¼Œå¦åˆ™è¿æ¥å»ºç«‹å¤±è´¥</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">  <span class="comment">// åˆ›å»º TCPsocket å¯¹è±¡</span></span><br><span class="line">  <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Socket</span>(InetAddress.getLocalHost(), <span class="number">10086</span>);</span><br><span class="line">  <span class="comment">// è·å–è¾“å‡ºæ•°æ®æµ</span></span><br><span class="line">  <span class="type">OutputStream</span> <span class="variable">outputStream</span> <span class="operator">=</span> socket.getOutputStream();</span><br><span class="line">  outputStream.write(<span class="string">&quot;hello tcp !&quot;</span>.getBytes());</span><br><span class="line">  socket.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><div id="post-footer" class="post-footer main-content-wrap"><div class="post-footer-tags"><span class="text-color-light text-small">æ ‡ç­¾</span><br><a class="tag tag--primary tag--small t-none-link" href="/tags/JDK/" rel="tag">JDK</a></div><div class="post-actions-wrap"><nav><ul class="post-actions post-action-nav"><li class="post-action"><a class="post-action-btn btn btn--default tooltip--top" href="/2021%E5%B9%B4%E5%BA%A6%E6%80%BB%E7%BB%93/" data-tooltip="2021å¹´åº¦æ€»ç»“" aria-label="ä¸Šä¸€ç¯‡: 2021å¹´åº¦æ€»ç»“"><i class="fa fa-angle-left" aria-hidden="true"></i> <span class="hide-xs hide-sm text-small icon-ml">ä¸Šä¸€ç¯‡</span></a></li><li class="post-action"><a class="post-action-btn btn btn--default tooltip--top" href="/shiro-%E6%A6%82%E8%BF%B0/" data-tooltip="Shiro æ¦‚è¿°" aria-label="ä¸‹ä¸€ç¯‡: Shiro æ¦‚è¿°"><span class="hide-xs hide-sm text-small icon-mr">ä¸‹ä¸€ç¯‡</span> <i class="fa fa-angle-right" aria-hidden="true"></i></a></li></ul></nav><ul class="post-actions post-action-share"><li class="post-action hide-lg hide-md hide-sm"><a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Diesen Beitrag teilen"><i class="fa fa-share-alt" aria-hidden="true"></i></a></li><li class="post-action"><a class="post-action-btn btn btn--default" href="#table-of-contents" aria-label="ç›®å½•"><i class="fa fa-list" aria-hidden="true"></i></a></li></ul></div></div></article><script type="text/x-mathjax-config">MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
  });
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });</script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@2.7.8/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><footer id="footer" class="main-content-wrap"><span class="copyrights">Copyrights &copy; 2023 pineapple-man. All Rights Reserved.</span><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><br>Total <span id="busuanzi_value_site_pv"></span> views. æ‚¨æ˜¯pineapple-mançš„ç¬¬<span id="busuanzi_value_site_uv"></span>ä¸ªå°ä¼™ä¼´<br><i class="fas fa-book-open"></i> <span class="post-count">åšå®¢å­—æ•°ç»Ÿè®¡ï¼š370.7k</span><script src="https://unpkg.com/mermaid@7.1.2/dist/mermaid.min.js"></script><script>window.mermaid&&mermaid.initialize({theme:"forest"})</script></footer></div><div id="bottom-bar" class="post-bottom-bar" data-behavior="5"><div class="post-actions-wrap"><nav><ul class="post-actions post-action-nav"><li class="post-action"><a class="post-action-btn btn btn--default tooltip--top" href="/2021%E5%B9%B4%E5%BA%A6%E6%80%BB%E7%BB%93/" data-tooltip="2021å¹´åº¦æ€»ç»“" aria-label="ä¸Šä¸€ç¯‡: 2021å¹´åº¦æ€»ç»“"><i class="fa fa-angle-left" aria-hidden="true"></i> <span class="hide-xs hide-sm text-small icon-ml">ä¸Šä¸€ç¯‡</span></a></li><li class="post-action"><a class="post-action-btn btn btn--default tooltip--top" href="/shiro-%E6%A6%82%E8%BF%B0/" data-tooltip="Shiro æ¦‚è¿°" aria-label="ä¸‹ä¸€ç¯‡: Shiro æ¦‚è¿°"><span class="hide-xs hide-sm text-small icon-mr">ä¸‹ä¸€ç¯‡</span> <i class="fa fa-angle-right" aria-hidden="true"></i></a></li></ul></nav><ul class="post-actions post-action-share"><li class="post-action hide-lg hide-md hide-sm"><a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Diesen Beitrag teilen"><i class="fa fa-share-alt" aria-hidden="true"></i></a></li><li class="post-action"><a class="post-action-btn btn btn--default" href="#table-of-contents" aria-label="ç›®å½•"><i class="fa fa-list" aria-hidden="true"></i></a></li></ul></div></div></div><div id="about"><div id="about-card"><div id="about-btn-close"><i class="fa fa-times"></i></div><img id="about-card-picture" src="/assets/images/logo.png" alt="ä½œè€…çš„å›¾ç‰‡"><h4 id="about-card-name">pineapple-man</h4><div id="about-card-bio"><p>åšä¸€ä¸ªè èï¼šç«™å¾—ç¬”ç›´ï¼Œå¤´æˆ´ç‹å† ï¼Œå†…å¿ƒç”œç¾</p></div><div id="about-card-job"><i class="fa fa-briefcase"></i><br><p>åˆšæ¯•ä¸šå°±å¤±ä¸š</p></div><div id="about-card-location"><i class="fa fa-map-marker-alt"></i><br>è¥¿å®‰</div></div></div><div id="cover" style="background-image:url(/assets/images/cover-v1.2.0.jpg)"></div><script src="/assets/js/script-kcoiyt1nxfue7qgcpkrcixymglcc3cuxeg98fy01hqww4nblnhd2ees6j6yc.min.js"></script></body></html>